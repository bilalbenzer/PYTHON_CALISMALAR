(()=>{var of=Object.defineProperty;var i=(N,x)=>of(N,"name",{value:x,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[1436],{23322:(N,x,u)=>{"use strict";var L=u(77691);const T=i((t,e,n)=>{if(!(0,L.CD)(t,e))return-1/0;const o=(0,L.Gs)(t,e);return o<n?-1/0:o},"getScore"),D=i((t,e,n)=>{t.innerHTML="";let o=0;for(const s of(0,L.m7)(e,n)){n.slice(o,s)!==""&&t.appendChild(document.createTextNode(n.slice(o,s))),o=s+1;const a=document.createElement("mark");a.textContent=n[s],t.appendChild(a)}t.appendChild(document.createTextNode(n.slice(o)))},"highlightElement"),M=new WeakMap,y=new WeakMap,m=new WeakMap,h=i(t=>{if(!m.has(t)&&t instanceof HTMLElement){const e=(t.getAttribute("data-value")||t.textContent||"").trim();return m.set(t,e),e}return m.get(t)||""},"getTextCache");class g extends HTMLElement{connectedCallback(){const e=this.querySelector("ul");if(!e)return;const n=new Set(e.querySelectorAll("li")),o=this.querySelector("input");o instanceof HTMLInputElement&&o.addEventListener("input",()=>{this.value=o.value});const s=new MutationObserver(a=>{let c=!1;for(const l of a)if(l.type==="childList"&&l.addedNodes.length){for(const f of l.addedNodes)if(f instanceof HTMLLIElement&&!n.has(f)){const p=h(f);c=c||(0,L.CD)(this.value,p),n.add(f)}}c&&this.sort()});s.observe(e,{childList:!0});const r={handler:s,items:n,lazyItems:new Map,timer:null};y.set(this,r)}disconnectedCallback(){const e=y.get(this);e&&(e.handler.disconnect(),y.delete(this))}addLazyItems(e,n){const o=y.get(this);if(!o)return;const{lazyItems:s}=o,{value:r}=this;let a=!1;for(const c of e)s.set(c,n),a=a||Boolean(r)&&(0,L.CD)(r,c);a&&this.sort()}sort(){const e=M.get(this);e&&(e.aborted=!0);const n={aborted:!1};M.set(this,n);const{minScore:o,markSelector:s,maxMatches:r,value:a}=this,c=y.get(this);if(!c||!this.dispatchEvent(new CustomEvent("fuzzy-list-will-sort",{cancelable:!0,detail:a})))return;const{items:l,lazyItems:f}=c,p=this.hasAttribute("mark-selector"),S=this.querySelector("ul");if(!S)return;const j=[];if(a){for(const k of l){const H=h(k),B=T(a,H,o);B!==-1/0&&j.push({item:k,score:B})}for(const[k,H]of f){const B=T(a,k,o);B!==-1/0&&j.push({text:k,render:H,score:B})}j.sort((k,H)=>H.score-k.score).splice(r)}else{let k=j.length;for(const H of l){if(k>=r)break;j.push({item:H,score:1}),k+=1}for(const[H,B]of f){if(k>=r)break;j.push({text:H,render:B,score:1}),k+=1}}requestAnimationFrame(()=>{if(n.aborted)return;const k=S.querySelector('input[type="radio"]:checked');S.innerHTML="";let H=0;const B=i(()=>{if(n.aborted)return;const Z=Math.min(j.length,H+100),Q=document.createDocumentFragment();for(let U=H;U<Z;U+=1){const F=j[U];let et=null;if("render"in F&&"text"in F){const{render:vt,text:Ot}=F;et=vt(Ot),l.add(et),m.set(et,Ot),f.delete(Ot)}else"item"in F&&(et=F.item);et instanceof HTMLElement&&(p&&D(s&&et.querySelector(s)||et,p?a:"",h(et)),Q.appendChild(et))}H=Z;let z=!1;if(k instanceof HTMLInputElement)for(const U of Q.querySelectorAll('input[type="radio"]:checked'))U instanceof HTMLInputElement&&U.value!==k.value&&(U.checked=!1,z=!0);if(S.appendChild(Q),k&&z&&k.dispatchEvent(new Event("change",{bubbles:!0})),Z<j.length)requestAnimationFrame(B);else{S.hidden=j.length===0;const U=this.querySelector("[data-fuzzy-list-show-on-empty]");U&&(U.hidden=j.length>0),this.dispatchEvent(new CustomEvent("fuzzy-list-sorted",{detail:j.length}))}},"nextBatch");B()})}get value(){return this.getAttribute("value")||""}set value(e){this.setAttribute("value",e)}get markSelector(){return this.getAttribute("mark-selector")||""}set markSelector(e){e?this.setAttribute("mark-selector",e):this.removeAttribute("mark-selector")}get minScore(){return Number(this.getAttribute("min-score")||0)}set minScore(e){Number.isNaN(e)||this.setAttribute("min-score",String(e))}get maxMatches(){return Number(this.getAttribute("max-matches")||1/0)}set maxMatches(e){Number.isNaN(e)||this.setAttribute("max-matches",String(e))}static get observedAttributes(){return["value","mark-selector","min-score","max-matches"]}attributeChangedCallback(e,n,o){if(n===o)return;const s=y.get(this);!s||(s.timer&&window.clearTimeout(s.timer),s.timer=window.setTimeout(()=>this.sort(),100))}}i(g,"FuzzyListElement");const E=g;window.customElements.get("fuzzy-list")||(window.FuzzyListElement=g,window.customElements.define("fuzzy-list",g));var w=i((t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},"__accessCheck"),b=i((t,e,n)=>(w(t,e,"read from private field"),n?n.call(t):e.get(t)),"__privateGet"),A=i((t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},"__privateAdd"),q=i((t,e,n,o)=>(w(t,e,"write to private field"),o?o.call(t,n):e.set(t,n),n),"__privateSet"),O,$,nt,ot,ht,pt,dt;class Ct extends HTMLElement{constructor(){super(...arguments);A(this,O,!1),A(this,$,new Set),A(this,nt,new Map),A(this,ot,1/0),A(this,ht,new Map),A(this,pt,new Map),A(this,dt,0)}static get observedAttributes(){return["data-updating"]}get updating(){return this.getAttribute("data-updating")==="lazy"?"lazy":"eager"}set updating(e){this.setAttribute("data-updating",e)}get size(){return b(this,$).size}get range(){const e=this.getBoundingClientRect().height,{scrollTop:n}=this,o=`${n}-${e}`;if(b(this,ht).has(o))return b(this,ht).get(o);let s=0,r=0,a=0,c=0;const l=b(this,nt);for(const f of b(this,$)){const p=l.get(f)||b(this,ot);if(a+p<n)a+=p,s+=1,r+=1;else if(c-p<e)c+=p,r+=1;else if(c>=e)break}return[s,r]}attributeChangedCallback(e,n,o){if(n===o||!this.isConnected)return;const s=e==="data-updating"&&o==="eager",r=e==="data-sorted"&&this.hasAttribute("data-sorted");(s||r)&&this.update()}connectedCallback(){this.addEventListener("scroll",()=>this.update()),this.updateSync=this.updateSync.bind(this)}update(){b(this,dt)&&cancelAnimationFrame(b(this,dt)),!b(this,O)&&this.hasAttribute("data-sorted")?q(this,dt,requestAnimationFrame(()=>{this.dispatchEvent(new CustomEvent("virtual-list-sort",{cancelable:!0}))&&this.sort()})):q(this,dt,requestAnimationFrame(this.updateSync))}renderItem(e){const n={item:e,fragment:document.createDocumentFragment()};return this.dispatchEvent(new CustomEvent("virtual-list-render-item",{detail:n})),n.fragment.children[0]}recalculateHeights(e){const n=this.querySelector("ul, ol, tbody");n&&(n.append(this.renderItem(e)),q(this,ot,n.children[0].getBoundingClientRect().height),b(this,nt).set(e,b(this,ot)),n.replaceChildren())}updateSync(){const e=this.querySelector("ul, ol");if(!e)return;const[n,o]=this.range;if(o<n||!this.dispatchEvent(new CustomEvent("virtual-list-update",{cancelable:!0})))return;const r=new Map,a=b(this,pt);let c=-1,l=!0,f=0;for(const H of b(this,$)){if(c===-1&&(!Number.isFinite(b(this,ot))||b(this,ot)===0)&&this.recalculateHeights(H),c+=1,c<n){f+=b(this,nt).get(H)||b(this,ot);continue}if(c>o){l=!1;break}let B=null;if(a.has(H))B=a.get(H);else{if(B=this.renderItem(H),!B)continue;a.set(H,B)}r.set(H,B)}e.replaceChildren(...r.values()),e.style.paddingTop=`${f}px`;const p=this.size*b(this,ot);e.style.height=`${p||0}px`;let S=!1;const j=this.getBoundingClientRect().bottom;for(const[H,B]of r){const{height:Z,bottom:Q}=B.getBoundingClientRect();S=S||Q>=j,b(this,nt).set(H,Z)}if(!l&&this.size>r.size&&!S)return b(this,ht).delete(`${this.scrollTop}-${this.getBoundingClientRect().height}`),this.update();this.dispatchEvent(new CustomEvent("virtual-list-updated"))}has(e){return b(this,$).has(e)}add(e){return b(this,$).add(e),q(this,O,!1),Number.isFinite(b(this,ot))||this.recalculateHeights(e),this.updating==="eager"&&this.update(),this}delete(e){const n=b(this,$).delete(e);return q(this,O,!1),b(this,nt).delete(e),this.updating==="eager"&&this.update(),n}clear(){b(this,$).clear(),b(this,nt).clear(),q(this,ot,1/0),q(this,O,!0),this.updating==="eager"&&this.update()}forEach(e,n){for(const o of this)e.call(n,o,o,this)}entries(){return b(this,$).entries()}values(){return b(this,$).values()}keys(){return b(this,$).keys()}[Symbol.iterator](){return b(this,$)[Symbol.iterator]()}sort(e){return q(this,$,new Set(Array.from(this).sort(e))),q(this,O,!0),this.updating==="eager"&&this.update(),this}}i(Ct,"VirtualListElement"),O=new WeakMap,$=new WeakMap,nt=new WeakMap,ot=new WeakMap,ht=new WeakMap,pt=new WeakMap,dt=new WeakMap;const K=null;window.customElements.get("virtual-list")||(window.VirtualListElement=Ct,window.customElements.define("virtual-list",Ct));var G=i((t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},"virtual_filter_input_element_accessCheck"),C=i((t,e,n)=>(G(t,e,"read from private field"),n?n.call(t):e.get(t)),"virtual_filter_input_element_privateGet"),I=i((t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},"virtual_filter_input_element_privateAdd"),_=i((t,e,n,o)=>(G(t,e,"write to private field"),o?o.call(t,n):e.set(t,n),n),"virtual_filter_input_element_privateSet"),W,Y,ct,wt,Ft,it;function Zt(t){return Boolean(t instanceof Set||t&&typeof t=="object"&&"size"in t&&"add"in t&&"delete"in t&&"clear"in t)}i(Zt,"isSetAlike");class Cn extends HTMLElement{constructor(){super(...arguments);I(this,W,void 0),I(this,Y,0),I(this,ct,null),I(this,wt,void 0),I(this,Ft,new Set),I(this,it,null),this.filter=(e,n)=>String(e).includes(n)}static get observedAttributes(){return["src","loading","data-property","aria-owns"]}get filtered(){if(C(this,it))return C(this,it);if(this.hasAttribute("aria-owns")){const e=this.ownerDocument.getElementById(this.getAttribute("aria-owns")||"");e&&Zt(e)&&_(this,it,e)}return C(this,it)||_(this,it,new Set)}set filtered(e){_(this,it,e)}get input(){return this.querySelector("input, textarea")}get src(){return this.getAttribute("src")||""}set src(e){this.setAttribute("src",e)}get loading(){return this.getAttribute("loading")==="lazy"?"lazy":"eager"}set loading(e){this.setAttribute("loading",e)}get accept(){return this.getAttribute("accept")||""}set accept(e){this.setAttribute("accept",e)}get property(){return this.getAttribute("data-property")||""}set property(e){this.setAttribute("data-property",e)}reset(){this.filtered.clear(),_(this,Ft,new Set)}clear(){!this.input||(this.input.value="",this.input.dispatchEvent(new Event("input")))}attributeChangedCallback(e,n,o){const s=this.isConnected&&this.src,r=this.loading==="eager",a=e==="src"||e==="loading"||e==="accept"||e==="data-property",c=e==="src"||e==="data-property",l=n!==o;c&&l&&(_(this,ct,null),C(this,wt)&&clearTimeout(C(this,wt))),s&&r&&a&&l?(cancelAnimationFrame(C(this,Y)),_(this,Y,requestAnimationFrame(()=>this.load()))):e==="aria-owns"&&_(this,it,null)}connectedCallback(){this.src&&this.loading==="eager"&&(cancelAnimationFrame(C(this,Y)),_(this,Y,requestAnimationFrame(()=>this.load())));const e=this.input;if(!e)return;const n=this.getAttribute("aria-owns");n!==null&&this.attributeChangedCallback("aria-owns","",n),e.setAttribute("autocomplete","off"),e.setAttribute("spellcheck","false"),this.src&&this.loading==="lazy"&&(document.activeElement===e?this.load():e.addEventListener("focus",()=>{this.load()},{once:!0})),e.addEventListener("input",this)}disconnectedCallback(){var e;(e=this.input)==null||e.removeEventListener("input",this)}handleEvent(e){var n,o;e.type==="input"&&(C(this,wt)&&clearTimeout(C(this,wt)),_(this,wt,window.setTimeout(()=>this.filterItems(),((o=(n=this.input)==null?void 0:n.value)==null?void 0:o.length)||0<3?300:0)))}async load(){var e;(e=C(this,W))==null||e.abort(),_(this,W,new AbortController);const{signal:n}=C(this,W);if(!this.src)throw new Error("missing src");if(await new Promise(o=>setTimeout(o,0)),!n.aborted){this.dispatchEvent(new Event("loadstart"));try{const o=await this.fetch(this.request(),{signal:n});if(location.origin+this.src!==o.url)return;if(!o.ok)throw new Error(`Failed to load resource: the server responded with a status of ${o.status}`);_(this,Ft,new Set((await o.json())[this.property])),_(this,ct,null),this.dispatchEvent(new Event("loadend"))}catch(o){if(n.aborted){this.dispatchEvent(new Event("loadend"));return}throw(async()=>(this.dispatchEvent(new Event("error")),this.dispatchEvent(new Event("loadend"))))(),o}this.filtered.clear(),this.filterItems()}}request(){return new Request(this.src,{method:"GET",credentials:"same-origin",headers:{Accept:this.accept||"application/json"}})}fetch(e,n){return fetch(e,n)}filterItems(){var e,n;const o=(n=(e=this.input)==null?void 0:e.value.trim())!=null?n:"",s=C(this,ct);if(_(this,ct,o),o===s)return;this.dispatchEvent(new CustomEvent("virtual-filter-input-filter"));let r;s&&o.includes(s)?r=this.filtered:(r=C(this,Ft),this.filtered.clear());for(const a of r)this.filter(a,o)?this.filtered.add(a):this.filtered.delete(a);this.dispatchEvent(new CustomEvent("virtual-filter-input-filtered"))}}i(Cn,"VirtualFilterInputElement"),W=new WeakMap,Y=new WeakMap,ct=new WeakMap,wt=new WeakMap,Ft=new WeakMap,it=new WeakMap;const sf=null;window.customElements.get("virtual-filter-input")||(window.VirtualFilterInputElement=Cn,window.customElements.define("virtual-filter-input",Cn));var _o=i((t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},"marked_text_element_accessCheck"),Ut=i((t,e,n)=>(_o(t,e,"read from private field"),n?n.call(t):e.get(t)),"marked_text_element_privateGet"),Ie=i((t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},"marked_text_element_privateAdd"),Re=i((t,e,n,o)=>(_o(t,e,"write to private field"),o?o.call(t,n):e.set(t,n),n),"marked_text_element_privateSet"),De,Ne,Jt,ue;function wi(t,e){const n=[];let o=0;for(let s=0;s<t.length;s++){const r=t[s],a=e.indexOf(r,o);if(a===-1)return n;o=a+1,n.push(a)}return n}i(wi,"defaultPositions");class _e extends HTMLElement{constructor(){super(...arguments);Ie(this,De,""),Ie(this,Ne,""),Ie(this,Jt,void 0),Ie(this,ue,void 0)}get query(){return this.ownerInput?this.ownerInput.value:this.getAttribute("query")||""}set query(e){this.setAttribute("query",e)}get ownerInput(){const e=this.ownerDocument.getElementById(this.getAttribute("data-owner-input")||"");return e instanceof HTMLInputElement?e:null}connectedCallback(){var e;this.handleEvent(),(e=this.ownerInput)==null||e.addEventListener("input",this),Re(this,Jt,new MutationObserver(()=>this.handleEvent()))}handleEvent(){Ut(this,ue)&&cancelAnimationFrame(Ut(this,ue)),Re(this,ue,requestAnimationFrame(()=>this.mark()))}disconnectedCallback(){var e;(e=this.ownerInput)==null||e.removeEventListener("input",this),Ut(this,Jt).disconnect()}mark(){const e=this.textContent||"",n=this.query;if(e===Ut(this,De)&&n===Ut(this,Ne))return;Re(this,De,e),Re(this,Ne,n),Ut(this,Jt).disconnect();let o=0;const s=document.createDocumentFragment();for(const r of(this.positions||wi)(n,e)){if(Number(r)!==r||r<o||r>e.length)continue;e.slice(o,r)!==""&&s.appendChild(document.createTextNode(e.slice(o,r))),o=r+1;const c=document.createElement("mark");c.textContent=e[r],s.appendChild(c)}s.appendChild(document.createTextNode(e.slice(o))),this.replaceChildren(s),Ut(this,Jt).observe(this,{attributes:!0,childList:!0,subtree:!0})}}i(_e,"MarkedTextElement"),De=new WeakMap,Ne=new WeakMap,Jt=new WeakMap,ue=new WeakMap,_e.observedAttributes=["query","data-owner-input"];const rf=null;window.customElements.get("marked-text")||(window.MarkedTextElement=_e,window.customElements.define("marked-text",_e));var P=u(93673),Ei=Object.defineProperty,Li=Object.getOwnPropertyDescriptor,He=i((t,e,n,o)=>{for(var s=o>1?void 0:o?Li(e,n):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(s=(o?a(e,n,s):a(s))||s);return o&&s&&Ei(e,n,s),s},"__decorateClass");let de=i(class extends HTMLElement{updateURL(t){const e=t.currentTarget,n=e.getAttribute("data-url")||"";if(this.helpField.value=n,e.matches(".js-git-protocol-clone-url"))for(const o of this.helpTexts)o.textContent=n;for(const o of this.cloneURLButtons)o.classList.remove("selected");e.classList.add("selected")}},"GitCloneHelpElement");He([P.fA],de.prototype,"helpField",2),He([P.GO],de.prototype,"helpTexts",2),He([P.GO],de.prototype,"cloneURLButtons",2),de=He([P.Ih],de);var Be=u(58570);class Oe extends HTMLElement{connectedCallback(){this.addEventListener("input",Ho)}disconnectedCallback(){this.removeEventListener("input",Ho)}}i(Oe,"PasswordStrengthElement"),window.customElements.get("password-strength")||(window.PasswordStrengthElement=Oe,window.customElements.define("password-strength",Oe));function Ho(t){const e=t.currentTarget;if(!(e instanceof Oe))return;const n=t.target;if(!(n instanceof HTMLInputElement))return;const o=n.form;if(!(o instanceof HTMLFormElement))return;const s=Si(n.value,{minimumCharacterCount:Number(e.getAttribute("minimum-character-count")),passphraseLength:Number(e.getAttribute("passphrase-length"))});if(s.valid){n.setCustomValidity("");const r=e.querySelector("dl.form-group");r&&(r.classList.remove("errored"),r.classList.add("successed"))}else n.setCustomValidity(e.getAttribute("invalid-message")||"Invalid");ji(e,s),(0,Be.G)(o)}i(Ho,"onInput");function Si(t,e){const n={valid:!1,hasMinimumCharacterCount:t.length>=e.minimumCharacterCount,hasMinimumPassphraseLength:e.passphraseLength!==0&&t.length>=e.passphraseLength,hasLowerCase:/[a-z]/.test(t),hasNumber:/\d/.test(t)};return n.valid=n.hasMinimumPassphraseLength||n.hasMinimumCharacterCount&&n.hasLowerCase&&n.hasNumber,n}i(Si,"validatePassword");function ji(t,e){var n,o;const s=t.querySelector("[data-more-than-n-chars]"),r=t.querySelector("[data-min-chars]"),a=t.querySelector("[data-number-requirement]"),c=t.querySelector("[data-letter-requirement]"),l=((n=t.getAttribute("error-class"))==null?void 0:n.split(" ").filter(p=>p.length>0))||[],f=((o=t.getAttribute("pass-class"))==null?void 0:o.split(" ").filter(p=>p.length>0))||[];for(const p of[s,r,a,c])p==null||p.classList.remove(...l,...f);if(e.hasMinimumPassphraseLength&&s)s.classList.add(...f);else if(e.valid)r.classList.add(...f),a.classList.add(...f),c.classList.add(...f);else{const p=e.hasMinimumCharacterCount?f:l,S=e.hasNumber?f:l,j=e.hasLowerCase?f:l;s==null||s.classList.add(...l),r.classList.add(...p),a.classList.add(...S),c.classList.add(...j)}}i(ji,"highlightPasswordStrengthExplainer");var af=u(62783),cf=u(57125),Bo=u(61075);class kn extends Bo.Z{async fetch(e,n=1e3){const o=await super.fetch(e);return o.status===202?(await new Promise(s=>setTimeout(s,n)),this.fetch(e,n*1.5)):o}}i(kn,"PollIncludeFragmentElement"),window.customElements.get("poll-include-fragment")||(window.PollIncludeFragmentElement=kn,window.customElements.define("poll-include-fragment",kn));var Ti=u(59048);class xn extends Ti.nJ{connectedCallback(){fe.push(this),$e||(Oo(),$e=window.setInterval(Oo,1e3))}disconnectedCallback(){const e=fe.indexOf(this);e!==-1&&fe.splice(e,1),fe.length||(window.clearInterval($e),$e=void 0)}getFormattedDate(){const e=this.date;if(!e)return;const n=new Date().getTime()-e.getTime(),o=Math.floor(n/1e3),s=Math.floor(o/60),r=Math.floor(s/60),a=Math.floor(r/24),c=o-s*60,l=s-r*60,f=r-a*24;return s<1?this.applyPrecision([`${o}s`]):r<1?this.applyPrecision([`${s}m`,`${c}s`]):a<1?this.applyPrecision([`${r}h`,`${l}m`,`${c}s`]):this.applyPrecision([`${a}d`,`${f}h`,`${l}m`,`${c}s`])}applyPrecision(e){const n=Number(this.getAttribute("data-precision")||e.length);return e.slice(0,n).join(" ")}}i(xn,"PreciseTimeAgoElement");const fe=[];let $e;function Oo(){for(const t of fe)t.textContent=t.getFormattedDate()||""}i(Oo,"updateNowElements"),window.customElements.get("precise-time-ago")||(window.PreciseTimeAgoElement=xn,window.customElements.define("precise-time-ago",xn));var $o=u(45614);const Ai=/\s|\(|\[/;function Ci(t,e,n){const o=t.lastIndexOf(e,n-1);if(o===-1||t.lastIndexOf(" ",n-1)>o)return;const r=t[o-1];return r&&!Ai.test(r)?void 0:{word:t.substring(o+e.length,n),position:o+e.length,beginningOfLine:ki(r)}}i(Ci,"keyword");const ki=i(t=>t===void 0||/\n/.test(t),"isBeginningOfLine"),xi=["position:absolute;","overflow:auto;","word-wrap:break-word;","top:0px;","left:-9999px;"],Fo=["box-sizing","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","max-height","min-height","padding-bottom","padding-left","padding-right","padding-top","border-bottom","border-left","border-right","border-top","text-decoration","text-indent","text-transform","width","word-spacing"],Uo=new WeakMap;function Mi(t,e){const n=t.nodeName.toLowerCase();if(n!=="textarea"&&n!=="input")throw new Error("expected textField to a textarea or input");let o=Uo.get(t);if(o&&o.parentElement===t.parentElement)o.innerHTML="";else{o=document.createElement("div"),Uo.set(t,o);const c=window.getComputedStyle(t),l=xi.slice(0);n==="textarea"?l.push("white-space:pre-wrap;"):l.push("white-space:nowrap;");for(let f=0,p=Fo.length;f<p;f++){const S=Fo[f];l.push(`${S}:${c.getPropertyValue(S)};`)}o.style.cssText=l.join(" ")}const s=document.createElement("span");s.style.cssText="position: absolute;",s.innerHTML="&nbsp;";let r,a;if(typeof e=="number"){let c=t.value.substring(0,e);c&&(r=document.createTextNode(c)),c=t.value.substring(e),c&&(a=document.createTextNode(c))}else{const c=t.value;c&&(r=document.createTextNode(c))}if(r&&o.appendChild(r),o.appendChild(s),a&&o.appendChild(a),!o.parentElement){if(!t.parentElement)throw new Error("textField must have a parentElement to mirror");t.parentElement.insertBefore(o,t)}return o.scrollTop=t.scrollTop,o.scrollLeft=t.scrollLeft,{mirror:o,marker:s}}i(Mi,"textFieldMirror");function qi(t,e=t.selectionEnd){const{mirror:n,marker:o}=Mi(t,e),s=n.getBoundingClientRect(),r=o.getBoundingClientRect();return setTimeout(()=>{n.remove()},5e3),{top:r.top-s.top,left:r.left-s.left}}i(qi,"textFieldSelectionPosition");const Yt=new WeakMap;class Wo{constructor(e,n){this.expander=e,this.input=n,this.combobox=null,this.menu=null,this.match=null,this.justPasted=!1,this.oninput=this.onInput.bind(this),this.onpaste=this.onPaste.bind(this),this.onkeydown=this.onKeydown.bind(this),this.oncommit=this.onCommit.bind(this),this.onmousedown=this.onMousedown.bind(this),this.onblur=this.onBlur.bind(this),this.interactingWithMenu=!1,n.addEventListener("paste",this.onpaste),n.addEventListener("input",this.oninput),n.addEventListener("keydown",this.onkeydown),n.addEventListener("blur",this.onblur)}destroy(){this.input.removeEventListener("paste",this.onpaste),this.input.removeEventListener("input",this.oninput),this.input.removeEventListener("keydown",this.onkeydown),this.input.removeEventListener("blur",this.onblur)}activate(e,n){this.input===document.activeElement&&this.setMenu(e,n)}deactivate(){const e=this.menu,n=this.combobox;return!e||!n?!1:(this.menu=null,this.combobox=null,e.removeEventListener("combobox-commit",this.oncommit),e.removeEventListener("mousedown",this.onmousedown),n.destroy(),e.remove(),!0)}setMenu(e,n){this.deactivate(),this.menu=n,n.id||(n.id=`text-expander-${Math.floor(Math.random()*1e5).toString()}`),this.expander.append(n);const o=n.querySelector(".js-slash-command-menu-items");o?this.combobox=new $o.Z(this.input,o):this.combobox=new $o.Z(this.input,n);const{top:s,left:r}=qi(this.input,e.position),a=parseInt(window.getComputedStyle(this.input).fontSize);n.style.top=`${s+a}px`,n.style.left=`${r}px`,this.combobox.start(),n.addEventListener("combobox-commit",this.oncommit),n.addEventListener("mousedown",this.onmousedown),this.combobox.navigate(1)}setValue(e){if(e==null)return;const n=this.match;if(!n)return;const o=this.input.value.substring(0,n.position-n.key.length),s=this.input.value.substring(n.position+n.text.length);let{cursor:r,value:a}=this.replaceCursorMark(e);a=(a==null?void 0:a.length)===0?a:`${a} `,this.input.value=o+a+s,this.deactivate(),this.input.focus(),r=o.length+(r||a.length),this.input.selectionStart=r,this.input.selectionEnd=r}replaceCursorMark(e){const n=/%cursor%/gm,o=n.exec(e);return o?{cursor:o.index,value:e.replace(n,"")}:{cursor:null,value:e}}onCommit({target:e}){const n=e;if(!(n instanceof HTMLElement)||!this.combobox)return;const o=this.match;if(!o)return;const s={item:n,key:o.key,value:null};!this.expander.dispatchEvent(new CustomEvent("text-expander-value",{cancelable:!0,detail:s}))||s.value&&this.setValue(s.value)}onBlur(){if(this.interactingWithMenu){this.interactingWithMenu=!1;return}this.deactivate()}onPaste(){this.justPasted=!0}async delay(e){return new Promise(n=>setTimeout(n,e))}async onInput(){if(this.justPasted){this.justPasted=!1;return}const e=this.findMatch();if(e){if(this.match=e,await this.delay(this.appropriateDelay(this.match)),this.match!==e)return;const n=await this.notifyProviders(e);if(!this.match)return;n?this.activate(e,n):this.deactivate()}else this.match=null,this.deactivate()}appropriateDelay(e){return e.beginningOfLine||e.text!==""?0:250}findMatch(){const e=this.input.selectionEnd,n=this.input.value;for(const o of this.expander.keys){const s=Ci(n,o,e);if(s)return{text:s.word,key:o,position:s.position,beginningOfLine:s.beginningOfLine}}}async notifyProviders(e){const n=[],o=i(c=>n.push(c),"provide");return this.expander.dispatchEvent(new CustomEvent("text-expander-change",{cancelable:!0,detail:{provide:o,text:e.text,key:e.key}}))?(await Promise.all(n)).filter(c=>c.matched).map(c=>c.fragment)[0]:void 0}onMousedown(){this.interactingWithMenu=!0}onKeydown(e){e.key==="Escape"&&this.deactivate()&&(e.stopImmediatePropagation(),e.preventDefault())}}i(Wo,"SlashCommandExpander");class Mn extends HTMLElement{get keys(){const e=this.getAttribute("keys");return e?e.split(" "):[]}connectedCallback(){const e=this.querySelector('input[type="text"], textarea');if(!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))return;const n=new Wo(this,e);Yt.set(this,n)}disconnectedCallback(){const e=Yt.get(this);!e||(e.destroy(),Yt.delete(this))}setValue(e){const n=Yt.get(this);!n||n.setValue(e)}setMenu(e,n=!1){const o=Yt.get(this);!o||!o.match||(n&&(o.interactingWithMenu=!0),o.setMenu(o.match,e))}closeMenu(){const e=Yt.get(this);!e||e.setValue("")}isLoading(){const e=this.getElementsByClassName("js-slash-command-expander-loading")[0];if(e){const n=e.cloneNode(!0);n.classList.remove("d-none"),this.setMenu(n)}}showError(){const e=this.getElementsByClassName("js-slash-command-expander-error")[0];if(e){const n=e.cloneNode(!0);n.classList.remove("d-none"),this.setMenu(n)}}}i(Mn,"SlashCommandExpanderElement"),window.customElements.get("slash-command-expander")||(window.SlashCommandExpanderElement=Mn,window.customElements.define("slash-command-expander",Mn));var me=u(38702),d=u(11427);(0,d.on)("deprecatedAjaxSend","[data-remote]",function(t){t.currentTarget===t.target&&(t.defaultPrevented||t.currentTarget.classList.add("loading"))}),(0,d.on)("deprecatedAjaxComplete","[data-remote]",function(t){t.currentTarget===t.target&&t.currentTarget.classList.remove("loading")});var V=u(66789);(0,V.AC)("form.js-ajax-pagination, .js-ajax-pagination form",async function(t,e){const n=t.closest(".js-ajax-pagination");let o;try{o=await e.html()}catch(s){if(s.response&&s.response.status===404){n.remove();return}else throw s}n.replaceWith(o.html),(0,d.f)(t,"page:loaded")});var Qt=u(19145);const Pi="analytics.click";(0,d.on)("click","[data-analytics-event]",t=>{const n=t.currentTarget.getAttribute("data-analytics-event");if(!n)return;const o=JSON.parse(n);(0,Qt.q)(Pi,o)});var ft=u(37596);document.addEventListener("pjax:start",function(){(0,ft.x)("Loading page")}),document.addEventListener("pjax:error",function(){(0,ft.x)("Loading failed")}),document.addEventListener("pjax:end",function(){(0,ft.x)("Loading complete")});var v=u(30762);const zo=new WeakMap;(0,v.N7)("auto-check",function(t){if(t.classList.contains("js-prevent-default-behavior"))return;const e=t.querySelector("input");if(!e)return;const n=e.closest(".form-group")||t,o=e.form;let s;function r(){return s||(s=`input-check-${(Math.random()*1e4).toFixed(0)}`),s}i(r,"generateId");const a=e.getAttribute("aria-describedby");e.addEventListener("focusout:delay",()=>{e.setAttribute("aria-describedby",[s,a].join(" "))});const c=n.querySelector("p.note");c&&(c.id||(c.id=r()),zo.set(c,c.innerHTML)),t.addEventListener("loadstart",()=>{qn(e,n),n.classList.add("is-loading"),e.classList.add("is-autocheck-loading"),(0,Be.G)(o)}),t.addEventListener("loadend",()=>{n.classList.remove("is-loading"),e.classList.remove("is-autocheck-loading")}),e.addEventListener("auto-check-success",async l=>{e.classList.add("is-autocheck-successful"),n.classList.add("successed"),(0,Be.G)(o);const{response:f}=l.detail;if(!f)return;const p=await f.text();if(!!p){if(c instanceof HTMLElement)c.innerHTML=p,(0,ft.N)(c);else{const S=f.status===200,j=n.tagName==="DL"?"dd":"div",k=document.createElement(j);k.id=r(),k.classList.add(S?"success":"warning"),k.innerHTML=p,n.append(k),n.classList.add(S?"successed":"warn"),(0,ft.N)(k),S&&(k.hidden=document.activeElement!==e)}(0,d.f)(e,"auto-check-message-updated")}}),e.addEventListener("auto-check-error",async l=>{e.classList.add("is-autocheck-errored"),n.classList.add("errored"),(0,Be.G)(o);const{response:f}=l.detail;if(!f)return;const p=await f.text();if(c instanceof HTMLElement)c.innerHTML=p||"Something went wrong",(0,ft.N)(c);else{const S=n.tagName==="DL"?"dd":"div",j=document.createElement(S);j.id=r(),j.classList.add("error"),j.innerHTML=p||"Something went wrong",n.append(j),(0,ft.N)(j)}}),e.addEventListener("input",()=>{e.removeAttribute("aria-describedby"),e.value||qn(e,n)}),e.addEventListener("blur",()=>{const l=n.querySelector(".success");l&&(l.hidden=!0)}),e.addEventListener("focus",()=>{const l=n.querySelector(".success");l&&(l.hidden=!1)}),o.addEventListener("reset",()=>{qn(e,n)})});function qn(t,e){var n,o,s,r,a,c;e.classList.remove("is-loading","successed","errored","warn"),t.classList.remove("is-autocheck-loading","is-autocheck-successful","is-autocheck-errored");const l=e.querySelector("p.note");if(l){const f=zo.get(l);f&&(l.innerHTML=f)}e.tagName==="DL"?((n=e.querySelector("dd.error"))==null||n.remove(),(o=e.querySelector("dd.warning"))==null||o.remove(),(s=e.querySelector("dd.success"))==null||s.remove()):((r=e.querySelector("div.error"))==null||r.remove(),(a=e.querySelector("div.warning"))==null||a.remove(),(c=e.querySelector("div.success"))==null||c.remove())}i(qn,"autocheck_reset");var Ii=u(98416);(0,v.N7)("auto-complete",function(t){t.addEventListener("loadstart",()=>t.classList.add("is-auto-complete-loading")),t.addEventListener("loadend",()=>t.classList.remove("is-auto-complete-loading"))}),(0,v.N7)("auto-complete",{constructor:Ii.Z,initialize:Ko}),(0,d.on)("auto-complete-change","auto-complete",function(t){Ko(t.currentTarget)});function Ko(t){const e=t.closest("form");if(!e)return;const n=e.querySelector(".js-auto-complete-button");n instanceof HTMLButtonElement&&(n.disabled=!t.value)}i(Ko,"toggleSubmitButton");var J=u(66997),Et=u(97683),te=u(14239);let Pn=null;(0,d.on)("submit","[data-autosearch-results-container]",async function(t){const e=t.currentTarget;if(!(e instanceof HTMLFormElement))return;t.preventDefault(),Pn==null||Pn.abort(),e.classList.add("is-sending");const n=new URL(e.action,window.location.origin),o=e.method,s=new FormData(e),r=(0,J.KL)(n,s);let a=null;o==="get"?n.search=r:a=s;const{signal:c}=Pn=new AbortController,l=new Request(n.toString(),{method:o,body:a,signal:c,headers:{Accept:"text/html","X-Requested-With":"XMLHttpRequest"}});let f;try{f=await fetch(l)}catch{}if(e.classList.remove("is-sending"),!f||!f.ok||c.aborted)return;const p=e.getAttribute("data-autosearch-results-container"),S=p?document.getElementById(p):null;S&&(S.innerHTML="",S.appendChild((0,Et.r)(document,await f.text()))),(0,te.lO)(null,"",`?${r}`)});var kt=u(54749),X=u(36108);(0,X.ZG)("input[data-autoselect], textarea[data-autoselect]",async function(t){await(0,kt.gJ)(),t.select()});var ee=u(56153),R=u(37707);(0,d.on)("change","form[data-autosubmit]",function(t){const e=t.currentTarget;(0,J.Bt)(e)}),(0,d.on)("change","input[data-autosubmit], select[data-autosubmit]",Vo);function Vo(t){const e=t.target;if(!(e instanceof HTMLInputElement)&&!(e instanceof HTMLSelectElement))return;const n=e.form;(0,J.Bt)(n)}i(Vo,"autosubmit_submit");const Ri=(0,ee.D)(Vo,300);(0,v.N7)("input[data-throttled-autosubmit]",{subscribe:t=>(0,R.RB)(t,"input",Ri)});async function Di(t){const e=t.getAttribute("data-url")||"";if(await Ni(e)){const o=t.getAttribute("data-gravatar-text");o!=null&&(t.textContent=o)}}i(Di,"detectGravatar"),(0,v.N7)(".js-detect-gravatar",function(t){Di(t)});async function Ni(t){const e=t;if(!e)return!1;try{const n=await fetch(e,{headers:{Accept:"application/json"}});return n.ok?(await n.json()).has_gravatar:!1}catch{return!1}}i(Ni,"fetchGravatarInfo");var _i=Object.defineProperty,Hi=Object.getOwnPropertyDescriptor,In=i((t,e,n,o)=>{for(var s=o>1?void 0:o?Hi(e,n):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(s=(o?a(e,n,s):a(s))||s);return o&&s&&_i(e,n,s),s},"batch_deferred_content_decorateClass");class Xo{constructor(e=50,n=30){this.elements=[],this.timer=null,this.callbacks=[],this.csrf=null,this.timeout=e,this.limit=n}push(e){if(this.timer&&(window.clearTimeout(this.timer),this.timer=null),e instanceof HTMLElement){const n=e.querySelector("[data-csrf]");n!==null&&(this.csrf=n.value)}this.elements.length>=this.limit&&this.flush(),this.elements.push(e),this.timer=window.setTimeout(()=>{this.flush()},this.timeout)}onFlush(e){this.callbacks.push(e)}async flush(){const e=this.elements.splice(0,this.limit);e.length!==0&&await Promise.all(this.callbacks.map(n=>n(e)))}}i(Xo,"AutoFlushingQueue");async function Bi(t,e){const n=await fetch(t,{method:"POST",body:e,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(n.ok){const o=await n.json(),s=new Map;for(const r in o)s.set(r,o[r]);return s}else return new Map}i(Bi,"fetchContents");const Go=new Map;let Fe=i(class extends HTMLElement{constructor(){super(...arguments);this.url=""}connectedCallback(){this.queue.push(this)}get queue(){let t=Go.get(this.url);return t||(t=this.buildAutoFlushingQueue(),Go.set(this.url,t),t)}buildAutoFlushingQueue(){const t=new Xo;return t.onFlush(async e=>{const n=new Map,o=new FormData;t.csrf!==null&&o.set("authenticity_token",t.csrf);for(const r in e){const a=e[r],c=`item-${r}`;n.set(c,a);for(const l of a.inputs)o.append(`items[${c}][${l.name}]`,l.value)}const s=await Bi(this.url,o);for(const[r,a]of s.entries())n.get(r).replaceWith((0,Et.r)(document,a))}),t}},"BatchDeferredContentElement");In([P.Lj],Fe.prototype,"url",2),In([P.GO],Fe.prototype,"inputs",2),Fe=In([P.Ih],Fe);var he=u(39579),Zo=u(84340),Ue=u(96788);let Rn=null;(0,d.on)("click",".js-org-signup-duration-change",t=>{t.preventDefault();const n=t.currentTarget.getAttribute("data-plan-duration");$i(n),Ui(n);for(const o of document.querySelectorAll(".js-seat-field"))ne(o);Oi()}),(0,d.on)("change",".js-org-signup-duration-toggle",function({currentTarget:t}){const e=document.getElementById("js-pjax-container"),n=new URL(t.getAttribute("data-url"),window.location.origin);(0,he.ZP)({url:n.toString(),container:e})});async function ne(t){const e=t.getAttribute("data-item-name")||"items",n=t.value,o=new URL(t.getAttribute("data-url"),window.location.origin),s=new URLSearchParams(o.search.slice(1)),r=s.get("plan_duration")||t.getAttribute("data-plan-duration"),a=parseInt(t.getAttribute("data-item-minimum"))||0,c=parseInt(t.getAttribute("data-item-maximum"))||r==="year"?100:300,l=parseInt(t.getAttribute("data-item-count"))||0,f=Math.max(a,parseInt(n)||0),p=f>c,S=document.querySelector(".js-downgrade-button"),j=document.getElementById("downgrade-disabled-message");S instanceof HTMLButtonElement&&(S.disabled=f===l),j instanceof HTMLElement&&S instanceof HTMLButtonElement&&(j.hidden=!S.disabled),s.append(e,f.toString()),document.querySelector(".js-transform-user")&&s.append("transform_user","1"),o.search=s.toString(),Rn==null||Rn.abort();const{signal:H}=Rn=new AbortController;let B=null;try{const Gt=await fetch(o.toString(),{signal:H,headers:{Accept:"application/json"}});if(!Gt.ok)return;B=await Gt.json()}catch{}if(H.aborted||!B)return;const Z=document.querySelector(".js-contact-us");Z&&Z.classList.toggle("d-none",!p);const Q=document.querySelector(".js-payment-summary");Q&&Q.classList.toggle("d-none",p);const z=document.querySelector(".js-submit-billing");z instanceof HTMLElement&&(z.hidden=p);const U=document.querySelector(".js-billing-section");U&&U.classList.toggle("has-removed-contents",B.free||B.is_enterprise_cloud_trial);const F=document.querySelector(".js-upgrade-info");F&&F.classList.toggle("d-none",f<=0);const et=document.querySelector(".js-downgrade-info");et&&et.classList.toggle("d-none",f>=0);const vt=document.querySelector(".js-extra-seats-line-item");vt&&vt.classList.toggle("d-none",B.no_additional_seats),document.querySelector(".js-seat-field")&&Fi(n);const qe=document.querySelector(".js-minimum-seats-disclaimer");qe&&(qe.classList.toggle("tooltipped",B.seats===5),qe.classList.toggle("tooltipped-nw",B.seats===5));const $t=B.selectors;for(const Gt in $t)for(const Pe of document.querySelectorAll(Gt))Pe.innerHTML=$t[Gt];(0,te.lO)((0,he.y0)(),"",B.url)}i(ne,"updateTotals");function Oi(){for(const t of document.querySelectorAll(".js-unit-price"))t.hidden=!t.hidden}i(Oi,"toggleDurationUnitPrices");function $i(t){const e=t==="year"?"month":"year";for(const o of document.querySelectorAll(".js-plan-duration-text"))o.innerHTML=t;for(const o of document.querySelectorAll(".unstyled-available-plan-duration-adjective"))o.innerHTML=`${t}ly`;for(const o of document.querySelectorAll(".js-org-signup-duration-change"))o.setAttribute("data-plan-duration",e);const n=document.getElementById("signup-plan-duration");n&&(n.value=t)}i($i,"updateDurationFields");function Fi(t){var e;for(const n of document.querySelectorAll(".js-seat-field")){const o=n.getAttribute("data-item-max-seats"),s=(e=n==null?void 0:n.parentNode)==null?void 0:e.querySelector(".Popover");o&&o.length?parseInt(t,10)>parseInt(o,10)?(n.classList.add("color-border-danger-emphasis"),s==null||s.removeAttribute("hidden")):(n.classList.remove("color-border-danger-emphasis"),s==null||s.setAttribute("hidden","true"),n.value=t):n.value=t}}i(Fi,"updateSeatFields");function Ui(t){for(const e of document.querySelectorAll(".js-seat-field")){const n=new URL(e.getAttribute("data-url"),window.location.origin),o=new URLSearchParams(n.search.slice(1));o.delete("plan_duration"),o.append("plan_duration",t),n.search=o.toString(),e.setAttribute("data-url",n.toString())}}i(Ui,"updateSeatFieldURLs"),(0,v.N7)(".js-addon-purchase-field",{constructor:HTMLInputElement,add(t){(0,Ue.Z)(t)&&ne(t),(0,Zo.oq)(t,function(){ne(t)})}}),(0,v.N7)(".js-addon-downgrade-field",{constructor:HTMLSelectElement,add(t){(0,Ue.Z)(t)&&ne(t),t.addEventListener("change",function(){ne(t)})}});function Wi(t){const e=document.querySelector(".js-addon-purchase-field"),n=t.target.querySelector("input:checked");if(e instanceof HTMLInputElement&&n instanceof HTMLInputElement){const o=n.getAttribute("data-upgrade-url");o&&(e.setAttribute("data-url",o),e.value="0",ne(e))}}i(Wi,"handleOrgChange"),(0,d.on)("details-menu-selected",".js-organization-container",Wi,{capture:!0}),(0,X.q6)(".js-csv-filter-field",function(t){const e=t.target.value.toLowerCase();for(const n of document.querySelectorAll(".js-csv-data tbody tr"))n instanceof HTMLElement&&(!n.textContent||(n.hidden=!!e&&!n.textContent.toLowerCase().includes(e)))}),(0,v.N7)(".js-blob-header.is-stuck",{add(t){Jo(t)},remove(t){Jo(t,!0)}});function Jo(t,e=!1){const n={"tooltipped-nw":"tooltipped-sw","tooltipped-n":"tooltipped-s","tooltipped-ne":"tooltipped-se"};for(const[o,s]of Object.entries(n)){const r=e?s:o,a=e?o:s;for(const c of t.querySelectorAll(`.${r}`))c.classList.replace(r,a)}}i(Jo,"flipTooltip");function Yo(t){const e=t.match(/#?(?:L)(\d+)((?:C)(\d+))?/g);if(e)if(e.length===1){const n=Dn(e[0]);return n?Object.freeze({start:n,end:n}):void 0}else if(e.length===2){const n=Dn(e[0]),o=Dn(e[1]);return!n||!o?void 0:os(Object.freeze({start:n,end:o}))}else return;else return}i(Yo,"parseBlobRange");function zi(t){const{start:e,end:n}=os(t);return e.column!=null&&n.column!=null?`L${e.line}C${e.column}-L${n.line}C${n.column}`:e.line===n.line?`L${e.line}`:`L${e.line}-L${n.line}`}i(zi,"formatBlobRange");function Ki(t){const e=t.match(/(file-.+?-)L\d+?/i);return e?e[1]:""}i(Ki,"parseAnchorPrefix");function Qo(t){const e=Yo(t),n=Ki(t);return{blobRange:e,anchorPrefix:n}}i(Qo,"parseFileAnchor");function Vi({anchorPrefix:t,blobRange:e}){return e?`#${t}${zi(e)}`:"#"}i(Vi,"formatBlobRangeAnchor");function Dn(t){const e=t.match(/L(\d+)/),n=t.match(/C(\d+)/);return e?Object.freeze({line:parseInt(e[1]),column:n?parseInt(n[1]):null}):null}i(Dn,"parseBlobOffset");function ts(t,e){const[n,o]=es(t.start,!0,e),[s,r]=es(t.end,!1,e);if(!n||!s)return;let a=o,c=r;if(a===-1&&(a=0),c===-1&&(c=s.childNodes.length),!n.ownerDocument)throw new Error("DOMRange needs to be inside document");const l=n.ownerDocument.createRange();return l.setStart(n,a),l.setEnd(s,c),l}i(ts,"DOMRangeFromBlob");function es(t,e,n){const o=[null,0],s=n(t.line);if(!s)return o;if(t.column==null)return[s,-1];let r=t.column-1;const a=ns(s);for(let c=0;c<a.length;c++){const l=a[c],f=r-(l.textContent||"").length;if(f===0){const p=a[c+1];return e&&p?[p,0]:[l,r]}else if(f<0)return[l,r];r=f}return o}i(es,"findRangeOffset");function ns(t){if(t.nodeType===Node.TEXT_NODE)return[t];if(!t.childNodes||!t.childNodes.length)return[];let e=[];for(const n of t.childNodes)e=e.concat(ns(n));return e}i(ns,"getAllTextNodes");function os(t){const e=[t.start,t.end];return e.sort(Xi),e[0]===t.start&&e[1]===t.end?t:Object.freeze({start:e[0],end:e[1]})}i(os,"ascendingBlobRange");function Xi(t,e){return t.line===e.line&&t.column===e.column?0:t.line===e.line&&typeof t.column=="number"&&typeof e.column=="number"?t.column-e.column:t.line-e.line}i(Xi,"compareBlobOffsets");var ss=u(71217),Lt=u(89390),We=u(57403);function rs(t,e){e.appendChild(t.extractContents()),t.insertNode(e)}i(rs,"surroundContents");let Nn=!1;function _n(t,e){return document.querySelector(`#${t}LC${e}`)}i(_n,"queryLineElement");function Gi({blobRange:t,anchorPrefix:e}){if(document.querySelectorAll(".js-file-line").length!==0&&(Zi(),!!t)){if(t.start.column===null||t.end.column===null)for(let o=t.start.line;o<=t.end.line;o+=1){const s=_n(e,o);s&&s.classList.add("highlighted")}else if(t.start.line===t.end.line&&t.start.column!=null&&t.end.column!=null){const o=ts(t,s=>_n(e,s));if(o){const s=document.createElement("span");s.classList.add("highlighted"),rs(o,s)}}}}i(Gi,"highlightLines");function Zi(){for(const t of document.querySelectorAll(".js-file-line.highlighted"))t.classList.remove("highlighted");for(const t of document.querySelectorAll(".js-file-line .highlighted")){const e=t.closest(".js-file-line");t.replaceWith(...t.childNodes),e.normalize()}}i(Zi,"clearHighlights");function Ji(){const t=Qo(window.location.hash);Gi(t),oa();const{blobRange:e,anchorPrefix:n}=t,o=e&&_n(n,e.start.line);if(!Nn&&o){o.scrollIntoView();const s=o.closest(".blob-wrapper, .js-blob-wrapper");s.scrollLeft=0}Nn=!1}i(Ji,"scrollLinesIntoView"),(0,We.Z)(function(){if(document.querySelector(".js-file-line-container")){setTimeout(Ji,0);const t=window.location.hash;for(const e of document.querySelectorAll(".js-update-url-with-hash"))if(e instanceof HTMLAnchorElement)e.hash=t;else if(e instanceof HTMLFormElement){const n=new URL(e.action,window.location.origin);n.hash=t,e.action=n.toString()}}});function Yi(t){const e=[];for(const o of t)e.push(o.textContent);const n=document.getElementById("js-copy-lines");if(n instanceof ss.Z){n.textContent=`Copy ${t.length===1?"line":"lines"}`,n.value=e.join(`
`);const o=`Blob, copyLines, numLines:${t.length.toString()}`;n.setAttribute("data-ga-click",o)}}i(Yi,"setCopyLines");function Qi(t){const e=document.querySelector(".js-permalink-shortcut");if(e instanceof HTMLAnchorElement){const n=`${e.href}${window.location.hash}`,o=document.getElementById("js-copy-permalink");if(o instanceof ss.Z){o.value=n;const s=`Blob, copyPermalink, numLines:${t.toString()}`;o.setAttribute("data-ga-click",s)}return n}}i(Qi,"setPermalink");function ta(t,e){const n=document.getElementById("js-new-issue");if(n instanceof HTMLAnchorElement){if(!n.href)return;const o=new URL(n.href,window.location.origin),s=new URLSearchParams(o.search);s.set("permalink",t),o.search=s.toString(),n.href=o.toString(),n.setAttribute("data-ga-click",`Blob, newIssue, numLines:${e.toString()}`)}}i(ta,"setOpenIssueLink");function ea(t,e){const n=document.getElementById("js-new-discussion");if(!(n instanceof HTMLAnchorElement)||!(n==null?void 0:n.href))return;const o=new URL(n.href,window.location.origin),s=new URLSearchParams(o.search);s.set("permalink",t),o.search=s.toString(),n.href=o.toString(),n.setAttribute("data-ga-click",`Blob, newDiscussion, numLines:${e.toString()}`)}i(ea,"setOpenDiscussionLink");function na(t){const e=document.getElementById("js-view-git-blame");!e||e.setAttribute("data-ga-click",`Blob, viewGitBlame, numLines:${t.toString()}`)}i(na,"setViewGitBlame");function oa(){const t=document.querySelector(".js-file-line-actions");if(!t)return;const e=document.querySelectorAll(".js-file-line.highlighted"),n=e[0];if(n){Yi(e),na(e.length);const o=Qi(e.length);o&&ta(o,e.length),o&&ea(o,e.length),t.style.top=`${n.offsetTop-2}px`,t.classList.remove("d-none")}else t.classList.add("d-none")}i(oa,"showOrHideLineActions");function sa(t){const e=window.scrollY;Nn=!0,t(),window.scrollTo(0,e)}i(sa,"preserveLineNumberScrollPosition"),(0,d.on)("click",".js-line-number",function(t){const e=Qo(t.currentTarget.id),{blobRange:n}=e,o=Yo(window.location.hash);o&&t.shiftKey&&(e.blobRange={start:o.start,end:n.end}),sa(()=>{window.location.hash=Vi(e)})}),(0,d.on)("submit",".js-jump-to-line-form",function(t){const o=t.currentTarget.querySelector(".js-jump-to-line-field").value.replace(/[^\d-]/g,"").split("-").map(s=>parseInt(s,10)).filter(s=>s>0).sort((s,r)=>s-r);o.length&&(window.location.hash=`L${o.join("-L")}`),t.preventDefault()}),(0,v.N7)(".js-check-bidi",aa);const ra=/[\u202A-\u202E]|[\u2066-\u2069]/,is={"\u202A":"U+202A","\u202B":"U+202B","\u202C":"U+202C","\u202D":"U+202D","\u202E":"U+202E","\u2066":"U+2066","\u2067":"U+2067","\u2068":"U+2068","\u2069":"U+2069"};function as(t,e){if(t.nodeType===Node.TEXT_NODE)return ia(t,e);if(!t.childNodes||!t.childNodes.length)return!1;let n=!1;for(const o of t.childNodes)if(n||(n=as(o,e)),n&&!e)break;return n}i(as,"checkNodeForBidiCharacters");function ia(t,e){let n=!1;if(t.nodeValue)for(let o=t.nodeValue.length-1;o>=0;o--){const s=t.nodeValue.charAt(o);if(is[s]){if(n=!0,!e)break;const r=new Lt.R(e,{revealedCharacter:is[s]}),a=new Range;a.setStart(t,o),a.setEnd(t,o+1),a.deleteContents(),a.insertNode(r)}}return n}i(ia,"checkTextNodeForBidiCharacters");function aa(t){let e=!1;const n=performance.now(),o=t.textContent||"";if(ra.test(o)){const a=t.querySelectorAll(".diff-table .blob-code-inner, .js-file-line-container .js-file-line, .js-suggested-changes-blob .blob-code-inner"),c=document.querySelector(".js-line-alert-template"),l=document.querySelector(".js-revealed-character-template");for(const f of a)if(as(f,l)&&(e=!0,c)){const p=new Lt.R(c,{});t.getAttribute("data-line-alert")==="before"?f.before(p):f.after(p)}}const r={durationMs:(performance.now()-n).toString(),result:e.toString()};if((0,Qt.q)("blob_js_check_bidi_character",r),e){const a=document.querySelector(".js-file-alert-template");if(a){const c=new URL(window.location.href,window.location.origin);c.searchParams.get("h")==="1"?c.searchParams.delete("h"):c.searchParams.set("h","1");const l=new Lt.R(a,{revealButtonHref:c.href});t.prepend(l)}}t.classList.remove("js-check-bidi")}i(aa,"alertOnBidiCharacter");class cs{constructor(e,n){this.lineElement=e,this.numberElement=n}range(e,n){e=isNaN(e)?0:e,n=isNaN(n)?0:n;let o=null,s=0,r=0;for(const[c,l]of this.lineElement.childNodes.entries()){const f=(l.textContent||"").length;if(f>e&&!o&&(o=l,s=c),f>=n){r=c;break}e-=f,n-=f}const a=document.createRange();if(s===r){for(;o&&o.nodeName!=="#text";)o=o.childNodes[0];if(!o)return null;a.setStart(o,e),a.setEnd(o,n)}else a.setStart(this.lineElement,s),a.setEnd(this.lineElement,r+1);return a}}i(cs,"CodeListingLine");class ls{constructor(e){this.container=e}findLine(e){if(!e)return null;const n=this.container.querySelector(`.js-blob-rnum[data-line-number='${e}']`);if(!n)return null;let o=n.nextElementSibling;return!o||!o.classList.contains("js-file-line")?null:(o=o.querySelector(".js-code-nav-pass")||o,new cs(o,n))}}i(ls,"CodeListing");const us=new WeakMap;function ds(t){const e=t.closest(".js-blob-code-container, .js-file-content"),n=t.querySelector(".js-codeowners-error-tooltip-template"),o=t.querySelector(".js-codeowners-error-line-alert-template");if(!e||!n||!o)return;const s=t.querySelectorAll(".js-codeowners-error"),r=new ls(e);for(const a of s){if(us.get(a))continue;const c=a.getAttribute("data-line"),l=a.getAttribute("data-kind"),f=a.getAttribute("data-suggestion"),p=parseInt(a.getAttribute("data-start-offset")||"",10),S=parseInt(a.getAttribute("data-end-offset")||"",10),j=r.findLine(c),k=j==null?void 0:j.range(p,S);if(!j||!k)continue;let H=l;f&&(H+=`: ${f}`);const B=document.createElement("SPAN");B.className="error-highlight",k.surroundContents(B);const Z=new Lt.R(n,{message:H}).firstElementChild;k.surroundContents(Z);const Q=new Lt.R(o,{});j.numberElement.appendChild(Q),us.set(a,!0)}}i(ds,"annotateCodeownersErrors"),(0,v.N7)(".js-codeowners-errors",ds),(0,d.on)("expander:expanded",".js-file",function(t){if(!t.target||!(t.target instanceof HTMLElement))return;const e=t.target.querySelector(".js-codeowners-errors");!e||ds(e)});function ca(t){const e=t.target,n=e==null?void 0:e.closest(".js-branch-protection-integration-select"),o=n==null?void 0:n.querySelector(".js-branch-protection-integration-select-current"),s=e==null?void 0:e.closest(".js-branch-protection-integration-select-item"),r=s==null?void 0:s.querySelector(".js-branch-protection-integration-select-label");o&&r&&n&&(o.innerHTML=r.innerHTML,n.open=!1)}i(ca,"changeSelection"),(0,d.on)("change",".js-branch-protection-integration-select-input",ca);function la(t){const e=new URL(t.getAttribute("data-bulk-actions-url"),window.location.origin),n=new URLSearchParams(e.search.slice(1)),o=t.getAttribute("data-bulk-actions-parameter"),s=Array.from(t.querySelectorAll(".js-bulk-actions-toggle:checked"));if(o){const r=s.map(a=>a.closest(".js-bulk-actions-item").getAttribute("data-bulk-actions-id")).sort();for(const a of r)n.append(`${o}[]`,a)}else for(const r of s.sort((a,c)=>a.value>c.value?1:-1))n.append(r.name,r.value);return e.search=n.toString(),e.toString()}i(la,"bulkUrl");let Hn=null;async function ua(t){const e=t.target;if(!(e instanceof HTMLElement))return;const n=e.querySelector(".js-bulk-actions"),o=!!e.querySelector(".js-bulk-actions-toggle:checked");Hn==null||Hn.abort();const{signal:s}=Hn=new AbortController;let r="";try{const a=await fetch(la(e),{signal:s,headers:{"X-Requested-With":"XMLHttpRequest"}});if(!a.ok)return;r=await a.text()}catch{}s.aborted||!r||(o?(fs(e),n.innerHTML=r):(n.innerHTML=r,fs(e)),(0,d.f)(e,"bulk-actions:updated"))}i(ua,"updateBulkActions");function fs(t){const e=document.querySelector(".js-membership-tabs");if(e){const n=t.querySelectorAll(".js-bulk-actions-toggle:checked");e.classList.toggle("d-none",n.length>0)}}i(fs,"toggleMembershipTabs"),(0,d.on)("change",".js-bulk-actions-toggle",function(t){const n=t.currentTarget.closest(".js-bulk-actions-container");(0,d.f)(n,"bulk-actions:update")}),(0,d.on)("bulk-actions:update",".js-bulk-actions-container",(0,ee.D)(ua,100));var xt=u(15935),St=u(20036);function da(t){try{const e=window.localStorage.getItem(t);return{kind:"ok",value:e?JSON.parse(e):null}}catch(e){return{kind:"err",value:e}}}i(da,"getLocalJSON");function ms(t,e){try{return window.localStorage.setItem(t,JSON.stringify(e)),{kind:"ok",value:null}}catch(n){return{kind:"err",value:n}}}i(ms,"setLocalJSON");function fa(){const t={};for(const e of document.getElementsByTagName("script")){const n=e.src.match(/\/([\w-]+)-[0-9a-f]{8,}\.js$/);n&&(t[`${n[1]}.js`]=e.src)}for(const e of document.getElementsByTagName("link")){const n=e.href.match(/\/([\w-]+)-[0-9a-f]{8,}\.css$/);n&&(t[`${n[1]}.css`]=e.href)}return t}i(fa,"gatherBundleURLs");function ma(){const t=fa(),e=da("bundle-urls");if(e.kind==="err"){ms("bundle-urls",t);return}const n=e.value||{},o=Object.keys(t).filter(s=>n[s]!==t[s]);o.length&&ms("bundle-urls",{...n,...t}).kind==="ok"&&(0,St.b)({downloadedBundles:o})}i(ma,"report"),(async()=>(await xt.C,window.requestIdleCallback(ma)))();var lf=u(33871);function ha(t){t.preventDefault(),t.stopPropagation()}i(ha,"cancelEvent"),(0,v.N7)("a.btn.disabled",{subscribe:t=>(0,R.RB)(t,"click",ha)});var Bn=u(60287),uf=u(75354),pe=u(11598);const hs="logout-was-successful";function pa(){for(const t of[sessionStorage,localStorage])try{t.clear()}catch{}}i(pa,"clearData");function ga(){(0,pe.$1)(hs).length>0&&(pa(),(0,pe.kT)(hs))}i(ga,"clearDataIfJustLoggedOut"),ga();const ps=2e3;(0,d.on)("clipboard-copy","[data-copy-feedback]",t=>{const e=t.currentTarget,n=e.getAttribute("data-copy-feedback"),o=e.getAttribute("aria-label"),s=e.getAttribute("data-tooltip-direction")||"s";e.setAttribute("aria-label",n),e.classList.add("tooltipped",`tooltipped-${s}`),e instanceof HTMLElement&&((0,ft.N)(e),setTimeout(()=>{o?e.setAttribute("aria-label",o):e.removeAttribute("aria-label"),e.classList.remove("tooltipped",`tooltipped-${s}`)},ps))});function ba(t){On.delete(t),gs(t)}i(ba,"timerCallback");function gs(t){const e=t.querySelector(".js-clipboard-copy-icon"),n=t.querySelector(".js-clipboard-check-icon");t.classList.toggle("ClipboardButton--success"),e&&e.classList.toggle("d-none"),n&&(n.classList.contains("d-sm-none")?n.classList.toggle("d-sm-none"):n.classList.toggle("d-none"))}i(gs,"toggleCopyButton");const On=new WeakMap;(0,d.on)("clipboard-copy",".js-clipboard-copy:not([data-view-component])",function({currentTarget:t}){if(!(t instanceof HTMLElement))return;const e=On.get(t);e?clearTimeout(e):gs(t),On.set(t,window.setTimeout(ba,ps,t))}),(0,d.on)("click",".js-code-nav-retry",async function(t){if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return;const e=document.querySelector(".js-tagsearch-popover");if(!e)return;const n=e.querySelector(".js-tagsearch-popover-content");if(!n)return;let o;const s=t.currentTarget;if(s.getAttribute("data-code-nav-kind")==="definitions"?o=e.querySelector(".js-tagsearch-popover-content"):o=e.querySelector(".js-code-nav-references"),!o)return;const a=s.getAttribute("data-code-nav-url");if(!a)return;const c=new URL(a,window.location.origin);try{const l=await fetch(c.toString(),{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!l.ok)return;const f=await l.text();if(!f)return;o.innerHTML=f}catch{return}n.scrollTop=0}),(0,v.N7)(".js-code-nav-container",{constructor:HTMLElement,subscribe(t){const e=t,n=document.querySelector(".js-tagsearch-popover");if(!(n instanceof HTMLElement))return{unsubscribe(){}};const o=n.querySelector(".js-tagsearch-popover-content"),s=new WeakMap,r=new WeakMap;let a;c();function c(){H();for(const z of document.getElementsByClassName("pl-token"))z.classList.remove("pl-token","active")}i(c,"initialize");async function l(z){const U=va(/\w+[!?]?/g,z.clientX,z.clientY);if(!U)return;const F=U.commonAncestorContainer.parentElement;for(const nf of F.classList)if(["pl-token","pl-c","pl-s","pl-k"].includes(nf))return;if(F.closest(".js-skip-tagsearch"))return;const et=U.toString();if(!et||et.match(/\n|\s|[();&.=",]/))return;let vt=r.get(F);if(vt||(vt=new Set,r.set(F,vt)),vt.has(et))return;vt.add(et);const Ot=F.closest(".js-tagsearch-file");if(!Ot)return;const qe=Ot.getAttribute("data-tagsearch-path")||"";let $t=Ot.getAttribute("data-tagsearch-lang")||"";if($t==="HTML+ERB")if(F.closest(".pl-sre"))$t="Ruby";else return;if(t.classList.contains("js-code-block-container")&&($t=Ea(F)||"",!$t))return;const Gt=La(U),Pe=await ya(n,et,$t,Gt,qe);if(!Pe)return;const le=document.createElement("span");le.classList.add("pl-token"),le.addEventListener("click",p);const bi=document.createElement("span");bi.innerHTML=Pe;const No=bi.firstElementChild;if(!No)return;const yi=No.getAttribute("data-hydro-click"),vi=No.getAttribute("data-hydro-click-hmac");vi&&yi&&(le.setAttribute("data-hydro-click",yi),le.setAttribute("data-hydro-click-hmac",vi)),s.set(le,Pe),U.surroundContents(le)}i(l,"onMouseMove");function f(){o.scrollTop=0}i(f,"resetScrollTop");function p(z){if(z.altKey||z.ctrlKey||z.metaKey||z.shiftKey)return;const U=z.currentTarget;U===a?H():(S(U),k()),z.preventDefault()}i(p,"onClick");function S(z){a&&a.classList.remove("active"),a=z,a.classList.add("active"),o.innerHTML=s.get(z)||"",j(z)}i(S,"populatePopover");function j(z){const U=e.getClientRects()[0],F=z.getClientRects()[0];n.style.position="absolute",n.style.zIndex="2",e.classList.contains("position-relative")?(n.style.top=`${F.bottom-U.top+7}px`,n.style.left=`${F.left-U.left-10}px`):(n.style.top=`${window.scrollY+F.bottom+7}px`,n.style.left=`${window.scrollX+F.left-10}px`)}i(j,"positionPopover");function k(){if(!n.hidden){f();return}n.hidden=!1,f(),document.addEventListener("click",Z),document.addEventListener("keyup",Q),window.addEventListener("resize",B)}i(k,"showPopover");function H(){n.hidden||(n.hidden=!0,a&&a.classList.remove("active"),a=void 0,document.removeEventListener("click",Z),document.removeEventListener("keyup",Q),window.removeEventListener("resize",B))}i(H,"hidePopover");function B(){a instanceof HTMLElement&&j(a)}i(B,"onResize");function Z(z){const{target:U}=z;U instanceof Node&&!n.contains(U)&&!a.contains(U)&&H()}i(Z,"onDocumentClick");function Q(z){switch(z.key){case"Escape":H();break}}return i(Q,"onKeyup"),t.addEventListener("mousemove",l),{unsubscribe(){t.removeEventListener("mousemove",l)}}}});async function ya(t,e,n,o,s){const r=t.getAttribute("data-tagsearch-url");if(!r)return"";const a=t.getAttribute("data-tagsearch-ref");if(!a)return"";let c=t.getAttribute("data-tagsearch-code-nav-context");c||(c="UNKNOWN_VIEW");const l=new URL(r,window.location.origin),f=new URLSearchParams;f.set("q",e),f.set("blob_path",s),f.set("ref",a),f.set("language",n),f.set("row",o[0].toString()),f.set("col",o[1].toString()),f.set("code_nav_context",c),l.search=f.toString();try{const p=await fetch(l.toString(),{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!p.ok)return"";const S=await p.text();return/js-tagsearch-no-definitions/.test(S)?"":S}catch{return""}}i(ya,"fetchPopoverContents");function va(t,e,n){let o,s;if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(e,n);l&&(o=l.offsetNode,s=l.offset)}else if(document.caretRangeFromPoint){const l=document.caretRangeFromPoint(e,n);l&&(o=l.startContainer,s=l.startOffset)}if(!o||typeof s!="number"||o.nodeType!==Node.TEXT_NODE)return;const r=o.textContent;if(!r)return null;const a=wa(r,t,s);if(!a)return null;const c=document.createRange();return c.setStart(o,a[1]),c.setEnd(o,a[2]),c}i(va,"matchFromPoint");function wa(t,e,n){let o;for(;o=e.exec(t);){const s=o.index+o[0].length;if(o.index<=n&&n<s)return[o[0],o.index,s]}return null}i(wa,"findNearestMatch");function Ea(t){const e=t.closest(".highlight");if(e)for(const n of e.classList)switch(n){case"highlight-source-go":return"Go";case"highlight-source-js":return"JavaScript";case"highlight-source-python":return"Python";case"highlight-source-ruby":return"Ruby";case"highlight-source-ts":return"TypeScript"}return null}i(Ea,"getCodeBlockLanguage");function La(t){let e=t.startContainer,n=t.startOffset,o=!1;for(;;){let s=e.previousSibling;for(;!o&&s;)["#comment","BUTTON"].includes(s.nodeName)||(n+=(s.textContent||"").length),s=s.previousSibling;const r=e.parentElement;if(r){if(r.classList.contains("js-code-nav-pass"))o=!0;else if(r.classList.contains("js-file-line")){const a=r.previousElementSibling;if(!a.classList.contains("js-code-nav-line-number"))throw new Error("invariant");return[parseInt(a.getAttribute("data-line-number")||"1",10)-1,n]}e=r}else return[0,0]}}i(La,"getRowAndColumn");var Mt=u(73742);function Sa(t){const e=t.querySelector(".js-comment-form-error");e instanceof HTMLElement&&(e.hidden=!0)}i(Sa,"clearFormError"),(0,d.on)("click",".errored.js-remove-error-state-on-click",function({currentTarget:t}){t.classList.remove("errored")}),(0,V.AC)(".js-new-comment-form",async function(t,e){let n;Sa(t);try{n=await e.json()}catch(r){ja(t,r)}if(!n)return;t.reset();for(const r of t.querySelectorAll(".js-resettable-field"))(0,J.Se)(r,r.getAttribute("data-reset-value")||"");const o=t.querySelector(".js-write-tab");o instanceof HTMLElement&&o.click();const s=n.json.updateContent;for(const r in s){const a=s[r],c=document.querySelector(r);c instanceof HTMLElement?(0,Mt.Of)(c,a):console.warn(`couldn't find ${r} for immediate update`)}(0,d.f)(t,"comment:success")});function ja(t,e){let n="You can't comment at this time";if(e.response&&e.response.status===422){const s=e.response.json;s.errors&&(Array.isArray(s.errors)?n+=` \u2014 your comment ${s.errors.join(", ")}`:n=s.errors)}n+=". ";const o=t.querySelector(".js-comment-form-error");if(o instanceof HTMLElement){o.textContent=n,o.hidden=!1;const s=o.closest("div.form-group.js-remove-error-state-on-click");s&&s.classList.add("errored")}}i(ja,"handleFormError");const Ta=i((t,e)=>{const n=t.querySelector(".js-form-action-text"),o=n||t;o.textContent=e?t.getAttribute("data-comment-text"):o.getAttribute("data-default-action-text")},"setButtonText"),Aa=i(t=>{let e;return n=>{const s=n.currentTarget.value.trim();s!==e&&(e=s,Ta(t,Boolean(s)))}},"createInputHandler");(0,v.N7)(".js-comment-and-button",{constructor:HTMLButtonElement,initialize(t){const e=t.form.querySelector(".js-comment-field"),n=Aa(t);return{add(){e.addEventListener("input",n),e.addEventListener("change",n)},remove(){e.removeEventListener("input",n),e.removeEventListener("change",n)}}}});var df=u(98263);function bs(t,e){const n=t.closest(".js-write-bucket");n&&n.classList.toggle("focused",e)}i(bs,"toggleFocus");function Ca(t){const e=t.currentTarget;e instanceof Element&&bs(e,!1)}i(Ca,"blurred"),(0,X.ZG)(".js-comment-field",function(t){bs(t,!0),t.addEventListener("blur",Ca,{once:!0})});var oe=u(83461),gt=u(724),$n=u(27329);const ka=2303741511,xa=4;class ze{static fromFile(e){return new Promise(function(n,o){const s=new FileReader;s.onload=function(){n(new ze(s.result))},s.onerror=function(){o(s.error)},s.readAsArrayBuffer(e)})}constructor(e){this.dataview=new DataView(e),this.pos=0}advance(e){this.pos+=e}readInt(e){const n=this,o=function(){switch(e){case 1:return n.dataview.getUint8(n.pos);case 2:return n.dataview.getUint16(n.pos);case 4:return n.dataview.getUint32(n.pos);default:throw new Error("bytes parameter must be 1, 2 or 4")}}();return this.advance(e),o}readChar(){return this.readInt(1)}readShort(){return this.readInt(2)}readLong(){return this.readInt(4)}readString(e){const n=[];for(let o=0;o<e;o++)n.push(String.fromCharCode(this.readChar()));return n.join("")}scan(e){if(this.readLong()!==ka)throw new Error("invalid PNG");for(this.advance(4);;){const n=this.readLong(),o=this.readString(4),s=this.pos+n+xa;if(e.call(this,o,n)===!1||o==="IEND")break;this.pos=s}}}i(ze,"PNGScanner");const Ma=.0254;async function qa(t){if(t.type!=="image/png")return null;const e=t.slice(0,10240,t.type),n=await ze.fromFile(e),o={width:0,height:0,ppi:1};return n.scan(function(s){switch(s){case"IHDR":return o.width=this.readLong(),o.height=this.readLong(),!0;case"pHYs":{const r=this.readLong(),a=this.readLong(),c=this.readChar();let l;return c===1&&(l=Ma),l&&(o.ppi=Math.round((r+a)/2*l)),!1}case"IDAT":return!1}return!0}),o}i(qa,"imageDimensions");var Pa=u(80832);const Ke=new WeakMap;class ys{constructor(e,n,o){this.index=e,this.coords=n,this.textArea=o}get top(){return this.coords.top}get left(){return this.coords.left}get height(){return this.coords.height}currentChar(e=1){return this.textArea.value.substring(this.index-e,this.index)}checkLine(e){return e<this.coords.top?-1:e>this.coords.top+this.coords.height?1:0}xDistance(e){return Math.abs(this.left-e)}}i(ys,"CaretPosition");function qt(t,e){let n;if(Ke.has(t)?n=Ke.get(t):(n=new Map,Ke.set(t,n)),n.has(e))return n.get(e);{const o=new ys(e,(0,Pa.Z)(t,e),t);return n.set(e,o),o}}i(qt,"fetchCaretCoords");const ge=i((t,e,n,o,s,r)=>{if(n===e)return n;const a=i(p=>{const S=p.filter(j=>j.checkLine(s)===0).sort((j,k)=>j.xDistance(o)>k.xDistance(o)?1:-1);return S.length===0?n:S[0].index},"bestPosition");if(n-e===1){const p=qt(t,e),S=qt(t,n);return a([p,S])}if(n-e===2){const p=qt(t,e),S=qt(t,n-1),j=qt(t,n);return a([p,S,j])}const c=Math.floor((n+e)/2);if(c===e||c===n)return c;const l=qt(t,c);if(s>l.top+l.height)return ge(t,c+1,n,o,s,r+1);if(s<l.top)return ge(t,e,c-1,o,s,r+1);const f=3;return l.xDistance(o)<f?c:l.left<o?qt(t,c+1).checkLine(s)!==0?c:ge(t,c+1,n,o,s,r+1):l.left>o?qt(t,c-1).checkLine(s)!==0?c:ge(t,e,c-1,o,s,r+1):c},"binaryCursorSearch"),Ia=i((t,e,n)=>{const s=t.value.length-1;return ge(t,0,s,e,n,0)},"findCursorPosition");function Ra(t,e,n){const o=Ia(t,e,n);t.setSelectionRange(o,o)}i(Ra,"setCursorPosition");function Da(t,e){const n=t.getBoundingClientRect();e.type==="dragenter"&&Ke.delete(t);const o=e.clientX-n.left,s=e.clientY-n.top+t.scrollTop;Ra(t,o,s)}i(Da,"caret_placement_updateCaret"),(0,v.N7)(".js-paste-markdown",{constructor:HTMLElement,add(t){(0,gt.F6)(t),(0,gt.CR)(t),(0,gt.jw)(t),(0,gt.AL)(t),(0,gt.AI)(t)},remove(t){(0,gt.KB)(t),(0,gt.XR)(t),(0,gt.Hl)(t),(0,gt.mK)(t),(0,gt.TR)(t)}});const Fn=new WeakMap;function ff(t,e){Fn.set(t,e)}i(ff,"cachePlaceholder");function Na(t){return Fn.get(t)||ws(t)}i(Na,"getPlaceholder");function Un(t){return["video/mp4","video/quicktime"].includes(t.file.type)}i(Un,"isVideo");function _a(t){return t.replace(/[[\]\\"<>&]/g,".").replace(/\.{2,}/g,".").replace(/^\.|\.$/gi,"")}i(_a,"parameterizeName");function vs(t){return Un(t)?`
Uploading ${t.file.name}\u2026
`:`${t.isImage()?"!":""}[Uploading ${t.file.name}\u2026]()`}i(vs,"placeholderText");function Ha(t){return _a(t).replace(/\.[^.]+$/,"").replace(/\./g," ")}i(Ha,"altText");const Ba=72*2;function Ve(t){const n=t.target.closest("form").querySelector(".btn-primary");n.disabled=!0}i(Ve,"disableSubmit");function Xe(t){const n=t.target.closest("form").querySelector(".btn-primary");n.disabled=!1}i(Xe,"enableSubmit");async function Oa(t){const{attachment:e}=t.detail,n=t.currentTarget;let o;e.isImage()?o=await Ua(e):Un(e)?o=Fa(e):o=$a(e),Ls("",o,t,n)}i(Oa,"onUploadCompleted");function $a(t){return`[${t.file.name}](${t.href})`}i($a,"mdLink");function Fa(t){return`
${t.href}
`}i(Fa,"videoMarkdown");async function Ua(t){const e=await Wa(t.file),n=Ha(t.file.name),o=t.href;return e.ppi===Ba?`<img width="${Math.round(e.width/2)}" alt="${n}" src="${o}">`:`![${n}](${o})`}i(Ua,"imageTag");async function Wa(t){var e;const n={width:0,height:0,ppi:0};try{return(e=await qa(t))!=null?e:n}catch{return n}}i(Wa,"imageSize");function ws(t){const e=vs(t);return Un(t)?`
${e}
`:`${e}
`}i(ws,"replacementText");function Es(t){const e=t.currentTarget.querySelector(".js-comment-field"),n=Na(t.detail.attachment);if(e)e.setCustomValidity(""),(0,oe.lp)(e,n,"");else{const s=(0,$n.P)(t.currentTarget.querySelector(".js-code-editor")).editor.getSearchCursor(n);s.findNext(),s.replace("")}}i(Es,"removeFailedUpload");function Ls(t,e,n,o){const s=(o||n.currentTarget).querySelector(".js-comment-field"),r=(o||n.currentTarget).querySelector(".js-file-upload-loading-text"),a=vs(n.detail.attachment),{batch:c}=n.detail;if(s){const l=s.value.substring(s.selectionStart,s.selectionEnd);if(t==="uploading"){let f;l.length?f=(0,oe.t4)(s,l,a):f=(0,oe.Om)(s,a,{appendNewline:!0}),Fn.set(n.detail.attachment,f)}else(0,oe.lp)(s,a,e);c.isFinished()?Xe(n):Ve(n)}else{const l=(0,$n.P)((o||n.currentTarget).querySelector(".js-code-editor")).editor;if(t==="uploading")if(l.getSelection().length)l.replaceSelection(a);else{const f=l.getCursor(),p=ws(n.detail.attachment);l.replaceRange(p,f)}else{const f=l.getSearchCursor(a);f.findNext(),f.replace(e)}c.isFinished()?Xe(n):Ve(n)}if(r){const l=r.getAttribute("data-file-upload-message");r.textContent=`${l} (${c.uploaded()+1}/${c.size})`}}i(Ls,"setValidityAndLinkText"),(0,d.on)("upload:setup",".js-upload-markdown-image",function(t){Ls("uploading","",t)}),(0,d.on)("upload:complete",".js-upload-markdown-image",Oa),(0,d.on)("upload:error",".js-upload-markdown-image",function(t){Es(t);const{batch:e}=t.detail;e.isFinished()?Xe(t):Ve(t)});function Ss(t){var e;t.stopPropagation();const n=t.currentTarget;if(!n)return;const o=n.querySelector(".js-comment-field");if(o)Da(o,t);else{const s=(e=(0,$n.P)(n.querySelector(".js-code-editor")))==null?void 0:e.editor;if(s){const r=s.coordsChar({left:t.pageX,top:t.pageY});s.setCursor(r)}}}i(Ss,"updateCursor");const mf=i(t=>{const e=t.currentTarget,n=e.getBoundingClientRect(),o=t.clientX-n.left,s=t.clientY-n.top+e.scrollTop;console.log({x:o,y:s,cursor:e.selectionStart,t:e.value.substring(e.selectionStart-10,e.selectionStart)});const r=new DragEvent("dragenter",{clientX:t.clientX,clientY:t.clientY});updateCaret(e,r)},"debugUpdateCaret");(0,d.on)("dragenter","file-attachment",Ss),(0,d.on)("dragover","file-attachment",Ss),(0,d.on)("upload:invalid",".js-upload-markdown-image",function(t){Es(t);const{batch:e}=t.detail;e.isFinished()?Xe(t):Ve(t)});var Wn=u(85435),jt=u(53294);function za(t){const e=t.querySelector(".js-data-preview-url-csrf"),n=t.closest("form").elements.namedItem("authenticity_token");if(e instanceof HTMLInputElement)return e.value;if(n instanceof HTMLInputElement)return n.value;throw new Error("Comment preview authenticity token not found")}i(za,"token");function zn(t){const e=t.closest(".js-previewable-comment-form"),n=t.classList.contains("js-preview-tab");if(n){const r=e.querySelector(".js-write-bucket"),a=e.querySelector(".js-preview-body");r.clientHeight>0&&(a.style.minHeight=`${r.clientHeight}px`)}e.classList.toggle("preview-selected",n),e.classList.toggle("write-selected",!n);const o=e.querySelector('.tabnav-tab.selected, .tabnav-tab[aria-selected="true"]');o.setAttribute("aria-selected","false"),o.classList.remove("selected"),t.classList.add("selected"),t.setAttribute("aria-selected","true");const s=e.querySelector(".js-write-tab");return n?s.setAttribute("data-hotkey","Control+P,Meta+Shift+p"):s.removeAttribute("data-hotkey"),e}i(zn,"activateTab"),(0,d.on)("click",".js-write-tab",function(t){const e=t.currentTarget,n=e.closest(".js-previewable-comment-form");if(n instanceof Wn.Z){setTimeout(()=>{n.querySelector(".js-comment-field").focus()});return}const o=zn(e);(0,d.f)(n,"preview:toggle:off");const s=n.querySelector(".js-discussion-poll-form-component");s&&(0,d.f)(s,"poll-preview:toggle:off"),setTimeout(()=>{o.querySelector(".js-comment-field").focus()});const r=n.querySelector("markdown-toolbar");r instanceof HTMLElement&&(r.hidden=!1)}),(0,d.on)("click",".js-preview-tab",function(t){const e=t.currentTarget,n=e.closest(".js-previewable-comment-form");if(n instanceof Wn.Z)return;const o=zn(e);(0,d.f)(n,"preview:toggle:on"),setTimeout(()=>{Vn(o)});const s=n.querySelector("markdown-toolbar");s instanceof HTMLElement&&(s.hidden=!0),t.stopPropagation(),t.preventDefault()}),(0,d.on)("tab-container-change",".js-previewable-comment-form",function(t){const e=t.detail.relatedTarget,n=e&&e.classList.contains("js-preview-panel"),o=t.currentTarget,s=o.querySelector(".js-write-tab");if(n){const r=o.querySelector(".js-write-bucket"),a=o.querySelector(".js-preview-body");!a.hasAttribute("data-skip-sizing")&&r.clientHeight>0&&(a.style.minHeight=`${r.clientHeight}px`),s.setAttribute("data-hotkey","Control+P,Meta+Shift+p"),Vn(o);const l=o.querySelector("markdown-toolbar");l instanceof HTMLElement&&(l.hidden=!0)}else{s.removeAttribute("data-hotkey");const r=o.querySelector("markdown-toolbar");r instanceof HTMLElement&&(r.hidden=!1);const a=document.querySelector(".js-discussion-poll-form-component");a&&(0,d.f)(a,"poll-preview:toggle:off")}o.classList.toggle("preview-selected",n),o.classList.toggle("write-selected",!n)}),(0,d.on)("preview:render",".js-previewable-comment-form",function(t){const e=t.target.querySelector(".js-preview-tab"),n=zn(e);setTimeout(()=>{Vn(n);const o=n.querySelector("markdown-toolbar");o instanceof HTMLElement&&(o.hidden=!0)})});function Ka(t){var e,n,o,s,r,a,c,l,f;const p=t.querySelector(".js-comment-field").value,S=(e=t.querySelector(".js-path"))==null?void 0:e.value,j=(n=t.querySelector(".js-line-number"))==null?void 0:n.value,k=(o=t.querySelector(".js-start-line-number"))==null?void 0:o.value,H=(s=t.querySelector(".js-side"))==null?void 0:s.value,B=(r=t.querySelector(".js-start-side"))==null?void 0:r.value,Z=(a=t.querySelector(".js-start-commit-oid"))==null?void 0:a.value,Q=(c=t.querySelector(".js-end-commit-oid"))==null?void 0:c.value,z=(l=t.querySelector(".js-base-commit-oid"))==null?void 0:l.value,U=(f=t.querySelector(".js-comment-id"))==null?void 0:f.value,F=new FormData;return F.append("text",p),F.append("authenticity_token",za(t)),S&&F.append("path",S),j&&F.append("line_number",j),k&&F.append("start_line_number",k),H&&F.append("side",H),B&&F.append("start_side",B),Z&&F.append("start_commit_oid",Z),Q&&F.append("end_commit_oid",Q),z&&F.append("base_commit_oid",z),U&&F.append("comment_id",U),F}i(Ka,"previewForm");function js(t){const e=t.getAttribute("data-preview-url"),n=Ka(t);return(0,d.f)(t,"preview:setup",{data:n}),Va(e,n)}i(js,"fetchPreview");const Va=(0,jt.Z)(Xa,{hash:Ga});let Kn=null;async function Xa(t,e){Kn==null||Kn.abort();const{signal:n}=Kn=new AbortController,o=await fetch(t,{method:"post",body:e,signal:n});if(!o.ok)throw new Error("something went wrong");return o.text()}i(Xa,"uncachedFetch");function Ga(t,e){const n=[...e.entries()].toString();return`${t}:${n}`}i(Ga,"hash");async function Vn(t){const e=t.querySelector(".comment-body");e.innerHTML="<p>Loading preview&hellip;</p>";try{const n=await js(t);e.innerHTML=n||"<p>Nothing to preview</p>",(0,d.f)(t,"preview:rendered")}catch(n){n.name!=="AbortError"&&(e.innerHTML="<p>Error rendering preview</p>")}}i(Vn,"renderPreview"),(0,v.N7)(".js-preview-tab",function(t){t.addEventListener("mouseenter",async()=>{const e=t.closest(".js-previewable-comment-form");try{await js(e)}catch{}})}),(0,X.w4)("keydown",".js-comment-field",function(t){const e=t.target;if((t.ctrlKey||t.metaKey)&&t.shiftKey&&t.key.toUpperCase()==="P"){const n=e.closest(".js-previewable-comment-form");n.classList.contains("write-selected")&&(n instanceof Wn.Z?n.querySelector(".js-preview-tab").click():(e.blur(),n.dispatchEvent(new CustomEvent("preview:render",{bubbles:!0,cancelable:!1}))),t.preventDefault(),t.stopImmediatePropagation())}});const Ts=/^(\+1|-1|:\+1?|:-1?)$/,Za=i(t=>{let e=!1;for(const n of t.split(`
`)){const o=n.trim();if(!(!o||o.startsWith(">"))){if(e&&Ts.test(o)===!1)return!1;!e&&Ts.test(o)&&(e=!0)}}return e},"isReactionLikeComment");(0,d.on)("focusout","#new_comment_field",function(t){const n=t.currentTarget.closest(".js-reaction-suggestion");n&&Cs(n)}),(0,d.on)("focusin","#new_comment_field",function(t){As(t)}),(0,X.w4)("keyup","#new_comment_field",function(t){As(t)});function As(t){const e=t.target,n=e.value,o=e.closest(".js-reaction-suggestion");if(!!o)if(Za(n)){o.classList.remove("hide-reaction-suggestion"),o.classList.add("reaction-suggestion");const s=o.getAttribute("data-reaction-markup");o.setAttribute("data-reaction-suggestion-message",s)}else Cs(o)}i(As,"toggleReactionSuggestion");function Cs(t){t.classList.remove("reaction-suggestion"),t.classList.add("hide-reaction-suggestion"),t.removeAttribute("data-reaction-suggestion-message")}i(Cs,"clearReactionSuggestion");var ks=u(61031);(0,d.on)("navigation:keydown",".js-commits-list-item",function(t){!(0,ks.Zf)(t.detail.originalEvent)||t.target instanceof Element&&t.detail.hotkey==="c"&&t.target.querySelector(".js-navigation-open").click()});var hf=u(98237);(0,X.q6)(".js-company-name-input",function(t){const e=t.target,n=e.form,o=n.querySelector(".js-corp-tos-link"),s=n.querySelector(".js-tos-link");s&&(s.classList.add("d-none"),s.setAttribute("aria-hidden","true"),o&&(o.classList.remove("d-none"),o.setAttribute("aria-hidden","false")));const r=n.querySelectorAll(".js-company-name-text");if(r.length!==0)for(const a of r)if(e.value)if(a.hasAttribute("data-wording")){const l=a.getAttribute("data-wording");a.textContent=` ${l} ${e.value}`}else a.textContent=e.value;else a.textContent=""}),(0,v.N7)(".js-company-owned:not(:checked)",{constructor:HTMLInputElement,add(t){const n=t.form.querySelector(".js-company-name-input"),o=document.querySelector(".js-company-name-text"),s=document.querySelector(".js-corp-tos-link"),r=document.querySelector(".js-tos-link");n&&(t.getAttribute("data-optional")&&n.removeAttribute("required"),(0,J.Se)(n,"")),r.classList.remove("d-none"),r.setAttribute("aria-hidden","false"),s.classList.add("d-none"),s.setAttribute("aria-hidden","true"),o&&(o.textContent="")}}),(0,v.N7)(".js-company-owned:checked",{constructor:HTMLInputElement,add(t){const n=t.form.querySelector(".js-company-name-input");n&&(n.setAttribute("required",""),(0,d.f)(n,"focus"),(0,d.f)(n,"input"))}}),(0,v.N7)(".js-company-owned-autoselect",{constructor:HTMLInputElement,add(t){const e=t;function n(){if(e.checked&&e.form){const o=e.form.querySelector(".js-company-owned");(0,J.Se)(o,!0)}}i(n,"autoselect"),e.addEventListener("change",n),n()}});var Xn=u(4160),Gn=u(65849);let Pt=null;document.addEventListener("keydown",function(t){!t.defaultPrevented&&t.key==="Escape"&&Pt&&Pt.removeAttribute("open")}),(0,v.N7)(".js-dropdown-details",{subscribe:t=>(0,R.qC)((0,R.RB)(t,"toggle",Ya),(0,R.RB)(t,"toggle",Ja))});function Ja({currentTarget:t}){const e=t;if(e.hasAttribute("open")){const n=e.querySelector("[autofocus]");n&&n.focus()}else{const n=e.querySelector("summary");n&&n.focus()}}i(Ja,"autofocus");function Ya({currentTarget:t}){const e=t;e.hasAttribute("open")?(Pt&&Pt!==e&&Pt.removeAttribute("open"),Pt=e):e===Pt&&(Pt=null)}i(Ya,"closeCurrentDetailsDropdown"),(0,v.N7)("[data-deferred-details-content-url]:not([data-details-no-preload-on-hover])",{subscribe:t=>{const e=t.querySelector("summary");return(0,R.RB)(e,"mouseenter",Gn.G)}}),(0,v.N7)("[data-deferred-details-content-url]",{subscribe:t=>(0,R.RB)(t,"toggle",Gn.G)}),(0,d.on)("click","[data-toggle-for]",function(t){const e=t.currentTarget.getAttribute("data-toggle-for")||"",n=document.getElementById(e);!n||(n.hasAttribute("open")?n.removeAttribute("open"):n.setAttribute("open","open"))}),(0,We.Z)(function({target:t}){if(!t||t.closest("summary"))return;let e=t.parentElement;for(;e;)e=e.closest("details"),e&&(e.hasAttribute("open")||e.setAttribute("open",""),e=e.parentElement)}),(0,d.on)("details-dialog-close","[data-disable-dialog-dismiss]",function(t){t.preventDefault()});var Qa=u(48219);(0,v.N7)("details.select-menu details-menu include-fragment",function(t){const e=t.closest("details");!e||(t.addEventListener("loadstart",function(){e.classList.add("is-loading"),e.classList.remove("has-error")}),t.addEventListener("error",function(){e.classList.add("has-error")}),t.addEventListener("loadend",function(){e.classList.remove("is-loading");const n=e.querySelector(".js-filterable-field");n&&(0,d.f)(n,"filterable:change")}))}),(0,v.N7)("details details-menu .js-filterable-field",{constructor:HTMLInputElement,add(t){const e=t.closest("details");e.addEventListener("toggle",function(){e.hasAttribute("open")||(t.value="",(0,d.f)(t,"filterable:change"))})}}),(0,v.N7)("details-menu[role=menu] [role=menu]",t=>{const e=t.closest("details-menu[role]");e&&e!==t&&e.removeAttribute("role")}),(0,v.N7)("details details-menu remote-input input",{constructor:HTMLInputElement,add(t){const e=t.closest("details");e.addEventListener("toggle",function(){e.hasAttribute("open")||(t.value="")})}}),(0,v.N7)("form details-menu",t=>{const e=t.closest("form");e.addEventListener("reset",()=>{setTimeout(()=>tc(e),0)})});function tc(t){const e=t.querySelectorAll("details-menu [role=menuitemradio] input[type=radio]:checked");for(const n of e)(0,d.f)(n,"change")}i(tc,"resetMenus"),(0,X.w4)("keypress","details-menu .js-filterable-field, details-menu filter-input input",t=>{if(t.key==="Enter"){const o=t.currentTarget.closest("details-menu").querySelector('[role^="menuitem"]:not([hidden])');o instanceof HTMLElement&&o.click(),t.preventDefault()}}),(0,d.on)("details-menu-selected","details-menu",t=>{const n=t.currentTarget.querySelector(".js-filterable-field");n instanceof HTMLInputElement&&n.value&&n.focus()},{capture:!0}),(0,d.on)("details-menu-selected","[data-menu-input]",t=>{if(!(t.target instanceof Element))return;const e=t.target.getAttribute("data-menu-input"),n=document.getElementById(e);(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement)&&(n.value=t.detail.relatedTarget.value)},{capture:!0}),(0,v.N7)("details-menu remote-input",{constructor:Qa.Z,initialize(t){const e=document.getElementById(t.getAttribute("aria-owns")||"");if(!e)return;let n=null;t.addEventListener("load",()=>{document.activeElement&&e.contains(document.activeElement)&&document.activeElement.id?n=document.activeElement.id:n=null}),t.addEventListener("loadend",()=>{if(n){const o=e.querySelector(`#${n}`)||e.querySelector('[role^="menu"]');o instanceof HTMLElement?o.focus():t.input&&t.input.focus()}})}}),(0,d.on)("details-menu-selected","details-menu[data-menu-max-options]",t=>{const e=+t.currentTarget.getAttribute("data-menu-max-options"),n=t.currentTarget.querySelectorAll('[role="menuitemcheckbox"][aria-checked="true"]'),o=e===n.length;t.currentTarget.querySelector("[data-menu-max-options-warning]").hidden=!o;for(const s of t.currentTarget.querySelectorAll('[role="menuitemcheckbox"] input'))s.disabled=o&&!s.checked},{capture:!0}),(0,v.N7)("details > details-menu",{subscribe(t){const e=t.closest("details");return(0,R.RB)(e,"toggle",ec)}});async function ec({currentTarget:t}){const e=t,n=e.hasAttribute("open");(0,d.f)(e,n?"menu:activate":"menu:deactivate"),await(0,kt.gJ)(),(0,d.f)(e,n?"menu:activated":"menu:deactivated")}i(ec,"fireMenuToggleEvent"),(0,v.N7)("details > details-menu[preload]:not([src])",{subscribe(t){return(0,R.RB)(t.parentElement,"mouseover",function(e){const o=e.currentTarget.querySelector("include-fragment[src]");o==null||o.load()})}});const Zn=new WeakMap,xs=["input[type=submit][data-disable-with]","button[data-disable-with]"].join(", ");function nc(t){return t instanceof HTMLInputElement?t.value||"Submit":t.innerHTML||""}i(nc,"getButtonText");function Ms(t,e){t instanceof HTMLInputElement?t.value=e:t.innerHTML=e}i(Ms,"disable_with_setButtonText"),(0,d.on)("submit","form",function(t){for(const e of t.currentTarget.querySelectorAll(xs)){Zn.set(e,nc(e));const n=e.getAttribute("data-disable-with");n&&Ms(e,n),e.disabled=!0}},{capture:!0});function qs(t){for(const e of t.querySelectorAll(xs)){const n=Zn.get(e);n!=null&&(Ms(e,n),(!e.hasAttribute("data-disable-invalid")||t.checkValidity())&&(e.disabled=!1),Zn.delete(e))}}i(qs,"revert"),(0,d.on)("deprecatedAjaxComplete","form",function({currentTarget:t,target:e}){t===e&&qs(t)}),(0,V.uT)(qs),(0,v.N7)(".js-document-dropzone",{constructor:HTMLElement,add(t){document.body.addEventListener("dragstart",Ds),document.body.addEventListener("dragend",Ns),document.body.addEventListener("dragenter",Ge),document.body.addEventListener("dragover",Ge),document.body.addEventListener("dragleave",Is),t.addEventListener("drop",Rs)},remove(t){document.body.removeEventListener("dragstart",Ds),document.body.removeEventListener("dragend",Ns),document.body.removeEventListener("dragenter",Ge),document.body.removeEventListener("dragover",Ge),document.body.removeEventListener("dragleave",Is),t.removeEventListener("drop",Rs)}});function Ps(t){return Array.from(t.types).indexOf("Files")>=0}i(Ps,"hasFile");let Jn=null;function Ge(t){if(Yn)return;const e=t.currentTarget;Jn&&window.clearTimeout(Jn),Jn=window.setTimeout(()=>e.classList.remove("dragover"),200);const n=t.dataTransfer;!n||!Ps(n)||(n.dropEffect="copy",e.classList.add("dragover"),t.stopPropagation(),t.preventDefault())}i(Ge,"onDragenter");function Is(t){t.target instanceof Element&&t.target.classList.contains("js-document-dropzone")&&t.currentTarget.classList.remove("dragover")}i(Is,"onBodyDragleave");function Rs(t){const e=t.currentTarget;e.classList.remove("dragover"),document.body.classList.remove("dragover");const n=t.dataTransfer;!n||!Ps(n)||((0,d.f)(e,"document:drop",{transfer:n}),t.stopPropagation(),t.preventDefault())}i(Rs,"onDrop");let Yn=!1;function Ds(){Yn=!0}i(Ds,"onDragstart");function Ns(){Yn=!1}i(Ns,"onDragend");async function _s(t,e){const o=new TextEncoder().encode(e),{seal:s}=await Promise.all([u.e(1947),u.e(3637)]).then(u.bind(u,57040));return s(o,t)}i(_s,"encrypt");function Hs(t){const e=atob(t).split("").map(n=>n.charCodeAt(0));return Uint8Array.from(e)}i(Hs,"decode");function Bs(t){let e="";for(const n of t)e+=String.fromCharCode(n);return btoa(e)}i(Bs,"encode"),(0,d.on)("submit","form.js-encrypt-submit",async function(t){const e=t.currentTarget;if(t.defaultPrevented||!e.checkValidity())return;const n=e.elements.namedItem("secret_value");if(n.disabled=!0,!n.value)return;t.preventDefault();const o=Hs(e.getAttribute("data-public-key"));e.elements.namedItem("encrypted_value").value=Bs(await _s(o,n.value)),e.submit()}),(0,d.on)("submit","form.js-encrypt-bulk-submit",Os(!0)),(0,d.on)("submit","form.js-encrypt-bulk-submit-enable-empty",Os(!1));function Os(t){return async function(e){const n=e.currentTarget;if(e.defaultPrevented||!n.checkValidity())return;const o=Hs(n.getAttribute("data-public-key"));e.preventDefault();for(const s of n.elements){const r=s;if(r.id.endsWith("secret")){if(r.disabled=!0,r.required&&!r.value){const c=`${r.name} is invalid!`,l=document.querySelector("template.js-flash-template");l.after(new Lt.R(l,{className:"flash-error",message:c}));return}const a=`${r.name}_encrypted_value`;if(!r.value){n.elements.namedItem(a).disabled=t;continue}n.elements.namedItem(a).value=Bs(await _s(o,r.value))}}n.submit()}}i(Os,"submitBulk");let Ze;function Je(t,e){const n=document.querySelector('.js-site-favicon[type="image/svg+xml"]'),o=document.querySelector('.js-site-favicon[type="image/png"]');e||(e="light");const s=e==="light"?"":"-dark";if(n&&o)if(Ze==null&&(Ze=n.href),t){t=t.substr(0,t.lastIndexOf(".")),t=`${t}${s}.svg`,n.href=t;const r=n.href.substr(0,n.href.lastIndexOf("."));o.href=`${r}.png`}else{const r=n.href.indexOf("-dark.svg"),a=n.href.substr(0,r!==-1?r:n.href.lastIndexOf("."));n.href=`${a}${s}.svg`,o.href=`${a}${s}.png`}}i(Je,"updateFavicon");function Ye(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}i(Ye,"prefersDarkColorScheme");function oc(){Ze!=null&&Je(Ze,Ye()?"dark":"light")}i(oc,"resetIcon"),(0,v.N7)("[data-favicon-override]",{add(t){const e=t.getAttribute("data-favicon-override");setTimeout(()=>Je(e,Ye()?"dark":"light"))},remove(){oc()}}),Ye()&&Je(void 0,"dark"),window.matchMedia("(prefers-color-scheme: dark)").addListener(()=>{Je(void 0,Ye()?"dark":"light")}),(0,v.N7)(".js-feature-preview-indicator-container",t=>{sc(t)});async function sc(t){const e=t.getAttribute("data-feature-preview-indicator-src"),n=await rc(e),o=t.querySelectorAll(".js-feature-preview-indicator");for(const s of o)s.hidden=!n}i(sc,"fetchFeaturePreviewIndicator");async function rc(t){try{const e=await fetch(t,{headers:{Accept:"application/json"}});return e.ok?(await e.json()).show_indicator:!1}catch{return!1}}i(rc,"fetchIndicator");var It=u(96757),at=u(93507);(0,d.on)("click","[data-feature-preview-trigger-url]",async t=>{const e=t.currentTarget,n=e.getAttribute("data-feature-preview-trigger-url"),o=await(0,It.W)({content:(0,at.a)(document,n),dialogClass:"feature-preview-dialog"}),s=e.getAttribute("data-feature-preview-close-details"),r=e.getAttribute("data-feature-preview-close-hmac");o.addEventListener("dialog:remove",()=>{(0,St.b)({hydroEventPayload:s,hydroEventHmac:r},!0)});const a=document.querySelectorAll(".js-feature-preview-indicator");for(const c of a)c.hidden=!0}),(0,V.AC)(".js-feature-preview-unenroll",async(t,e)=>{await e.text();const n=t.querySelector(".js-feature-preview-slug").value;(0,d.f)(t,`feature-preview-unenroll:${n}`)}),(0,V.AC)(".js-feature-preview-enroll",async(t,e)=>{await e.text();const n=t.querySelector(".js-feature-preview-slug").value;(0,d.f)(t,`feature-preview-enroll:${n}`)});class $s{constructor(e,n){this.attachment=e,this.policy=n}async process(e){var n,o,s,r;const a=window.performance.now(),c=new Headers(this.policy.header||{}),l=new XMLHttpRequest;l.open("POST",this.policy.upload_url,!0);for(const[j,k]of c)l.setRequestHeader(j,k);l.onloadstart=()=>{e.attachmentUploadDidStart(this.attachment,this.policy)},l.upload.onprogress=j=>{if(j.lengthComputable){const k=Math.round(j.loaded/j.total*100);e.attachmentUploadDidProgress(this.attachment,k)}},await ic(l,ac(this.attachment,this.policy)),l.status===204?(Fs(this.policy),e.attachmentUploadDidComplete(this.attachment,this.policy,{})):l.status===201?(Fs(this.policy),e.attachmentUploadDidComplete(this.attachment,this.policy,JSON.parse(l.responseText))):e.attachmentUploadDidError(this.attachment,{status:l.status,body:l.responseText});const S={duration:window.performance.now()-a,size:(o=(n=this.attachment)==null?void 0:n.file)==null?void 0:o.size,fileType:(r=(s=this.attachment)==null?void 0:s.file)==null?void 0:r.type,success:l.status===204||l.status===201};(0,St.b)({uploadTiming:S},!0)}}i($s,"AttachmentUpload");function ic(t,e){return new Promise((n,o)=>{t.onload=()=>n(t),t.onerror=o,t.send(e)})}i(ic,"send");function ac(t,e){const n=new FormData;e.same_origin&&n.append("authenticity_token",e.upload_authenticity_token);for(const o in e.form)n.append(o,e.form[o]);return n.append("file",t.file),n}i(ac,"uploadForm");function Fs(t){const e=typeof t.asset_upload_url=="string"?t.asset_upload_url:null,n=typeof t.asset_upload_authenticity_token=="string"?t.asset_upload_authenticity_token:null;if(!(e&&n))return;const o=new FormData;o.append("authenticity_token",n),fetch(e,{method:"PUT",body:o,credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}i(Fs,"markComplete");async function cc(t,e){const n=fc(t,e);for(const o of t.attachments){const s=await lc(t,o,e);if(!s)return;try{await new $s(o,s).process(n)}catch{(0,d.f)(e,"upload:error",{batch:t,attachment:o}),Rt(e,"is-failed");return}}}i(cc,"upload");async function lc(t,e,n){const o=uc(e,n),s=[];(0,d.f)(n,"upload:setup",{batch:t,attachment:e,form:o,preprocess:s});try{await Promise.all(s);const r=await fetch(dc(o,n));if(r.ok)return await r.json();(0,d.f)(n,"upload:invalid",{batch:t,attachment:e});const a=await r.text(),c=r.status,{state:l,messaging:f}=Us({status:c,body:a},e.file);Rt(n,l,f)}catch{(0,d.f)(n,"upload:invalid",{batch:t,attachment:e}),Rt(n,"is-failed")}return null}i(lc,"validate");function uc(t,e){const n=e.querySelector(".js-data-upload-policy-url-csrf").value,o=e.getAttribute("data-upload-repository-id"),s=e.getAttribute("data-subject-type"),r=e.getAttribute("data-subject-param"),a=t.file,c=new FormData;return c.append("name",a.name),c.append("size",String(a.size)),c.append("content_type",a.type),c.append("authenticity_token",n),s&&c.append("subject_type",s),r&&c.append("subject",r),o&&c.append("repository_id",o),t.directory&&c.append("directory",t.directory),c}i(uc,"policyForm");function dc(t,e){return new Request(e.getAttribute("data-upload-policy-url"),{method:"POST",body:t,credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}i(dc,"policyRequest");function fc(t,e){return{attachmentUploadDidStart(n,o){n.saving(0),Rt(e,"is-uploading"),(0,d.f)(e,"upload:start",{batch:t,attachment:n,policy:o})},attachmentUploadDidProgress(n,o){n.saving(o),(0,d.f)(e,"upload:progress",{batch:t,attachment:n})},attachmentUploadDidComplete(n,o,s){n.saved(mc(s,o)),(0,d.f)(e,"upload:complete",{batch:t,attachment:n}),t.isFinished()&&Rt(e,"is-default")},attachmentUploadDidError(n,o){(0,d.f)(e,"upload:error",{batch:t,attachment:n});const{state:s}=Us(o);Rt(e,s)}}}i(fc,"createDelegate");function mc(t,e){const n=(t.id==null?null:String(t.id))||(e.asset.id==null?null:String(e.asset.id)),o=(typeof t.href=="string"?t.href:null)||(typeof e.asset.href=="string"?e.asset.href:null);return{id:n,href:o,name:e.asset.name}}i(mc,"savedAttributes");function Us(t,e){if(t.status===400)return{state:"is-bad-file"};if(t.status!==422)return{state:"is-failed"};const n=JSON.parse(t.body);if(!n||!n.errors)return{state:"is-failed"};for(const o of n.errors)switch(o.field){case"size":{const s=e?e.size:null;return s!=null&&s===0?{state:"is-empty"}:{state:"is-too-big",messaging:{message:hc(o.message),target:".js-upload-too-big"}}}case"file_count":return{state:"is-too-many"};case"width":case"height":return{state:"is-bad-dimensions"};case"name":return o.code==="already_exists"?{state:"is-duplicate-filename"}:{state:"is-bad-file"};case"content_type":return{state:"is-bad-file"};case"uploader_id":return{state:"is-bad-permissions"};case"repository_id":return{state:"is-repository-required"};case"format":return{state:"is-bad-format"}}return{state:"is-failed"}}i(Us,"policyErrorState");const hc=i(t=>t.startsWith("size")?t.substring(5):t,"trimSizeErrorMessage"),pc=["is-default","is-uploading","is-bad-file","is-duplicate-filename","is-too-big","is-too-many","is-hidden-file","is-failed","is-bad-dimensions","is-empty","is-bad-permissions","is-repository-required","is-bad-format"];function Rt(t,e,n){if(n){const{message:o,target:s}=n,r=t.querySelector(s);r&&(r.innerHTML=o)}t.classList.remove(...pc),t.classList.add(e)}i(Rt,"resetState");class Ws{constructor(e){this.attachments=e,this.size=this.attachments.length,this.total=Qn(this.attachments,n=>n.file.size)}percent(){const e=i(o=>o.file.size*o.percent/100,"bytes"),n=Qn(this.attachments,e);return Math.round(n/this.total*100)}uploaded(){const e=i(n=>n.isSaved()?1:0,"value");return Qn(this.attachments,e)}isFinished(){return this.attachments.every(e=>e.isSaved())}}i(Ws,"Batch");function Qn(t,e){return t.reduce((n,o)=>n+e(o),0)}i(Qn,"sum"),(0,v.N7)("file-attachment[hover]",{add(t){t.classList.add("dragover")},remove(t){t.classList.remove("dragover")}}),(0,d.on)("file-attachment-accept","file-attachment",function(t){const{attachments:e}=t.detail;e.length===0&&(Rt(t.currentTarget,"is-hidden-file"),t.preventDefault())}),(0,d.on)("file-attachment-accepted","file-attachment",function(t){const e=t.currentTarget.querySelector(".drag-and-drop");if(e&&e.hidden)return;const{attachments:n}=t.detail;cc(new Ws(n),t.currentTarget)});let zs=0;(0,v.N7)("file-attachment",{add(t){zs++===0&&(document.addEventListener("drop",Vs),document.addEventListener("dragover",Xs));const e=t.closest("form");e&&e.addEventListener("reset",Gs)},remove(t){--zs===0&&(document.removeEventListener("drop",Vs),document.removeEventListener("dragover",Xs));const e=t.closest("form");e&&e.removeEventListener("reset",Gs)}});function Ks(t){return Array.from(t.types).indexOf("Files")>=0}i(Ks,"file_attachment_hasFile");function Vs(t){const e=t.dataTransfer;e&&Ks(e)&&t.preventDefault()}i(Vs,"onDocumentDrop");function Xs(t){const e=t.dataTransfer;e&&Ks(e)&&t.preventDefault()}i(Xs,"onDocumentDragover");function Gs({currentTarget:t}){const e=t.querySelector("file-attachment");Rt(e,"is-default")}i(Gs,"onFormReset");var gc=u(93113);(0,d.on)("filter-input-updated","filter-input",t=>{const e=t.currentTarget.input;if(!(document.activeElement&&document.activeElement===e))return;const{count:n,total:o}=t.detail;(0,ft.x)(`Found ${n} out of ${o} ${o===1?"item":"items"}`)}),(0,d.on)("toggle","details",t=>{setTimeout(()=>bc(t.target),0)},{capture:!0}),(0,d.on)("tab-container-changed","tab-container",t=>{if(!(t.target instanceof HTMLElement))return;const{relatedTarget:e}=t.detail,n=t.target.querySelector("filter-input");n instanceof gc.Z&&n.setAttribute("aria-owns",e.id)},{capture:!0});function bc(t){const e=t.querySelector("filter-input");e&&!t.hasAttribute("open")&&e.reset()}i(bc,"resetFilter");var pf=u(2080);const Zs=navigator.userAgent.match(/Firefox\/(\d+)/);Zs&&Number(Zs[1])<76&&((0,v.N7)('details-menu label[tabindex][role^="menuitem"]',t=>{const e=t.querySelector("input");if(!e)return;const n=t.classList.contains("select-menu-item"),o=e.classList.contains("d-none"),s=n||o||e.hidden;n&&e.classList.add("d-block"),o&&e.classList.remove("d-none"),s&&(e.classList.add("sr-only"),e.hidden=!1),t.removeAttribute("tabindex")}),(0,d.on)("focus",'details-menu label[role="menuitemradio"] input, details-menu label[role="menuitemcheckbox"] input',t=>{const e=t.currentTarget.closest("label");e.classList.contains("select-menu-item")&&e.classList.add("navigation-focus"),e.classList.contains("SelectMenu-item")&&e.classList.add("hx_menuitem--focus"),e.classList.contains("dropdown-item")&&e.classList.add("hx_menuitem--focus"),t.currentTarget.addEventListener("blur",()=>{e.classList.contains("select-menu-item")&&e.classList.remove("navigation-focus"),e.classList.contains("SelectMenu-item")&&e.classList.remove("hx_menuitem--focus"),e.classList.contains("dropdown-item")&&e.classList.remove("hx_menuitem--focus")},{once:!0})},{capture:!0}),(0,X.w4)("keydown",'details-menu label[role="menuitemradio"] input, details-menu label[role="menuitemcheckbox"] input',async function(t){if(Js(t))t.currentTarget instanceof Element&&yc(t.currentTarget);else if(t.key==="Enter"){const e=t.currentTarget;t.preventDefault(),await(0,kt.gJ)(),e instanceof HTMLInputElement&&e.click()}}),(0,d.on)("blur",'details-menu label input[role="menuitemradio"], details-menu label input[role="menuitemcheckbox"]',t=>{Ys(t.currentTarget)},{capture:!0}),(0,X.w4)("keyup",'details-menu label[role="menuitemradio"] input, details-menu label[role="menuitemcheckbox"] input',t=>{!Js(t)||t.currentTarget instanceof Element&&Ys(t.currentTarget)}));function Js(t){return t.key==="ArrowDown"||t.key==="ArrowUp"}i(Js,"isArrowKeys");function yc(t){const e=t.closest("label");e.hasAttribute("data-role")||e.setAttribute("data-role",e.getAttribute("role")),t.setAttribute("role",e.getAttribute("data-role")),e.removeAttribute("role")}i(yc,"switchRoleToInputForNavigation");function Ys(t){const e=t.closest("label");e.hasAttribute("data-role")||e.setAttribute("data-role",e.getAttribute("role")),e.setAttribute("role",e.getAttribute("data-role")),t.removeAttribute("role")}i(Ys,"switchRoleBackToOriginalState");var to=u(64290);function Qs(){(0,to.lA)(document)&&(0,to.kc)(document)}i(Qs,"scrollTargetIntoViewIfNeeded"),(0,We.Z)(Qs),(0,d.on)("click",'a[href^="#"]',function(t){const{currentTarget:e}=t;e instanceof HTMLAnchorElement&&setTimeout(Qs,0)});var gf=u(86633);const vc=["flash-notice","flash-error","flash-message","flash-warn"];function wc(t){for(const{key:e,value:n}of vc.flatMap(pe.$1)){(0,pe.kT)(e);let o;try{o=atob(decodeURIComponent(n))}catch{continue}t.after(new Lt.R(t,{className:e,message:o}))}}i(wc,"displayFlash"),(0,v.N7)("template.js-flash-template",{constructor:HTMLTemplateElement,add(t){wc(t)}});const eo=new WeakMap;document.addEventListener("focus",function(t){const e=t.target;e instanceof Element&&!eo.get(e)&&((0,d.f)(e,"focusin:delay"),eo.set(e,!0))},{capture:!0}),document.addEventListener("blur",function(t){setTimeout(function(){const e=t.target;e instanceof Element&&e!==document.activeElement&&((0,d.f)(e,"focusout:delay"),eo.delete(e))},200)},{capture:!0}),(0,V.AC)(".js-form-toggle-target",async function(t,e){try{await e.text()}catch{return}const n=t.closest(".js-form-toggle-container");n.querySelector(".js-form-toggle-target[hidden]").hidden=!1,t.hidden=!0});function Ec(t){t instanceof CustomEvent&&(0,ft.x)(`${t.detail} results found.`)}i(Ec,"noticeHandler"),(0,v.N7)("fuzzy-list",{constructor:E,subscribe:t=>(0,R.RB)(t,"fuzzy-list-sorted",Ec)}),(0,d.on)("click",".email-hidden-toggle",function(t){const e=t.currentTarget.nextElementSibling;e instanceof HTMLElement&&(e.style.display="",e.classList.toggle("expanded"),t.preventDefault())});var bf=u(57336);(0,v.N7)(".js-hook-url-field",{constructor:HTMLInputElement,add(t){function e(){const n=t.form;if(!n)return;let o;try{o=new URL(t.value)}catch{}const s=n.querySelector(".js-invalid-url-notice");s instanceof HTMLElement&&(s.hidden=!!(t.value===""||o&&/^https?:/.test(o.protocol)));const r=n.querySelector(".js-insecure-url-notice");r instanceof HTMLElement&&o&&t.value&&(r.hidden=/^https:$/.test(o.protocol));const a=n.querySelector(".js-ssl-hook-fields");a instanceof HTMLElement&&(a.hidden=!(o&&o.protocol==="https:"))}i(e,"checkUrl"),(0,Zo.oq)(t,e),e()}});function tr(t){const e=document.querySelectorAll(".js-hook-event-checkbox");for(const n of e)n.checked=n.matches(t)}i(tr,"chooseEvents"),(0,d.on)("change",".js-hook-event-choice",function(t){const e=t.currentTarget,n=e.checked&&e.value==="custom",o=e.closest(".js-hook-events-field");if(o&&o.classList.toggle("is-custom",n),e.checked)if(n){const s=document.querySelector(".js-hook-wildcard-event");s.checked=!1}else e.value==="push"?tr('[value="push"]'):e.value==="all"&&tr(".js-hook-wildcard-event")}),(0,d.on)("click",".js-hook-deliveries-pagination-button",async function(t){const e=t.currentTarget;e.disabled=!0;const n=e.parentElement,o=e.getAttribute("data-url");n.before(await(0,at.a)(document,o)),n.remove()}),(0,V.AC)(".js-redeliver-hook-form",async function(t,e){let n;try{n=await e.html()}catch{t.classList.add("failed");return}document.querySelector(".js-hook-deliveries-container").replaceWith(n.html)});var yf=u(19157),no=u(24773);const st=document.querySelector(".js-hovercard-content"),Lc=(0,jt.Z)(at.a);let Dt,Qe=null,oo,so=0;const ro=12,io=24,er=io-7,nr=16,Sc=100,jc=250;function Wt(t){return"Popover-message--"+t}i(Wt,"contentClass");function Tc(t){setTimeout(()=>{if(document.body&&document.body.contains(t)){const e=t.querySelector("[data-hovercard-tracking]");if(e){const o=e.getAttribute("data-hovercard-tracking");o&&(0,Qt.q)("user-hovercard-load",JSON.parse(o))}const n=t.querySelector("[data-hydro-view]");n instanceof HTMLElement&&(0,no.Fk)(n)}},500)}i(Tc,"trackLoad");function be(){st instanceof HTMLElement&&(st.style.display="none",st.children[0].innerHTML="",Qe=null,Dt=null)}i(be,"hideCard");function Ac(t){const e=t.getClientRects();let n=e[0]||t.getBoundingClientRect()||{top:0,left:0,height:0,width:0};if(e.length>0){for(const o of e)if(o.left<so&&o.right>so){n=o;break}}return n}i(Ac,"selectRectNearestMouse");function Cc(t){const{width:e,height:n}=st.getBoundingClientRect(),{left:o,top:s,height:r,width:a}=Ac(t),c=s>n;if(t.classList.contains("js-hovercard-left")){const f=o-e-ro,p=s+r/2;return{containerTop:c?p-n+er+nr/2:p-er-nr/2,containerLeft:f,contentClassSuffix:c?"right-bottom":"right-top"}}else{const f=window.innerWidth-o>e,p=o+a/2,S=f?p-io:p-e+io;return{containerTop:c?s-n-ro:s+r+ro,containerLeft:S,contentClassSuffix:c?f?"bottom-left":"bottom-right":f?"top-left":"top-right"}}}i(Cc,"calculatePositions");function kc(t,e){if(!(st instanceof HTMLElement))return;st.style.visibility="hidden",st.style.display="block",e.classList.remove(Wt("bottom-left"),Wt("bottom-right"),Wt("right-top"),Wt("right-bottom"),Wt("top-left"),Wt("top-right"));const{containerTop:n,containerLeft:o,contentClassSuffix:s}=Cc(t);e.classList.add(Wt(s)),st.style.top=`${n+window.pageYOffset}px`,st.style.left=`${o+window.pageXOffset}px`,_c(t,st),st.style.visibility=""}i(kc,"positionCard");function xc(t,e){if(!(st instanceof HTMLElement))return;const n=st.children[0];n.innerHTML="";const o=document.createElement("div");for(const s of t.children)o.appendChild(s.cloneNode(!0));n.appendChild(o),kc(e,n),Tc(o),st.style.display="block"}i(xc,"showCard");function Mc(t){const e=t.closest("[data-hovercard-subject-tag]");if(e)return e.getAttribute("data-hovercard-subject-tag");const n=document.head&&document.head.querySelector('meta[name="hovercard-subject-tag"]');return n?n.getAttribute("content"):null}i(Mc,"determineEnclosingSubject");function qc(t){const e=t.getAttribute("data-hovercard-url");if(e){const n=Mc(t);if(n){const o=new URL(e,window.location.origin),s=new URLSearchParams(o.search.slice(1));return s.append("subject",n),s.append("current_path",window.location.pathname+window.location.search),o.search=s.toString(),o.toString()}return e}return""}i(qc,"hovercardUrlFromTarget");function Pc(t){const e=t.getAttribute("data-hovercard-type");return e==="pull_request"||e==="issue"?!!t.closest("[data-issue-and-pr-hovercards-enabled]"):e==="team"?!!t.closest("[data-team-hovercards-enabled]"):e==="repository"?!!t.closest("[data-repository-hovercards-enabled]"):e==="commit"?!!t.closest("[data-commit-hovercards-enabled]"):e==="project"?!!t.closest("[data-project-hovercards-enabled]"):e==="discussion"?!!t.closest("[data-discussion-hovercards-enabled]"):e==="acv_badge"?!!t.closest("[data-acv-badge-hovercards-enabled]"):e==="sponsors_listing"?!!t.closest("[data-sponsors-listing-hovercards-enabled]"):!0}i(Pc,"hovercardsAreEnabledForType");async function Ic(t,e){if("ontouchstart"in document)return;const o=t.currentTarget;if(t instanceof MouseEvent&&(so=t.clientX),!(o instanceof Element)||Dt===o||o.closest(".js-hovercard-content")||!Pc(o))return;be(),Dt=o,Qe=document.activeElement;const s=qc(o);let r;try{const a=new Promise(c=>window.setTimeout(c,e,0));r=await Lc(document,s),await a}catch(a){const c=a.response;if(c&&c.status===404){const l="Hovercard is unavailable";o.setAttribute("aria-label",l),o.classList.add("tooltipped","tooltipped-ne")}else if(c&&c.status===410){const l=await c.clone().json();o.setAttribute("aria-label",l.message),o.classList.add("tooltipped","tooltipped-ne")}return}o===Dt&&(xc(r,o),t instanceof KeyboardEvent&&st instanceof HTMLElement&&st.focus())}i(Ic,"activateFn");function Rc(t){Ic(t,jc)}i(Rc,"activateWithTimeoutFn");function ao(t){if(!!Dt){if(t instanceof MouseEvent&&t.relatedTarget instanceof HTMLElement){const e=t.relatedTarget;if(e.closest(".js-hovercard-content")||e.closest("[data-hovercard-url]"))return}else t instanceof KeyboardEvent&&Qe instanceof HTMLElement&&Qe.focus();be()}}i(ao,"deactivateFn");function Dc(t){const e=Dt;oo=window.setTimeout(()=>{Dt===e&&ao(t)},Sc)}i(Dc,"deactivateWithTimeoutFn");function or(t){if(t instanceof KeyboardEvent)switch(t.key){case"Escape":ao(t)}}i(or,"keyupFn");function Nc(){oo&&clearTimeout(oo)}i(Nc,"cancelDeactivation"),st&&((0,v.N7)("[data-hovercard-url]",{subscribe:t=>(0,R.qC)((0,R.RB)(t,"mouseover",Rc),(0,R.RB)(t,"mouseleave",Dc),(0,R.RB)(t,"keyup",or))}),(0,v.N7)("[data-hovercard-url]",{remove(t){Dt===t&&be()}}),(0,v.N7)(".js-hovercard-content",{subscribe:t=>(0,R.qC)((0,R.RB)(t,"mouseover",Nc),(0,R.RB)(t,"mouseleave",ao),(0,R.RB)(t,"keyup",or))}),(0,d.on)("menu:activated","details",be),window.addEventListener("statechange",be));function _c(t,e){const n=t.getAttribute("data-hovercard-z-index-override");n?e.style.zIndex=n:e.style.zIndex="100"}i(_c,"setZIndexOverride"),async function(){document.addEventListener("pjax:complete",()=>(0,Qt.Y)({pjax:"true"})),await xt.C,(0,Qt.Y)()}(),(0,d.on)("click","[data-octo-click]",function(t){const e=t.currentTarget;if(!(e instanceof HTMLElement))return;const n=e.getAttribute("data-octo-click")||"",o={};if(e.hasAttribute("data-ga-click")){const r=e.getAttribute("data-ga-click").split(",");o.category=r[0].trim(),o.action=r[1].trim()}if(e.hasAttribute("data-octo-dimensions")){const s=e.getAttribute("data-octo-dimensions").split(",");for(const r of s){const[a,c]=r.split(/:(.+)/);a&&(o[a]=c||"")}}(0,Qt.q)(n,o)}),(0,d.on)("click","[data-hydro-click]",function(t){const e=t.currentTarget,n=e.getAttribute("data-hydro-click")||"",o=e.getAttribute("data-hydro-click-hmac")||"",s=e.getAttribute("data-hydro-client-context")||"";(0,no.$S)(n,o,s)}),(0,d.on)("click","[data-optimizely-hydro-click]",function(t){const e=t.currentTarget,n=e.getAttribute("data-optimizely-hydro-click")||"",o=e.getAttribute("data-optimizely-hydro-click-hmac")||"";(0,no.$S)(n,o,"")}),(0,V.AC)(".js-immediate-updates",async function(t,e){let n;try{n=(await e.json()).json.updateContent}catch(o){o.response.json&&(n=o.response.json.updateContent)}if(n)for(const o in n){const s=n[o],r=document.querySelector(o);r instanceof HTMLElement&&(0,Mt.Of)(r,s)}}),(0,v.N7)("[data-indeterminate]",{constructor:HTMLInputElement,initialize(t){t.indeterminate=!0}});var Hc=u(62976);function Bc(){u.e(1927).then(u.bind(u,51927))}i(Bc,"load"),(0,v.N7)(".js-jump-to-field",{constructor:HTMLInputElement,add(t){t.addEventListener("focusin",Bc,{once:!0}),(0,Hc.Nc)(window.location.pathname)}});var co=u(13178);let lo=!1;async function sr(){if(lo)return;lo=!0;const e={contexts:document.querySelector("meta[name=github-keyboard-shortcuts]").content},n=`/site/keyboard_shortcuts?${new URLSearchParams(e).toString()}`,o=await(0,It.W)({content:(0,at.a)(document,n),labelledBy:"keyboard-shortcuts-heading"});o.style.width="800px",o.addEventListener("dialog:remove",function(){lo=!1},{once:!0})}i(sr,"showKeyboardShortcuts"),(0,d.on)("click",".js-keyboard-shortcuts",sr),document.addEventListener("keydown",t=>{t instanceof KeyboardEvent&&(!(0,ks.Zf)(t)||t.target instanceof Node&&(0,J.sw)(t.target)||(0,co.EL)(t)==="Shift+?"&&sr())}),(0,v.N7)(".js-modifier-key",{constructor:HTMLElement,add(t){if(/Macintosh/.test(navigator.userAgent)){let e=t.textContent;e&&(e=e.replace(/ctrl/,"\u2318"),e=e.replace(/alt/,"\u2325"),t.textContent=e)}}}),(0,v.N7)(".js-modifier-label-key",{add(t){var e;let n=(e=t.textContent)==null?void 0:e.replace(/ctrl/i,"Ctrl");!n||(/Macintosh/.test(navigator.userAgent)&&(n=n.replace(/ctrl/i,"Cmd"),n=n.replace(/alt/i,"Option")),t.textContent=n)}});function tn(t){const e=t.currentTarget;if(!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))return;const n=parseInt(e.getAttribute("data-input-max-length")||"",10),o=parseInt(e.getAttribute("data-warning-length")||"",10)||5,r=e.value.replace(/(\r\n|\n|\r)/g,`\r
`);let a=n-r.length;if(a<=0){let p=r.substr(0,n);p.endsWith("\r")?(p=p.substr(0,n-1),a=1):a=0,e.value=p}const c=e.getAttribute("data-warning-text"),f=e.closest(".js-length-limited-input-container").querySelector(".js-length-limited-input-warning");a<=o?(f.textContent=c.replace(new RegExp("{{remaining}}","g"),`${a}`),f.classList.remove("d-none")):(f.textContent="",f.classList.add("d-none"))}i(tn,"displayLengthWarning"),(0,v.N7)(".js-length-limited-input",{add(t){t.addEventListener("input",tn),t.addEventListener("change",tn)},remove(t){t.removeEventListener("input",tn),t.removeEventListener("change",tn)}}),(0,v.N7)("link[rel=prefetch-viewed]",{initialize(){window.requestIdleCallback(()=>{fetch(location.href,{method:"HEAD",credentials:"same-origin",headers:{Purpose:"prefetch-viewed"}})})}}),(0,d.on)("click",".js-member-search-filter",function(t){t.preventDefault();const e=t.currentTarget.getAttribute("data-filter"),o=t.currentTarget.closest("[data-filter-on]").getAttribute("data-filter-on"),s=document.querySelector(".js-member-filter-field"),r=s.value,a=new RegExp(`${o}:(?:[a-z]|_|((').*(')))+`),c=r.toString().trim().replace(a,"");s.value=`${c} ${e}`.replace(/\s\s/," ").trim(),s.focus(),(0,d.f)(s,"input")}),(0,d.on)("auto-check-success",".js-new-organization-name",function(t){const e=t.target,o=e.closest("dd").querySelector(".js-field-hint-name");!o||(o.textContent=e.value)}),(0,V.AC)(".js-notice-dismiss",async function(t,e){await e.text(),t.closest(".js-notice").remove()}),(0,d.on)("submit",".js-notice-dismiss-remote",async function(t){const e=t.currentTarget;t.preventDefault();let n;try{n=await fetch(e.action,{method:e.method,body:new FormData(e),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{(0,me.v)();return}n&&!n.ok?(0,me.v)():e.closest(".js-notice").remove()});function Oc(t){try{const e=t.getBoundingClientRect();if(e.height===0&&e.width===0||t.style.opacity==="0"||t.style.visibility==="hidden")return!1}catch{}return!0}i(Oc,"isVisible"),(0,d.on)("click",".js-github-dev-shortcut",function(t){t.preventDefault();for(const n of document.querySelectorAll("textarea.js-comment-field"))if(n.value&&Oc(n)&&!confirm("Are you sure you want to open github.dev?"))return;const e=t.currentTarget;e.pathname=window.location.pathname,e.hash=window.location.hash,window.location.href=e.href}),(0,d.on)("click",".js-github-dev-new-tab-shortcut",function(t){const e=t.currentTarget;e.pathname=window.location.pathname,e.hash=window.location.hash});function $c(t,e,n){const o=new URL("",window.location.origin),s=e.pathname.split("/");o.pathname=s.slice(1,3).join("/"),o.hash=e.hash,n&&(o.search=`?q=${encodeURIComponent(n)}`);const a=new URLSearchParams(e.search).get("q");return a?o.search=`?q=${encodeURIComponent(a)}`:s.length>=6&&(s[3]==="blob"||s[3]==="tree")&&(o.pathname=e.pathname),o.host=t.host,o.protocol=t.protocol,o.port=t.port,o}i($c,"getBlackbirdURL"),(0,d.on)("click",".js-blackbird-shortcut",function(t){var e;const n=t.currentTarget,o=$c(n,new URL(window.location.href,window.location.origin),(e=window.getSelection())==null?void 0:e.toString());n.href=o.href}),(0,d.on)("click",".js-permalink-shortcut",function(t){const e=t.currentTarget;try{(0,te.lO)(null,"",e.href+window.location.hash)}catch{window.location.href=e.href+window.location.hash}for(const n of document.querySelectorAll(".js-permalink-replaceable-link"))n instanceof HTMLAnchorElement&&(n.href=n.getAttribute("data-permalink-href"));t.preventDefault()}),(0,V.AC)(".js-permission-menu-form",async function(t,e){const n=t.querySelector(".js-permission-success"),o=t.querySelector(".js-permission-error");n.hidden=!0,o.hidden=!0,t.classList.add("is-loading");let s;try{s=await e.json()}catch{t.classList.remove("is-loading"),o.hidden=!1;return}t.classList.remove("is-loading"),n.hidden=!1;const r=t.closest(".js-org-repo");if(r){const a=s.json;r.classList.toggle("with-higher-access",a.members_with_higher_access)}}),async function(){await xt.x;const t=document.querySelector(".js-pjax-loader-bar");if(!t)return;const e=t.firstElementChild;if(!(e instanceof HTMLElement))return;let n=0,o=null,s=null;function r(){a(0),t&&t.classList.add("is-loading"),o=window.setTimeout(c,0)}i(r,"initiateLoader");function a(f){e instanceof HTMLElement&&(f===0&&(s==null&&(s=getComputedStyle(e).transition),e.style.transition="none"),n=f,e.style.width=`${n}%`,f===0&&(e.clientWidth,e.style.transition=s||""))}i(a,"setWidth");function c(){n===0&&(n=12),a(Math.min(n+3,95)),o=window.setTimeout(c,500)}i(c,"increment");function l(){o&&clearTimeout(o),a(100),t&&t.classList.remove("is-loading")}i(l,"finishLoader"),document.addEventListener("pjax:start",r),document.addEventListener("pjax:end",l)}();let uo=null;const fo="last_pjax_request",en="pjax_start",mo="pjax_end";function Fc(t){t instanceof CustomEvent&&t.detail&&t.detail.url&&(window.performance.mark(en),uo=t.detail.url)}i(Fc,"markPjaxStart");async function Uc(){if(await(0,kt.gJ)(),!window.performance.getEntriesByName(en).length)return;window.performance.mark(mo),window.performance.measure(fo,en,mo);const e=window.performance.getEntriesByName(fo).pop(),n=e?e.duration:null;!n||(uo&&(0,St.b)({requestUrl:uo,pjaxDuration:Math.round(n)}),Wc())}i(Uc,"trackPjaxTiming");function Wc(){window.performance.clearMarks(en),window.performance.clearMarks(mo),window.performance.clearMeasures(fo)}i(Wc,"clearPjaxMarks"),"getEntriesByName"in window.performance&&(document.addEventListener("pjax:start",Fc),document.addEventListener("pjax:end",Uc));let ho=null;const po="last_turbo_request",nn="turbo_start",go="turbo_end";function zc(t){var e;t instanceof CustomEvent&&(!((e=t.detail)==null?void 0:e.url)||(window.performance.mark(nn),ho=t.detail.url))}i(zc,"markTurboStart");async function Kc(){if(await(0,kt.gJ)(),!window.performance.getEntriesByName(nn).length)return;window.performance.mark(go),window.performance.measure(po,nn,go);const e=window.performance.getEntriesByName(po).pop(),n=e?e.duration:null;!n||(ho&&(0,St.b)({requestUrl:ho,turboDuration:Math.round(n)}),Vc())}i(Kc,"trackTurboTiming");function Vc(){window.performance.clearMarks(nn),window.performance.clearMarks(go),window.performance.clearMeasures(po)}i(Vc,"clearTurboMarks"),"getEntriesByName"in window.performance&&(document.addEventListener("turbo:before-fetch-request",zc),document.addEventListener("turbo:render",Kc));var wf=u(81211),Ef=u(96437);function Xc(t,e){const n=t.split("/",3).join("/"),o=e.split("/",3).join("/");return n===o}i(Xc,"isSameRepo"),(0,d.on)("pjax:click","#js-repo-pjax-container a[href]",function(t){const e=t.currentTarget.pathname;Xc(e,location.pathname)||t.preventDefault()}),(0,d.on)("pjax:click",".js-comment-body",function(t){const e=t.target;e instanceof HTMLAnchorElement&&e.pathname.split("/")[3]==="files"&&t.preventDefault()});var Lf=u(50681),Sf=u(17448),jf=u(66144),ye=u(64360),Nt=u(46434);(0,d.on)("click","[data-pjax] a, a[data-pjax]",function(t){const e=t.currentTarget;if(e instanceof HTMLAnchorElement){if(e.getAttribute("data-skip-pjax")!=null||e.getAttribute("data-remote")!=null)return;const n=(0,ye.W)(e);n&&Gc(t,{container:n,scrollTo:(0,ye.r)(e)})}}),(0,d.on)("change","select[data-pjax]",function(t){if((0,Nt.c)("PJAX_DISABLED")||(0,Nt.c)("TURBO"))return;const e=t.currentTarget,n=(0,ye.W)(e);n&&(0,he.ZP)({url:e.value,container:n})});function Gc(t,e){if((0,Nt.c)("PJAX_DISABLED")||(0,Nt.c)("TURBO"))return;const n=t.currentTarget;if(t.button!==0||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==n.protocol||location.hostname!==n.hostname||n.href.indexOf("#")>-1&&rr(n)===rr(location)||t.defaultPrevented)return;const o={url:n.href,target:n,...e},s=new CustomEvent("pjax:click",{bubbles:!0,cancelable:!0,detail:{options:o,relatedEvent:t}});n.dispatchEvent(s)&&((0,he.ZP)(o),t.preventDefault(),n.dispatchEvent(new CustomEvent("pjax:clicked",{bubbles:!0,cancelable:!0,detail:{options:o}})))}i(Gc,"click");function rr(t){return t.href.replace(/#.*/,"")}i(rr,"stripHash"),(0,d.on)("submit","form[data-pjax]",function(t){if((0,Nt.c)("PJAX_DISABLED")||(0,Nt.c)("TURBO"))return;const e=t.currentTarget,n=(0,ye.W)(e);if(!n)return;const o=(0,ye.r)(e),s={type:(e.method||"GET").toUpperCase(),url:e.action,target:e,scrollTo:o,container:n};if(s.type==="GET"){if(e.querySelector("input[type=file]"))return;const r=Zc(s.url);r.search+=(r.search?"&":"")+(0,J.qC)(e),s.url=r.toString()}else s.data=new FormData(e);(0,he.ZP)(s),t.preventDefault()});function Zc(t){const e=document.createElement("a");return e.href=t,e}i(Zc,"parseURL"),(0,v.N7)("body.js-print-popup",()=>{window.print(),setTimeout(window.close,1e3)}),(0,v.N7)("poll-include-fragment[data-redirect-url]",function(t){const e=t.getAttribute("data-redirect-url");t.addEventListener("load",function(){window.location.href=e})}),(0,v.N7)("poll-include-fragment[data-reload]",function(t){t.addEventListener("load",function(){window.location.reload()})});var Jc=u(16543),Yc=u(9569);const Qc="$__",ir=document.querySelector("meta[name=js-proxy-site-detection-payload]"),ar=document.querySelector("meta[name=expected-hostname]");if(ir instanceof HTMLMetaElement&&ar instanceof HTMLMetaElement&&(0,Jc.Z)(document)){const t={url:window.location.href,expectedHostname:ar.content,documentHostname:document.location.hostname,proxyPayload:ir.content},e=new Error,n={};n[`${Qc}`]=btoa(JSON.stringify(t)),(0,Yc.eK)(e,n)}(0,X.w4)("keydown",".js-quick-submit",function(t){tl(t)});function tl(t){const e=t.target;if((t.ctrlKey||t.metaKey)&&t.key==="Enter"){const n=e.form,o=n.querySelector("input[type=submit], button[type=submit]");if(t.shiftKey){const s=n.querySelector(".js-quick-submit-alternative");(s instanceof HTMLInputElement||s instanceof HTMLButtonElement)&&!s.disabled&&(0,J.Bt)(n,s)}else(o instanceof HTMLInputElement||o instanceof HTMLButtonElement)&&o.disabled||(0,J.Bt)(n);t.preventDefault()}}i(tl,"quickSubmit");var cr=u(21335);let on;(0,v.N7)(".js-comment-quote-reply",function(t){var e;t.hidden=((e=t.closest(".js-quote-selection-container"))==null?void 0:e.querySelector(".js-inline-comment-form-container textarea, .js-new-comment-form textarea"))==null});function lr(t){return t.nodeName==="DIV"&&t.classList.contains("highlight")}i(lr,"isHighlightContainer");function el(t){return t.nodeName==="IMG"||t.firstChild!=null}i(el,"hasContent");const ur={PRE(t){const e=t.parentElement;if(e&&lr(e)){const n=e.className.match(/highlight-source-(\S+)/),o=n?n[1]:"",s=(t.textContent||"").replace(/\n+$/,"");t.textContent=`\`\`\`${o}
${s}
\`\`\``,t.append(`

`)}return t},A(t){const e=t.textContent||"";return t.classList.contains("user-mention")||t.classList.contains("team-mention")||t.classList.contains("issue-link")&&/^#\d+$/.test(e)?e:t},IMG(t){const e=t.getAttribute("alt");return e&&t.classList.contains("emoji")?e:t},DIV(t){if(t.classList.contains("js-suggested-changes-blob"))t.remove();else if(t.classList.contains("blob-wrapper-embedded")){const e=t.parentElement,n=e.querySelector("a[href]"),o=document.createElement("p");o.textContent=n.href,e.replaceWith(o)}return t}};function nl(t){const e=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT,{acceptNode(s){return s.nodeName in ur&&el(s)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),n=[];let o=e.nextNode();for(;o;)o instanceof HTMLElement&&n.push(o),o=e.nextNode();n.reverse();for(const s of n)s.replaceWith(ur[s.nodeName](s))}i(nl,"insertMarkdownSyntax"),(0,d.on)("click",".js-comment-quote-reply",function({isTrusted:t,currentTarget:e}){const n=e.closest(".js-comment"),o=n.querySelector(".js-comment-body"),s=n.querySelector(".js-comment-body").cloneNode(!0),r=n.closest(".js-quote-selection-container"),a=o.querySelectorAll("button.js-convert-to-issue-button, span.js-clear");for(const f of a)f.remove();let c=new cr.p;if(!t&&c.range.collapsed||(r.hasAttribute("data-quote-markdown")&&(c=new cr.I(r.getAttribute("data-quote-markdown")||"",f=>{const p=c.range.startContainer.parentElement,S=p&&p.closest("pre");if(S instanceof HTMLElement){const j=S.parentElement;if(j&&lr(j)){const k=document.createElement("div");k.className=j.className,k.appendChild(f),f.appendChild(k)}}nl(f)})),on&&o.contains(on.anchorNode)?c.range=on.range:c.range.collapsed&&c.select(o),c.closest(".js-quote-selection-container")!==r))return;const l=c.range;r.dispatchEvent(new CustomEvent("quote-selection",{bubbles:!0,detail:c})),c.range=l;for(const f of r.querySelectorAll("textarea"))if((0,Ue.Z)(f)){c.insert(f);break}n.querySelector(".js-comment-body").replaceWith(s)});let bo;document.addEventListener("selectionchange",(0,ee.D)(function(){const t=window.getSelection();let e;try{e=t.getRangeAt(0)}catch{bo=null;return}bo={anchorNode:t.anchorNode,range:e}},100)),document.addEventListener("toggle",()=>{on=bo},{capture:!0}),(0,V.AC)(".js-pick-reaction",async function(t,e){const n=await e.json(),o=t.closest(".js-comment"),s=o.querySelector(".js-reactions-container"),r=o.querySelector(".js-comment-header-reaction-button"),a=(0,Et.r)(document,n.json.reactions_container.trim()),c=(0,Et.r)(document,n.json.comment_header_reaction_button.trim());s.replaceWith(a),r.replaceWith(c)});function dr(t){const e=t.target,n=e.getAttribute("data-reaction-label"),s=e.closest(".js-add-reaction-popover").querySelector(".js-reaction-description");s.hasAttribute("data-default-text")||s.setAttribute("data-default-text",s.textContent||""),s.textContent=n}i(dr,"showReactionContent");function fr(t){const n=t.target.closest(".js-add-reaction-popover").querySelector(".js-reaction-description"),o=n.getAttribute("data-default-text");o&&(n.textContent=o)}i(fr,"hideReactionContent"),(0,d.on)("toggle",".js-reaction-popover-container",function(t){const e=t.currentTarget.hasAttribute("open");for(const n of t.target.querySelectorAll(".js-reaction-option-item"))e?(n.addEventListener("mouseenter",dr),n.addEventListener("mouseleave",fr)):(n.removeEventListener("mouseenter",dr),n.removeEventListener("mouseleave",fr))},{capture:!0});var yo=u(85965),mr=u(65352);function ol(t,e,n){t.getAttribute("data-type")==="json"&&n.headers.set("Accept","application/json"),(0,d.f)(t,"deprecatedAjaxSend",{request:n}),e.text().catch(s=>{if(s.response)return s.response;throw s}).then(s=>{s.status<300?(0,d.f)(t,"deprecatedAjaxSuccess"):(0,d.f)(t,"deprecatedAjaxError",{error:s.statusText,status:s.status,text:s.text})},s=>{(0,d.f)(t,"deprecatedAjaxError",{error:s.message,status:0,text:null})}).then(()=>{(0,d.f)(t,"deprecatedAjaxComplete")})}i(ol,"submitWithLegacyEvents"),(0,d.on)("click",["form button:not([type])","form button[type=submit]","form input[type=submit]"].join(", "),function(t){const e=t.currentTarget;e.form&&!t.defaultPrevented&&(0,yo.j)(e)}),(0,V.AC)("form[data-remote]",ol),(0,d.on)("deprecatedAjaxComplete","form",function({currentTarget:t}){const e=(0,yo.u)(t);e&&e.remove()}),(0,V.uT)(t=>{const e=(0,yo.u)(t);e&&e.remove()}),(0,V.rK)(mr.Z);var sl=Object.defineProperty,rl=Object.getOwnPropertyDescriptor,ve=i((t,e,n,o)=>{for(var s=o>1?void 0:o?rl(e,n):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(s=(o?a(e,n,s):a(s))||s);return o&&s&&sl(e,n,s),s},"remote_pagination_element_decorateClass");let se=i(class extends HTMLElement{constructor(){super(...arguments);this.loaderWasFocused=!1}connectedCallback(){this.setPaginationUrl(this.list)}get hasNextPage(){return!this.form.hidden}loadNextPage(){!this.hasNextPage||(0,J.Bt)(this.form)}get disabled(){return this.submitButton.hasAttribute("aria-disabled")}set disabled(t){t?this.submitButton.setAttribute("aria-disabled","true"):this.submitButton.removeAttribute("aria-disabled"),this.submitButton.classList.toggle("disabled",t)}loadstart(t){t.target.addEventListener("focus",()=>{this.loaderWasFocused=!0},{once:!0}),t.target.addEventListener("include-fragment-replaced",()=>{var e;this.setPaginationUrl(this.list),this.loaderWasFocused&&((e=this.focusMarkers.pop())==null||e.focus()),this.loaderWasFocused=!1},{once:!0})}async submit(t){var e;if(t.preventDefault(),this.disabled)return;this.disabled=!0;let n;try{const s=await fetch(this.form.action);if(!s.ok)return;n=await s.text()}catch{return}const o=(0,Et.r)(document,n);this.setPaginationUrl(o),this.list.append(o),(e=this.focusMarkers.pop())==null||e.focus(),this.disabled=!1,this.dispatchEvent(new CustomEvent("remote-pagination-load"))}setPaginationUrl(t){const e=t.querySelector("[data-pagination-src]");if(!e)return;const n=e.getAttribute("data-pagination-src");n?(this.form.action=n,this.form.hidden=!1):this.form.hidden=!0}},"RemotePaginationElement");ve([P.fA],se.prototype,"form",2),ve([P.fA],se.prototype,"list",2),ve([P.GO],se.prototype,"focusMarkers",2),ve([P.fA],se.prototype,"submitButton",2),se=ve([P.Ih],se),(0,v.N7)(".has-removed-contents",function(){let t;return{add(e){t=Array.from(e.childNodes);for(const o of t)e.removeChild(o);const n=e.closest("form");n&&(0,d.f)(n,"change")},remove(e){for(const o of t)e.appendChild(o);const n=e.closest("form");n&&(0,d.f)(n,"change")}}});var mt=u(28933),il=(t=>(t.Auto="auto",t.Light="light",t.Dark="dark",t))(il||{});function al(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}i(al,"getUserSystemColorMode");const vo=".js-render-plaintext";function cl(t){const e=t.closest(".js-render-needs-enrichment");if(!e)return;e.querySelector(vo)&&wo(e,!1)}i(cl,"markdownEnrichmentSuccess");function ll(t,e){wo(t,!1),hr(t,!0),t.classList.add("render-error");const n=t.querySelector(vo);if(!n)return;n.classList.remove("render-plaintext-hidden");const o=n.querySelector("pre");(0,mt.sY)(mt.dy`${e} ${o}`,n)}i(ll,"showMarkdownRenderError");function wo(t,e){const n=t.getElementsByClassName("js-render-enrichment-loader")[0],o=t.getElementsByClassName("render-expand")[0];n&&(n.hidden=!e),o&&(o.hidden=e)}i(wo,"setCodeBlockLoaderVisibility");function hr(t,e){const n=t.querySelector(vo);e?n.classList.remove("render-plaintext-hidden"):n.classList.add("render-plaintext-hidden")}i(hr,"setRawCodeBlockVisibility");class pr{constructor(e){this.el=e,this.enrichmentTarget=e.getElementsByClassName("js-render-enrichment-target")[0],this.iframeUrl=this.getIframeUrl(),this.identifier=this.el.getAttribute("data-identity"),this.iframeContentType=this.el.getAttribute("data-type"),this.iframeOrigin=new URL(this.iframeUrl,window.location.origin).origin,this.iframeContent=this.el.getAttribute("data-content"),wo(this.el,!0)}enrich(){const e=this.createDialog();(0,mt.sY)(e,this.enrichmentTarget),this.setupModal()}getIframeUrl(){const e=this.el.getAttribute("data-src"),n={...this.colorMode()},o=Object.entries(n).map(([s,r])=>`${s}=${r}`).join("&");return`${e}?${o}`}colorMode(){var e;let n=(e=document.querySelector("html"))==null?void 0:e.getAttribute("data-color-mode");return(n==="auto"||!n)&&(n=al()),{color_mode:n}}setupModal(){const e=this.generateIframeCode("-fullscreen"),n=this.el.querySelector(".Box-body");this.el.querySelector(".js-full-screen-render").addEventListener("click",()=>{(0,mt.sY)(e,n)})}createDialog(){const e=this.generateIframeCode();return mt.dy` <div class="d-flex flex-column flex-auto js-render-box">
      <details class="details-reset details-overlay details-overlay-dark">
        <summary class="btn-sm btn position-absolute js-full-screen-render render-expand" aria-haspopup="dialog" hidden>
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="currentColor"
            class="octicon"
            style="display:inline-block;vertical-align:text-bottom"
          >
            <path
              fill-rule="evenodd"
              d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"
            ></path>
          </svg>
        </summary>
        <details-dialog class="Box Box--overlay render-full-screen d-flex flex-column anim-fade-in fast">
          <div>
            <button
              aria-label="Close dialog"
              data-close-dialog=""
              type="button"
              data-view-component="true"
              class="Link--muted btn-link position-absolute render-full-screen-close"
            >
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="currentColor"
                style="display:inline-block;vertical-align:text-bottom"
                class="octicon octicon-x"
              >
                <path
                  fill-rule="evenodd"
                  d="M5.72 5.72a.75.75 0 011.06 0L12 10.94l5.22-5.22a.75.75 0 111.06 1.06L13.06 12l5.22 5.22a.75.75 0 11-1.06 1.06L12 13.06l-5.22 5.22a.75.75 0 01-1.06-1.06L10.94 12 5.72 6.78a.75.75 0 010-1.06z"
                ></path>
              </svg>
            </button>
            <div class="Box-body"></div>
          </div>
        </details-dialog>
      </details>
      ${e}
    </div>`}generateIframeCode(e=""){const n=this.identifier+e,o=`${this.iframeUrl}#${n}`;return mt.dy`
      <div
        class="render-container js-render-target p-0"
        data-identity="${n}"
        data-host="${this.iframeOrigin}"
        data-type="${this.iframeContentType}"
      >
        <iframe
          class="render-viewer"
          src="${o}"
          name="${n}"
          data-content="${this.iframeContent}"
          sandbox="allow-scripts allow-same-origin allow-top-navigation"
        >
        </iframe>
      </div>
    `}}i(pr,"EnrichableMarkdownRenderer"),(0,v.N7)(".js-render-needs-enrichment",function(t){const e=t;new pr(e).enrich()}),(0,d.on)("preview:toggle:off",".js-previewable-comment-form",function(t){const n=t.currentTarget.querySelector(".js-render-needs-enrichment"),o=n==null?void 0:n.querySelector(".js-render-enrichment-target");!o||(o.innerHTML="")}),(0,d.on)("preview:rendered",".js-previewable-comment-form",function(t){const n=t.currentTarget.querySelector(".js-render-needs-enrichment");n&&hr(n,!1)});const Tf=null,sn=["is-render-pending","is-render-ready","is-render-loading","is-render-loaded"],ul=["is-render-ready","is-render-loading","is-render-loaded","is-render-failed","is-render-failed-fatally"],re=new WeakMap;function gr(t){const e=re.get(t);e!=null&&(e.load=e.hello=null,e.helloTimer&&(clearTimeout(e.helloTimer),e.helloTimer=null),e.loadTimer&&(clearTimeout(e.loadTimer),e.loadTimer=null))}i(gr,"resetTiming");function we(t,e=""){var n;t.classList.remove(...sn),t.classList.add("is-render-failed");const o=fl(e),s=(n=t.parentElement)==null?void 0:n.closest(".js-render-needs-enrichment");s?ll(s,o):dl(t,o),gr(t)}i(we,"renderFailed");function dl(t,e){const n=t.querySelector(".render-viewer-error");n&&(n.remove(),t.classList.remove("render-container"),(0,mt.sY)(e,t))}i(dl,"fileRenderError");function fl(t){let e=mt.dy`<p>Unable to render code block</p>`;if(t!==""){const n=t.split(`
`);e=mt.dy`<p><b>Error rendering embedded code</b></p>
      <p>${n.map(o=>mt.dy`${o}<br />`)}</p>`}return mt.dy`<div class="flash flash-error">${e}</div>`}i(fl,"renderError");function br(t,e=!1){var n;!(0,Ue.Z)(t)||t.classList.contains("is-render-ready")||t.classList.contains("is-render-failed")||t.classList.contains("is-render-failed-fatally")||e&&!((n=re.get(t))==null?void 0:n.hello)||we(t)}i(br,"timeoutWatchdog"),(0,v.N7)(".js-render-target",function(t){var e;const n=t;n.classList.remove(...ul),n.style.height="auto",!((e=re.get(t))==null?void 0:e.load)&&(gr(t),!re.get(t)&&(re.set(t,{load:Date.now(),hello:null,helloTimer:window.setTimeout(br,1e4,t,!0),loadTimer:window.setTimeout(br,45e3,t)}),t.classList.add("is-render-automatic","is-render-requested")))});function rn(t,e){t&&t.postMessage&&t.postMessage(JSON.stringify(e),"*")}i(rn,"postAsJson");function ml(t){let e=t.data;if(!e)return;if(typeof e=="string")try{e=JSON.parse(e)}catch{return}if(e.type!=="render"||typeof e.identity!="string")return;const n=e.identity;if(typeof e.body!="string")return;const o=e.body;let s=null;for(const f of document.querySelectorAll(".js-render-target"))if(f.getAttribute("data-identity")===n){s=f;break}if(!s||t.origin!==s.getAttribute("data-host"))return;const r=e.payload!=null?e.payload:void 0,a=s.querySelector("iframe"),c=a==null?void 0:a.contentWindow;function l(){const f=a==null?void 0:a.getAttribute("data-content");if(!f)return;const p={type:"render:cmd",body:{cmd:"code_rendering_service:data:ready","code_rendering_service:data:ready":{data:JSON.parse(f).data,width:s==null?void 0:s.getBoundingClientRect().width}}};rn(c,p)}switch(i(l,"postData"),o){case"hello":{const f=re.get(s)||{untimed:!0};f.hello=Date.now();const p={type:"render:cmd",body:{cmd:"ack",ack:!0}},S={type:"render:cmd",body:{cmd:"branding",branding:!1}};if(!c)return;rn(c,p),rn(c,S)}break;case"error":r?we(s,r.error):we(s);break;case"error:fatal":{we(s),s.classList.add("is-render-failed-fatal");break}case"error:invalid":we(s),s.classList.add("is-render-failed-invalid");break;case"loading":s.classList.remove(...sn),s.classList.add("is-render-loading");break;case"loaded":s.classList.remove(...sn),s.classList.add("is-render-loaded");break;case"ready":cl(s),s.classList.remove(...sn),s.classList.add("is-render-ready"),r&&typeof r.height=="number"&&(s.style.height=`${r.height}px`);break;case"resize":r&&typeof r.height=="number"&&(s.style.height=`${r.height}px`);break;case"code_rendering_service:container:get_size":rn(c,{type:"render:cmd",body:{cmd:"code_rendering_service:container:size","code_rendering_service:container:size":{width:s==null?void 0:s.getBoundingClientRect().width}}});break;case"code_rendering_service:markdown:get_data":if(!c)return;l();break;default:break}}i(ml,"handleMessage"),window.addEventListener("message",ml),(0,V.AC)("form[data-replace-remote-form]",async function(t,e){t.classList.remove("is-error"),t.classList.add("is-loading");try{let n=t;const o=await e.html(),s=t.closest("[data-replace-remote-form-target]");if(s){const r=s.getAttribute("data-replace-remote-form-target");n=r?document.getElementById(r):s}n.replaceWith(o.html)}catch{t.classList.remove("is-loading"),t.classList.add("is-error")}}),PerformanceObserver&&(PerformanceObserver.supportedEntryTypes||[]).includes("longtask")&&new PerformanceObserver(function(e){const n=e.getEntries().map(({name:o,duration:s})=>({name:o,duration:s,url:window.location.href}));(0,St.b)({longTasks:n})}).observe({entryTypes:["longtask"]});const yr=new WeakMap;function hl(t){return t.closest("markdown-toolbar").field}i(hl,"getTextarea"),(0,d.on)("click",".js-markdown-link-button",async function({currentTarget:t}){const n=document.querySelector(".js-markdown-link-dialog").content.cloneNode(!0);if(!(n instanceof DocumentFragment))return;const o=await(0,It.W)({content:n,labelledBy:"box-title"});t instanceof HTMLElement&&yr.set(o,hl(t).selectionEnd)}),(0,d.on)("click",".js-markdown-link-insert",({currentTarget:t})=>{const e=t.closest("details-dialog"),n=document.querySelector(`#${t.getAttribute("data-for-textarea")}`),o=yr.get(e)||0,s=e.querySelector("#js-dialog-link-href").value,a=`[${e.querySelector("#js-dialog-link-text").value}](${s}) `,c=n.value.slice(0,o),l=n.value.slice(o);n.value=c+a+l,n.focus(),n.selectionStart=n.selectionEnd=o+a.length});var Af=u(53600);(0,d.on)("details-menu-select",".js-saved-reply-menu",function(t){if(!(t.target instanceof Element))return;const e=t.detail.relatedTarget.querySelector(".js-saved-reply-body");if(!e)return;const n=(e.textContent||"").trim(),s=t.target.closest(".js-previewable-comment-form").querySelector("textarea.js-comment-field");(0,oe.Om)(s,n),setTimeout(()=>s.focus(),0)},{capture:!0}),(0,X.w4)("keydown",".js-saved-reply-shortcut-comment-field",function(t){(0,co.EL)(t)==="Control+."&&(t.target.closest(".js-previewable-comment-form").querySelector(".js-saved-reply-container").setAttribute("open",""),t.preventDefault())}),(0,X.w4)("keydown",".js-saved-reply-filter-input",function(t){if(/^Control\+[1-9]$/.test((0,co.EL)(t))){const n=t.target.closest(".js-saved-reply-container").querySelectorAll('[role="menuitem"]'),o=Number(t.key),s=n[o-1];s instanceof HTMLElement&&(s.click(),t.preventDefault())}else if(t.key==="Enter"){const n=t.target.closest(".js-saved-reply-container").querySelectorAll('[role="menuitem"]');n.length>0&&n[0]instanceof HTMLButtonElement&&n[0].click(),t.preventDefault()}});function pl(t,e){return t.querySelector(`#LC${e}`)}i(pl,"scanning_queryLineElement");function gl(t,e){const n=ts(t,o=>pl(e,o));if(n){const o=document.createElement("span"),s=["text-bold","hx_keyword-hl","rounded-2","d-inline-block"];o.classList.add(...s),rs(n,o)}}i(gl,"highlightColumns");function bl(t){const e=parseInt(t.getAttribute("data-start-line")),n=parseInt(t.getAttribute("data-end-line")),o=parseInt(t.getAttribute("data-start-column")),s=parseInt(t.getAttribute("data-end-column"));return e!==n||e===n&&o===s?null:{start:{line:e,column:o},end:{line:n,column:s!==0?s:null}}}i(bl,"parseColumnHighlightRange"),(0,v.N7)(".js-highlight-code-snippet-columns",function(t){const e=bl(t);e!==null&&gl(e,t)}),(0,d.on)("click",".js-segmented-nav-button",function(t){t.preventDefault();const e=t.currentTarget,n=e.getAttribute("data-selected-tab"),o=e.closest(".js-segmented-nav"),s=o.parentElement;for(const r of o.querySelectorAll(".js-segmented-nav-button"))r.classList.remove("selected");e.classList.add("selected");for(const r of s.querySelectorAll(".js-selected-nav-tab"))r.parentElement===s&&r.classList.remove("active");document.querySelector(`.${n}`).classList.add("active")});var Tt=u(75169);function _t(t){const e=t||window.location,n=document.head&&document.head.querySelector("meta[name=session-resume-id]");return n instanceof HTMLMetaElement&&n.content||e.pathname}i(_t,"getPageID");const yl=(0,ee.D)(function(){(0,Tt.e6)(_t())},50);window.addEventListener("submit",Tt.iO,{capture:!0}),window.addEventListener("pageshow",function(){(0,Tt.e6)(_t())}),window.addEventListener("pjax:end",function(){(0,Tt.e6)(_t())}),(0,v.N7)(".js-session-resumable",function(){yl()}),window.addEventListener("pagehide",function(){(0,Tt.Xm)(_t(),{selector:".js-session-resumable"})}),window.addEventListener("pjax:beforeReplace",function(t){const e=t.detail.previousState,n=e?e.url:null;if(n)(0,Tt.Xm)(_t(new URL(n,window.location.origin)),{selector:".js-session-resumable"});else{const o=new Error("pjax:beforeReplace event.detail.previousState.url is undefined");setTimeout(function(){throw o})}});var Cf=u(28391),an=u(33420);const Eo=["notification_referrer_id","notifications_before","notifications_after","notifications_query"],cn="notification_shelf";function vl(t,e=null){return t.has("notification_referrer_id")?(El(t,e),Ll(t)):null}i(vl,"storeAndStripShelfParams");function wl(t=null){const e=vr(t);if(!e)return(0,an.cl)(cn),null;try{const n=(0,an.rV)(cn);if(!n)return null;const o=JSON.parse(n);if(!o||!o.pathname)throw new Error("Must have a pathname");if(o.pathname!==e)throw new Error("Stored pathname does not match current pathname.");const s={};for(const r of Eo)s[r]=o[r];return s}catch{return(0,an.cl)(cn),null}}i(wl,"getStoredShelfParamsForCurrentPage");function El(t,e){const n=vr(e);if(!n)return;const o={pathname:n};for(const s of Eo){const r=t.get(s);r&&(o[s]=r)}(0,an.LS)(cn,JSON.stringify(o))}i(El,"storeShelfParams");function Ll(t){for(const e of Eo)t.delete(e);return t}i(Ll,"deleteShelfParams");function vr(t){t=t||window.location.pathname;const e=/^(\/[^/]+\/[^/]+\/pull\/[^/]+)/,n=t.match(e);return n?n[0]:null}i(vr,"getCurrentPullRequestPathname");var Sl=u(81988);async function jl(){return(0,V.AC)(".js-notification-shelf .js-notification-action form",async function(t,e){if(t.hasAttribute("data-redirect-to-inbox-on-submit")){await wr(e);const o=document.querySelector(".js-notifications-back-to-inbox");o&&o.click();return}(0,Sl.a)(t,t),await wr(e)})}i(jl,"remoteShelfActionForm");function Tl(){const t=new URLSearchParams(window.location.search),e=vl(t);if(e){const n=new URL(window.location.href,window.location.origin);return n.search=e.toString(),n.toString()}}i(Tl,"urlWithoutNotificationParameters");function Al(t){if(!(t instanceof Bo.Z))return;const e=wl();if(!e)return;const n=t.getAttribute("data-base-src");if(!n)return;const o=new URL(n,window.location.origin),s=new URLSearchParams(o.search);for(const[r,a]of Object.entries(e))typeof a=="string"&&s.set(r,a);o.search=s.toString(),t.setAttribute("src",o.toString())}i(Al,"loadShelfFromStoredParams");async function wr(t){try{await t.text()}catch{}}i(wr,"performRequest"),jl();function Cl(){const t=Tl();t&&(0,te.lO)(null,"",t)}i(Cl,"removeNotificationParams"),Cl(),(0,v.N7)(".js-notification-shelf-include-fragment",Al),(0,d.on)("submit",".js-mark-notification-form",async function(t){const e=t.currentTarget;t.preventDefault();try{await fetch(e.action,{method:e.method,body:new FormData(e),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}});async function kl(){await xt.C;const t=document.querySelector(".js-mark-notification-form");t instanceof HTMLFormElement&&(0,J.Bt)(t)}i(kl,"markNotificationAsRead"),kl();function xl(t){return!!t.closest(".js-jump-to-field")}i(xl,"isJumpToAvailable");function Lo(t,e){if(xl(t))return;const n=document.querySelector(".js-site-search-form");document.querySelector(".js-site-search").classList.toggle("scoped-search",e);let o,s;e?(o=n.getAttribute("data-scoped-search-url"),s=t.getAttribute("data-scoped-placeholder")):(o=n.getAttribute("data-unscoped-search-url"),s=t.getAttribute("data-unscoped-placeholder")),n.setAttribute("action",o),t.setAttribute("placeholder",s)}i(Lo,"toggleSearchScope"),(0,X.w4)("keyup",".js-site-search-field",function(t){const e=t.target,n=e.value.length===0;n&&t.key==="Backspace"&&e.classList.contains("is-clearable")&&Lo(e,!1),n&&t.key==="Escape"&&Lo(e,!0),e.classList.toggle("is-clearable",n)}),(0,X.ZG)(".js-site-search-focus",function(t){const e=t.closest(".js-chromeless-input-container");e.classList.add("focus");function n(){e.classList.remove("focus"),t.value.length===0&&t.classList.contains("js-site-search-field")&&Lo(t,!0),t.removeEventListener("blur",n)}i(n,"blurHandler"),t.addEventListener("blur",n)}),(0,d.on)("submit",".js-site-search-form",function(t){if(!(t.target instanceof Element))return;const e=t.target.querySelector(".js-site-search-type-field");e.value=new URLSearchParams(window.location.search).get("type")||""});var Ml=u(14707);(0,v.N7)("textarea.js-size-to-fit",{constructor:HTMLTextAreaElement,subscribe:Ml.Z});var kf=u(83536);const ql=1e3,Er=new WeakMap,Lr=document.querySelector("#snippet-clipboard-copy-button");async function Pl(t,e){const n=t.getAttribute("data-snippet-clipboard-copy-content");if(n===null||(t.removeAttribute("data-snippet-clipboard-copy-content"),!(Lr instanceof HTMLTemplateElement)))return;const s=Lr.content.cloneNode(!0).children[0];if(!(s instanceof HTMLElement))return;const r=s.children[0];if(!(r instanceof HTMLElement))return;r.setAttribute("value",n),document.addEventListener("selectionchange",()=>{const c=document.getSelection();if(c&&t.contains(c.anchorNode)){const l=c==null?void 0:c.toString();r.style.display=l.trim()===""?"inherit":"none"}},{signal:e});const a=t.querySelector("pre");if(a!==null){let c;a.addEventListener("scroll",()=>{c&&clearTimeout(c),r.style.display="none",c=setTimeout(()=>{r.style.display="inherit"},ql)},{signal:e})}t.appendChild(s)}i(Pl,"insertSnippetClipboardCopyButton"),(0,v.N7)("[data-snippet-clipboard-copy-content]",{constructor:HTMLElement,add(t){const e=new AbortController;Er.set(t,e),Pl(t,e.signal)}}),(0,v.N7)(".snippet-clipboard-content clipboard-copy",{constructor:HTMLElement,remove(t){const e=Er.get(t);e&&e.abort()}});function Sr(t,e,n){jr(t,e),n&&t.classList.toggle("on");const o=Array.from(t.querySelectorAll(".js-social-updatable"),Mt.x0);return Promise.all(o)}i(Sr,"handleSocialResponse"),(0,V.AC)(".js-social-form",async function(t,e){var n,o;let s;const r=t.closest(".js-social-container"),a=t.classList.contains("js-deferred-toggler-target");try{s=await e.json(),r&&await Sr(r,s.json.count,a)}catch(c){if(((n=c.response)==null?void 0:n.status)===409&&c.response.json.confirmationDialog){const l=c.response.json.confirmationDialog,f=document.querySelector(l.templateSelector),p=(o=t.querySelector(".js-confirm-csrf-token"))==null?void 0:o.value;if(f instanceof HTMLTemplateElement&&p){const S=new Lt.R(f,{confirmUrl:t.action,confirmCsrfToken:p,...l.inputs||{}}),j=await(0,It.W)({content:S});j.addEventListener("social-confirmation-form:success",async k=>{k instanceof CustomEvent&&r&&await Sr(r,k.detail.count,a)}),j.addEventListener("social-confirmation-form:error",()=>{(0,me.v)()})}}else r&&!a&&r.classList.toggle("on"),(0,me.v)()}}),(0,V.AC)(".js-social-confirmation-form",async function(t,e){try{const n=await e.json();(0,d.f)(t,"social-confirmation-form:success",n.json)}catch{(0,d.f)(t,"social-confirmation-form:error")}});function jr(t,e){for(const n of t.querySelectorAll(".js-social-count")){n.textContent=e;const o=n.getAttribute("data-singular-suffix"),s=n.getAttribute("data-plural-suffix"),r=e==="1"?o:s;r&&n.setAttribute("aria-label",`${e} ${r}`)}}i(jr,"updateSocialCounts");var zt=u(33429);class Tr extends zt.a2{constructor(e,n,o,s){super(e,()=>this.getUrlFromRefreshUrl(),o,s);this.refreshUrl=n}getUrlFromRefreshUrl(){return Il(this.refreshUrl)}}i(Tr,"AliveSession");async function Il(t){const e=await Rl(t);return e&&e.url&&e.token?Dl(e.url,e.token):null}i(Il,"fetchRefreshUrl");async function Rl(t){const e=await fetch(t,{headers:{Accept:"application/json"}});if(e.ok)return e.json();if(e.status===404)return null;throw new Error("fetch error")}i(Rl,"fetchJSON");async function Dl(t,e){const n=await fetch(t,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":e}});if(n.ok)return n.text();throw new Error("fetch error")}i(Dl,"post");const ln=[],Nl=3e4,_l=0;let un=document.hidden,dn;function Hl(t){return t(un),ln.push(t),new R.w0(()=>{const e=ln.indexOf(t);e!==-1&&ln.splice(e,1)})}i(Hl,"addIdleStateListener"),document.addEventListener("visibilitychange",()=>{const t=document.hidden;dn!==void 0&&clearTimeout(dn),dn=setTimeout(()=>{if(t!==un){un=t,dn=void 0;for(const n of ln)n(un)}},t?Nl:_l)});var Bl=u(46621);function Ol(){return"SharedWorker"in window&&(0,Bl.Z)("localStorage").getItem("bypassSharedWorker")!=="true"}i(Ol,"isSharedWorkerSupported");function $l(){var t,e;return(e=(t=document.head.querySelector("link[rel=shared-web-socket-src]"))==null?void 0:t.href)!=null?e:null}i($l,"workerSrc");function Fl(){var t,e;return(e=(t=document.head.querySelector("link[rel=shared-web-socket]"))==null?void 0:t.href)!=null?e:null}i(Fl,"socketUrl");function Ul(){var t,e;return(e=(t=document.head.querySelector("link[rel=shared-web-socket]"))==null?void 0:t.getAttribute("data-refresh-url"))!=null?e:null}i(Ul,"socketRefreshUrl");function Wl(){var t,e;return(e=(t=document.head.querySelector("link[rel=shared-web-socket]"))==null?void 0:t.getAttribute("data-session-id"))!=null?e:null}i(Wl,"sessionIdentifier");function zl(t){return Ar(t).map(e=>({subscriber:t,topic:e}))}i(zl,"subscriptions");function Ar(t){return(t.getAttribute("data-channel")||"").trim().split(/\s+/).map(zt.Zf.parse).filter(Kl)}i(Ar,"channels");function Kl(t){return t!=null}i(Kl,"isPresent");function Cr(t,{channel:e,type:n,data:o}){for(const s of t)s.dispatchEvent(new CustomEvent(`socket:${n}`,{bubbles:!1,cancelable:!1,detail:{name:e,data:o}}))}i(Cr,"notify");class kr{constructor(e,n,o,s,r){this.subscriptions=new zt.vk,this.presenceMetadata=new zt.ah,this.notifyPresenceDebouncedByChannel=new Map,this.notify=r,this.worker=new SharedWorker(e,`github-socket-worker-v2-${s}`),this.worker.port.onmessage=({data:a})=>this.receive(a),this.worker.port.postMessage({connect:{url:n,refreshUrl:o}})}subscribe(e){const n=this.subscriptions.add(...e);n.length&&this.worker.port.postMessage({subscribe:n});const o=new Set(n.map(r=>r.name)),s=e.reduce((r,a)=>{const c=a.topic.name;return(0,zt.A)(c)&&!o.has(c)&&r.add(c),r},new Set);s.size&&this.worker.port.postMessage({requestPresence:Array.from(s)})}unsubscribeAll(...e){const n=this.subscriptions.drain(...e);n.length&&this.worker.port.postMessage({unsubscribe:n});const o=this.presenceMetadata.removeSubscribers(e);this.sendPresenceMetadataUpdate(o)}updatePresenceMetadata(e){const n=new Set;for(const o of e)this.presenceMetadata.setMetadata(o),n.add(o.channelName);this.sendPresenceMetadataUpdate(n)}sendPresenceMetadataUpdate(e){if(!e.size)return;const n=[];for(const o of e)n.push({channelName:o,metadata:this.presenceMetadata.getChannelMetadata(o)});this.worker.port.postMessage({updatePresenceMetadata:n})}online(){this.worker.port.postMessage({online:!0})}offline(){this.worker.port.postMessage({online:!1})}hangup(){this.worker.port.postMessage({hangup:!0})}receive(e){const{channel:n}=e;if(e.type==="presence"){let o=this.notifyPresenceDebouncedByChannel.get(n);o||(o=(0,ee.D)((s,r)=>{this.notify(s,r),this.notifyPresenceDebouncedByChannel.delete(n)},100),this.notifyPresenceDebouncedByChannel.set(n,o)),o(this.subscriptions.subscribers(n),e);return}this.notify(this.subscriptions.subscribers(n),e)}}i(kr,"AliveSessionProxy");function Vl(){const t=$l();if(!t)return;const e=Fl();if(!e)return;const n=Ul();if(!n)return;const o=Wl();if(!o)return;const r=i(()=>{if(Ol())try{return new kr(t,e,n,o,Cr)}catch{}return new Tr(e,n,!1,Cr)},"createSession")(),a=(0,kt.g)(f=>r.subscribe(f.flat())),c=(0,kt.g)(f=>r.unsubscribeAll(...f)),l=(0,kt.g)(f=>r.updatePresenceMetadata(f));(0,v.N7)(".js-socket-channel[data-channel]",{subscribe:f=>{const p=zl(f),S=p.map(k=>k.topic.name).filter(k=>(0,zt.A)(k));let j={unsubscribe(){}};if(S.length){let k,H;const B=i(()=>{const Z=[];k&&Z.push(k),H!==void 0&&Z.push({[zt.ZE]:H?1:0});for(const Q of S)l({subscriber:f,channelName:Q,metadata:Z})},"queueMetadataOrIdleChange");j=(0,R.qC)((0,R.RB)(f,"socket:set-presence-metadata",Z=>{const{detail:Q}=Z;k=Q,B()}),Hl(Z=>{!(0,Nt.c)("PRESENCE_IDLE")||(H=Z,B())}))}return a(p),j},remove:f=>c(f)}),window.addEventListener("online",()=>r.online()),window.addEventListener("offline",()=>r.offline()),window.addEventListener("pagehide",()=>{"hangup"in r&&r.hangup()})}i(Vl,"connect"),(async()=>(await xt.x,Vl()))();const xr=new Map;function Xl(t,e){const n=[];for(const o of t){const s=xr.get(o.name);s&&s.arrived>e&&n.push(s)}return n}i(Xl,"stale");function Gl(t,e){for(const n of t.querySelectorAll(".js-socket-channel[data-channel]"))for(const o of Xl(Ar(n),e))n.dispatchEvent(new CustomEvent("socket:message",{bubbles:!1,cancelable:!1,detail:{name:o.name,data:o.data,cached:!0}}))}i(Gl,"dispatch");function Zl(t){const{name:e,data:n,cached:o}=t.detail;if(o)return;const s={name:e,data:{...n},arrived:Date.now()};s.data.wait=0,xr.set(e,s)}i(Zl,"store"),document.addEventListener("socket:message",Zl,{capture:!0}),document.addEventListener("pjax:popstate",function(t){const e=t.target,n=t.detail.cachedAt;n&&setTimeout(()=>Gl(e,n))}),(0,v.N7)("form.js-auto-replay-enforced-sso-request",{constructor:HTMLFormElement,initialize(t){(0,J.Bt)(t)}});var xf=u(18937);function Mr(t,e,n){const o=t.getBoundingClientRect().height,s=e.getBoundingClientRect(),r=n.getBoundingClientRect();let a=r.top;a+s.height+10>=o&&(a=Math.max(o-s.height-10,0));let c=r.right;n.closest(".js-build-status-to-the-left")!=null&&(c=Math.max(r.left-s.width-10,0)),e.style.top=`${a}px`,e.style.left=`${c}px`,e.style.right="auto"}i(Mr,"updateStatusPosition"),(0,d.on)("toggle",".js-build-status .js-dropdown-details",function(t){const e=t.currentTarget,n=e.querySelector(".js-status-dropdown-menu");if(!n)return;function o(){e.hasAttribute("open")||r()}i(o,"closeOnToggle");function s(a){n.contains(a.target)||r()}i(s,"closeOnScroll");function r(){e.removeAttribute("open"),n.classList.add("d-none"),e.appendChild(n),e.removeEventListener("toggle",o),window.removeEventListener("scroll",s)}i(r,"closeStatusPopover"),e.addEventListener("toggle",o),n.classList.contains("js-close-menu-on-scroll")&&window.addEventListener("scroll",s,{capture:!0}),n.classList.remove("d-none"),n.querySelector(".js-details-container").classList.add("open"),n.classList.contains("js-append-menu-to-body")&&(document.body.appendChild(n),Mr(document.body,n,e))},{capture:!0});async function qr(t){const e=t.querySelector(".js-dropdown-details"),n=t.querySelector(".js-status-dropdown-menu")||t.closest(".js-status-dropdown-menu");if(!(n instanceof HTMLElement))return;const o=n.querySelector(".js-status-loader");if(!o)return;const s=n.querySelector(".js-status-loading"),r=n.querySelector(".js-status-error"),a=o.getAttribute("data-contents-url");s.classList.remove("d-none"),r.classList.add("d-none");let c;try{await(0,mr.Z)(),c=await(0,at.a)(document,a)}catch{s.classList.add("d-none"),r.classList.remove("d-none")}c&&(o.replaceWith(c),n.querySelector(".js-details-container").classList.add("open"),e&&n.classList.contains("js-append-menu-to-body")&&Mr(document.body,n,e))}i(qr,"loadStatus"),(0,d.on)("click",".js-status-retry",({currentTarget:t})=>{qr(t)});function Pr(t){const e=t.currentTarget;qr(e)}i(Pr,"onMouseEnter"),(0,v.N7)(".js-build-status",{add(t){t.addEventListener("mouseenter",Pr,{once:!0})},remove(t){t.removeEventListener("mouseenter",Pr)}});var Mf=u(47006),Jl=u(14089);(0,d.on)("click","button[data-sudo-required], summary[data-sudo-required]",Ir),(0,v.N7)("form[data-sudo-required]",{constructor:HTMLFormElement,subscribe:t=>(0,R.RB)(t,"submit",Ir)});async function Ir(t){const e=t.currentTarget;if(!(e instanceof HTMLElement))return;t.stopPropagation(),t.preventDefault(),await(0,Jl.Z)()&&(e.removeAttribute("data-sudo-required"),e instanceof HTMLFormElement?(0,J.Bt)(e):e.click())}i(Ir,"checkSudo");var Ht=u(38089),Ee=u(12701);const Rr={"actor:":"ul.js-user-suggestions","user:":"ul.js-user-suggestions","operation:":"ul.js-operation-suggestions","org:":"ul.js-org-suggestions","action:":"ul.js-action-suggestions","repo:":"ul.js-repo-suggestions","country:":"ul.js-country-suggestions"};(0,v.N7)("text-expander[data-audit-url]",{subscribe:t=>(0,R.qC)((0,R.RB)(t,"text-expander-change",Ql),(0,R.RB)(t,"text-expander-value",Yl))});function Yl(t){const e=t.detail;if(!Dr(e.key))return;const n=e.item.getAttribute("data-value");e.value=`${e.key}${n}`}i(Yl,"onvalue");function Ql(t){const{key:e,provide:n,text:o}=t.detail;if(!Dr(e))return;const r=t.target.getAttribute("data-audit-url");n(nu(r,e,o))}i(Ql,"onchange");function tu(t,e){const n=e.toLowerCase(),o=i(s=>{const r=s.textContent.toLowerCase().trim(),a=(0,Ht.EW)(r,n);return a>0?{score:a,text:r}:null},"key");return n?(0,Ee.W)(t,o,Ht.qu):t}i(tu,"search");const eu=(0,jt.Z)(t=>[...t.children],{hash:t=>t.className});async function nu(t,e,n){const s=(await ru(t)).querySelector(ou(e));if(!s)return{matched:!1};const r=tu(eu(s),n).slice(0,5),a=s.cloneNode(!1);a.innerHTML="";for(const c of r)a.append(c);return{fragment:a,matched:r.length>0}}i(nu,"auditMenu");function Dr(t){return Object.getOwnPropertyNames(Rr).includes(t)}i(Dr,"isActivationKey");function ou(t){const e=Rr[t];if(!e)throw new Error(`Unknown audit log expander key: ${t}`);return e}i(ou,"audit_log_suggester_selector");async function su(t){const e=await(0,at.a)(document,t),n=document.createElement("div");return n.append(e),n}i(su,"fetchMenu");const ru=(0,jt.Z)(su);function iu(t){if(t.hasAttribute("data-use-colon-emoji"))return t.getAttribute("data-value");const e=t.firstElementChild;return e&&e.tagName==="G-EMOJI"&&!e.firstElementChild?e.textContent:t.getAttribute("data-value")}i(iu,"getValue");function au(t,e){const n=` ${e.toLowerCase().replace(/_/g," ")}`,o=i(s=>{const r=s.getAttribute("data-emoji-name"),a=lu(cu(s),n);return a>0?{score:a,text:r}:null},"key");return(0,Ee.W)(t,o,Ht.qu)}i(au,"emoji_suggester_search");function cu(t){return` ${t.getAttribute("data-text").trim().toLowerCase().replace(/_/g," ")}`}i(cu,"emojiText");function lu(t,e){const n=t.indexOf(e);return n>-1?1e3-n:0}i(lu,"emojiScore"),(0,v.N7)("text-expander[data-emoji-url]",{subscribe:t=>(0,R.qC)((0,R.RB)(t,"text-expander-change",du),(0,R.RB)(t,"text-expander-value",uu))});function uu(t){const e=t.detail;e.key===":"&&(e.value=iu(e.item))}i(uu,"emoji_suggester_onvalue");function du(t){const{key:e,provide:n,text:o}=t.detail;if(e!==":")return;const r=t.target.getAttribute("data-emoji-url");n(fu(r,o))}i(du,"emoji_suggester_onchange");async function fu(t,e){const[n,o]=await hu(t),s=au(o,e).slice(0,5);n.innerHTML="";for(const r of s)n.append(r);return{fragment:n,matched:s.length>0}}i(fu,"emojiMenu");async function mu(t){const n=(await(0,at.a)(document,t)).firstElementChild;return[n,[...n.children]]}i(mu,"fetchEmoji");const hu=(0,jt.Z)(mu);var Kt=u(5723);function pu(t){return`${t.number} ${t.title.trim().toLowerCase()}`}i(pu,"asText");function gu(t,e){if(!e)return t;const n=new RegExp(`\\b${bu(e)}`),o=/^\d+$/.test(e)?r=>yu(r,n):r=>(0,Ht.EW)(r,e),s=i(r=>{const a=pu(r),c=o(a);return c>0?{score:c,text:a}:null},"key");return(0,Ee.W)(t,s,Ht.qu)}i(gu,"issue_suggester_search");function bu(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}i(bu,"escapeRegExp");function yu(t,e){const n=t.search(e);return n>-1?1e3-n:0}i(yu,"issueNumberScore");function vu(t,e,n){const o=i(r=>Kt.dy`
    <ul role="listbox" class="suggester-container suggester suggestions list-style-none position-absolute">
      ${r.map(s)}
    </ul>
  `,"itemsTemplate"),s=i(r=>{const a=r.type in n?(0,Et.r)(document,n[r.type]):"";return Kt.dy`
      <li class="markdown-title" role="option" id="suggester-issue-${r.id}" data-value="${r.number}">
        <span class="d-inline-block mr-1">${a}</span>
        <small>#${r.number}</small> ${(0,Kt.Au)(r.title)}
      </li>
    `},"itemTemplate");(0,Kt.sY)(o(t),e)}i(vu,"renderResults"),(0,v.N7)("text-expander[data-issue-url]",{subscribe:t=>{const e=[(0,R.RB)(t,"text-expander-change",Eu),(0,R.RB)(t,"text-expander-value",wu),(0,R.RB)(t,"keydown",Su),(0,R.RB)(t,"click",Lu)];return(0,R.qC)(...e)}});function wu(t){const e=t.detail;if(e.key!=="#")return;const n=e.item.getAttribute("data-value");e.value=`#${n}`}i(wu,"issue_suggester_onvalue");function Eu(t){const{key:e,provide:n,text:o}=t.detail;if(e!=="#")return;if(o==="#"){So(t.target);return}const r=t.target.getAttribute("data-issue-url");n(ju(r,o))}i(Eu,"issue_suggester_onchange");function So(t){if(!t)return;const e=t.closest("text-expander");e&&e.dismiss()}i(So,"hideSuggestions");function Lu(t){So(t.target)}i(Lu,"issue_suggester_onclick");function Su(t){const e=["ArrowRight","ArrowLeft"],{key:n}=t;e.indexOf(n)<0||So(t.target)}i(Su,"issue_suggester_onkeydown");async function ju(t,e){const n=await Tu(t),o=document.createElement("div"),s=gu(n.suggestions,e).slice(0,5);return vu(s,o,n.icons),{fragment:o.firstElementChild,matched:s.length>0}}i(ju,"issueMenu");const Tu=(0,jt.Z)(async function(t){const e=await self.fetch(t,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!e.ok){const n=new Error,o=e.statusText?` ${e.statusText}`:"";throw n.message=`HTTP ${e.status}${o}`,n}return e.json()});function Au(t){return t.description?`${t.name} ${t.description}`.trim().toLowerCase():`${t.login} ${t.name}`.trim().toLowerCase()}i(Au,"mention_suggester_asText");function Cu(t,e){if(!e)return t;const n=xu(e),o=i(s=>{const r=Au(s),a=n(r,s.participant);return a>0?{score:a,text:r}:null},"key");return(0,Ee.W)(t,o,Ht.qu)}i(Cu,"mention_suggester_search");function ku(t,e){const n=i(s=>Kt.dy`
    <ul role="listbox" class="suggester-container suggester suggestions list-style-none position-absolute">
      ${s.map(o)}
    </ul>
  `,"itemsTemplate"),o=i(s=>{const r=s.type==="user"?s.login:s.name,a=s.type==="user"?s.name:s.description;return Kt.dy`
      <li role="option" id="suggester-${s.id}-${s.type}-${r}" data-value="${r}">
        <span>${r}</span>
        <small>${a}</small>
      </li>
    `},"itemTemplate");(0,Kt.sY)(n(t),e)}i(ku,"mention_suggester_renderResults");function xu(t){if(!t)return()=>2;const e=t.toLowerCase().split("");return(n,o)=>{if(!n)return 0;const s=Mu(n,e);if(!s)return 0;const a=t.length/s[1]/(s[0]/2+1);return o?a+1:a}}i(xu,"fuzzyScorer");function Mu(t,e){let n,o,s,r;const a=qu(t,e[0]);if(a.length===0)return null;if(e.length===1)return[a[0],1,[]];for(r=null,o=0,s=a.length;o<s;o++){const c=a[o];if(!(n=Pu(t,e,c+1)))continue;const l=n[n.length-1]-c;(!r||l<r[1])&&(r=[c,l,n])}return r}i(Mu,"shortestMatch");function qu(t,e){let n=0;const o=[];for(;(n=t.indexOf(e,n))>-1;)o.push(n++);return o}i(qu,"allIndexesOf");function Pu(t,e,n){let o=n;const s=[];for(let r=1;r<e.length;r+=1){if(o=t.indexOf(e[r],o),o===-1)return;s.push(o++)}return s}i(Pu,"indexesOfChars"),(0,v.N7)("text-expander[data-mention-url]",{subscribe:t=>(0,R.qC)((0,R.RB)(t,"text-expander-change",Ru),(0,R.RB)(t,"text-expander-value",Iu))});function Iu(t){const e=t.detail;if(e.key!=="@")return;const n=e.item.getAttribute("data-value");e.value=`@${n}`}i(Iu,"mention_suggester_onvalue");function Ru(t){const{key:e,provide:n,text:o}=t.detail;if(e!=="@"||(o==null?void 0:o.split(" ").length)>1)return;const r=t.target.getAttribute("data-mention-url");n(Du(r,o))}i(Ru,"mention_suggester_onchange");async function Du(t,e){const n=await Nu(t),o=document.createElement("div"),s=Cu(n,e).slice(0,5);return ku(s,o),{fragment:o.firstElementChild,matched:s.length>0}}i(Du,"mentionMenu");const Nu=(0,jt.Z)(async function(t){const e=await self.fetch(t,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!e.ok){const n=new Error,o=e.statusText?` ${e.statusText}`:"";throw n.message=`HTTP ${e.status}${o}`,n}return e.json()}),jo="/";function _u(t,e){const n=e.toLowerCase().trim(),o=i(s=>{const r=(s.getAttribute("data-text")||"").trim().toLowerCase(),a=(0,Ht.EW)(r,n);return a>0?{score:a,text:r}:null},"key");return n?(0,Ee.W)(t,o,Ht.qu):t}i(_u,"slash_command_suggester_search"),(0,v.N7)("slash-command-expander[data-slash-command-url]",{subscribe:t=>(0,R.qC)((0,R.RB)(t,"text-expander-change",Ku),(0,R.RB)(t,"text-expander-value",Hu))}),(0,d.on)("click",".js-slash-command-toolbar-button",async t=>{if(!(t.target instanceof Element))return;const e=t.target.closest(".js-previewable-comment-form");if(!e)return;const n=e.querySelector("textarea.js-comment-field");if(!n)return;const o=jo,s=n.selectionEnd||0,r=n.value.substring(0,s),a=n.value.substring(s),c=n.value===""||r.match(/\s$/)?"":" ",l=s+o.length+1;n.value=r+c+o+a,n.selectionStart=l,n.selectionEnd=l,n.focus(),(0,d.f)(n,"input")});async function Hu(t){const e=t.detail,{key:n,item:o}=e;if(n!==jo)return;const s=o.getAttribute("data-url");if(!s)return;const r=t.currentTarget,a=o.querySelector(".js-slash-command-suggestion-form");if(!a)return;const c=a.querySelector(".js-data-url-csrf");if(!c)return;const l=new FormData(a);r.isLoading();try{const f=await(0,at.a)(document,s,{method:"PATCH",body:l,headers:{Accept:"text/html","Scoped-CSRF-Token":c.value}});if(!f)return;Nr(r,f)}catch{r.showError()}}i(Hu,"onValue");function Nr(t,e){var n;const o=e.firstElementChild;if(!o)return;e.children.length>1&&zu(e.lastElementChild,t),o.hasAttribute("data-reload-suggestions")&&(Br=(0,jt.Z)(Hr));const s=o.getAttribute("data-component-type");s==="fill"?/<\/?[a-z][\s\S]*>/i.test(o.innerHTML)?t.setValue(o.innerHTML.trim()):t.setValue(((n=o.textContent)==null?void 0:n.trim())||""):s==="menu"||s==="error"?t.setMenu(o.querySelector(".js-slash-command-menu")):s==="action"?t.closeMenu():s==="embedded_form"?Uu(t,o):s==="dialog_form"?$u(t,o):s==="modal_form"&&Fu(t,o),(0,Tt.e6)(_t())}i(Nr,"handleResponse");function Bu(t){if(!(t.metaKey&&t.key==="Enter"))return;t.preventDefault(),t.stopPropagation();const e=t.target,n=e==null?void 0:e.form;if(!!n)if(n.requestSubmit)n.requestSubmit();else{const o=n.querySelector("[type='submit']");o==null||o.click()}}i(Bu,"submitOnCommandEnter");function _r(t){const e=new FormData(t);let n="";for(const o of e)n=n+o[0],n=n+o[1].toString();return n}i(_r,"getFormContents");function To(t){let e=!1;for(const n of t.querySelectorAll("select,input,textarea")){const o=n;o.type!=="hidden"&&(e||(o.focus(),e=!0),o.addEventListener("keydown",Bu))}}i(To,"focusFirstFormInput");function Ao(t,e){const n=t.querySelectorAll("[data-close-dialog]");for(const o of n)o.addEventListener("click",s=>{s.preventDefault(),(0,Tt.Xm)(_t(),{selector:".js-session-resumable"}),e()})}i(Ao,"hookUpCancelActionListeners");function Co(t,e,n,o){const s=_r(t);e.addEventListener("keydown",r=>{if(r.key==="Escape"){const a="Are you sure you want to dismiss the form?",c=_r(t);(s===c||confirm(a))&&((0,Tt.Xm)(_t(),{selector:".js-session-resumable"}),o(),n&&n.focus())}})}i(Co,"addDismissAlertListener");function ko(t,e,n){t.addEventListener("submit",async o=>{o.preventDefault();const s=o.target,r=s.querySelector(".js-data-url-csrf");if(!r)return;const a=s.getAttribute("action");if(!a)return;Ou(e);const c=new FormData(s),l=await(0,at.a)(document,a,{method:"PATCH",body:c,headers:{Accept:"text/html","Scoped-CSRF-Token":r.value}});n(),!!l&&Nr(e,l)})}i(ko,"addSubmitButtonListener");function Ou(t){const e=t.closest(".js-slash-command-surface"),n=t.closest("form"),o=e||n;if(o)for(const s of o.querySelectorAll("[data-disable-with][disabled]"))s.disabled=!1}i(Ou,"reenableParentFormButtons");function $u(t,e){const n=e.querySelector(".js-slash-command-menu");t.setMenu(n,!0);const o=n.querySelector("form"),s=document.activeElement;To(o);const r=i(()=>{t.closeMenu()},"closeForm");Co(o,o,s,r),Ao(o,r),ko(o,t,r)}i($u,"handleDialogForm");function Fu(t,e){const n=t.closest("form");if(!n)return;const o=e.querySelector('[data-component="form"]');n.insertAdjacentElement("afterend",o);const s=document.activeElement;To(o);const r=i(()=>{n.hidden=!1,o.remove()},"closeForm");Ao(o,r);const a=o.getElementsByTagName("form")[0];Co(a,o,s,r),ko(o,t,r)}i(Fu,"handleModalForm");function Uu(t,e){const n=t.closest(".js-slash-command-surface"),o=t.closest("form"),s=n||o;if(!s)return;s.hidden=!0;const r=e.querySelector('[data-component="form"]');s.insertAdjacentElement("afterend",r);const a=document.activeElement;To(r);const c=i(()=>{s.hidden=!1,r.remove()},"closeForm");Ao(r,c);const l=r.getElementsByTagName("form")[0];Co(l,r,a,c),ko(r,t,c)}i(Uu,"handleEmbeddedForm");const Wu=5e3;function zu(t,e){var n,o;const s=(n=e.parentElement)==null?void 0:n.parentElement;if(!s)return;const r=s.querySelector(".drag-and-drop .default");let a=!1;r&&(a=r.hidden,r.hidden=!0),(o=r==null?void 0:r.parentElement)==null||o.prepend(t),setTimeout(()=>{r&&(r.hidden=a),t.remove()},Wu)}i(zu,"showFooter");function Ku(t){const{key:e,provide:n,text:o}=t.detail;if(e!==jo)return;const s=t.target;s.isLoading();const r=s.getAttribute("data-slash-command-url");n(Vu(r,o,s))}i(Ku,"onChange");async function Vu(t,e,n){try{const[o,s]=await Br(t),r=o.querySelector(".js-slash-command-menu-items"),a=_u(s,e);if(r){r.innerHTML="";for(const c of s)if(c.classList.contains("js-group-divider")){const l=c.getAttribute("data-group-id");a.filter(p=>p.getAttribute("data-group-id")===l).length>0&&r.append(c)}else a.includes(c)&&r.append(c)}return{fragment:o,matched:a.length>0}}catch(o){throw n.showError(),new Error(o)}}i(Vu,"slashCommandMenu");async function Hr(t){const n=(await(0,at.a)(document,t)).firstElementChild,o=n.querySelectorAll(".js-slash-command-menu-items li");return[n,[...o]]}i(Hr,"fetchSlashCommands");let Br=(0,jt.Z)(Hr);function Xu(t,e){const n=t.closest(".js-survey-question-form"),o=n.querySelector("input.js-survey-other-text"),s=e&&!n.classList.contains("is-other-selected");n.classList.toggle("is-other-selected",s),o.hidden=!e,s?(o.required=!0,o.focus()):o.required=!1,(0,d.f)(o,"change")}i(Xu,"handleOther"),(0,d.on)("change","input.js-survey-radio",function({currentTarget:t}){Xu(t,t.classList.contains("js-survey-radio-other"))}),(0,d.on)("change","input.js-survey-checkbox-enable-submit",function({currentTarget:t}){var e;const n=t.checked,o=(e=t.closest("form"))==null?void 0:e.querySelector("button[type=submit]");o.disabled=!n}),(0,d.on)("change","input.js-survey-contact-checkbox",function(t){const e=t.currentTarget,o=e.closest(".js-survey-question-form").querySelector(".js-survey-contact-checkbox-hidden");e.checked?o.setAttribute("disabled","true"):o.removeAttribute("disabled")}),(0,d.on)("details-menu-selected",".js-sync-select-menu-text",function(t){const e=document.querySelector(".js-sync-select-menu-button"),n=t.detail.relatedTarget.querySelector("span[data-menu-button-text]").textContent;e.textContent=n,e.focus()},{capture:!0}),(0,d.on)("click",'tab-container [role="tab"]',function(t){const{currentTarget:e}=t,o=e.closest("tab-container").querySelector(".js-filterable-field, [data-filter-placeholder-input]");if(o instanceof HTMLInputElement){const s=e.getAttribute("data-filter-placeholder");s&&o.setAttribute("placeholder",s),o.focus()}}),(0,d.on)("tab-container-changed","tab-container",function(t){const e=t.detail.relatedTarget,n=e.getAttribute("data-fragment-url"),o=e.querySelector("include-fragment");n&&o&&!o.hasAttribute("src")&&(o.src=n)});var qf=u(67898),Or=u(84028);document.addEventListener("keydown",t=>{if(t.key!=="Escape"||t.target!==document.body)return;const e=document.querySelector(".js-targetable-element:target");!e||(0,Or.uQ)(e,()=>{window.location.hash="",window.history.replaceState(null,"",window.location.pathname+window.location.search)})}),document.addEventListener("click",t=>{const e=document.querySelector(".js-targetable-element:target");!e||t.target instanceof HTMLAnchorElement||t.target instanceof HTMLElement&&(e.contains(t.target)||(0,Or.uQ)(e,()=>{window.location.hash="",window.history.replaceState(null,"",window.location.pathname+window.location.search)}))});var Pf=u(35828);async function Gu(t){const e=t.currentTarget;if(Ju(e)){e.classList.remove("tooltipped");return}const n=e.getAttribute("data-url");if(!n)return;const o=await fetch(n,{headers:{Accept:"application/json"}});if(!o.ok)return;const s=await o.json(),r=e.getAttribute("data-id"),a=document.querySelectorAll(`.js-team-mention[data-id='${r}']`);for(const c of a)c.removeAttribute("data-url");try{s.total===0?s.members.push("This team has no members"):s.total>s.members.length&&s.members.push(`${s.total-s.members.length} more`),$r(a,Zu(s.members))}catch(c){const l=c.response?c.response.status:500,f=e.getAttribute(l===404?"data-permission-text":"data-error-text");$r(a,f)}}i(Gu,"members");function $r(t,e){for(const n of t)n instanceof HTMLElement&&(n.setAttribute("aria-label",e),n.classList.add("tooltipped","tooltipped-s","tooltipped-multiline"))}i($r,"tip");function Zu(t){if("ListFormat"in Intl)return new Intl.ListFormat().format(t);if(t.length===0)return"";if(t.length===1)return t[0];if(t.length===2)return t.join(" and ");{const e=t[t.length-1];return t.slice(0,-1).concat(`and ${e}`).join(", ")}}i(Zu,"sentence");function Ju(t){return!!t.getAttribute("data-hovercard-url")&&!!t.closest("[data-team-hovercards-enabled]")}i(Ju,"teamHovercardEnabled"),(0,v.N7)(".js-team-mention",function(t){t.addEventListener("mouseenter",Gu)});var Yu=Object.defineProperty,Qu=Object.getOwnPropertyDescriptor,fn=i((t,e,n,o)=>{for(var s=o>1?void 0:o?Qu(e,n):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(s=(o?a(e,n,s):a(s))||s);return o&&s&&Yu(e,n,s),s},"text_suggester_element_decorateClass");let Le=i(class extends HTMLElement{acceptSuggestion(){var t;((t=this.suggestion)==null?void 0:t.textContent)&&(this.input.value=this.suggestion.textContent,this.input.dispatchEvent(new Event("input")),this.suggestionContainer&&(this.suggestionContainer.hidden=!0),this.input.focus())}},"TextSuggesterElement");fn([P.fA],Le.prototype,"input",2),fn([P.fA],Le.prototype,"suggestionContainer",2),fn([P.fA],Le.prototype,"suggestion",2),Le=fn([P.Ih],Le);function td(){const t=document.querySelector(".js-timeline-marker");return t!=null?t.getAttribute("data-last-modified"):null}i(td,"getTimelineLastModified");function Fr(t){if(nd(t)||ed(t))return;const e=td();e&&t.headers.set("X-Timeline-Last-Modified",e)}i(Fr,"addTimelineLastModifiedHeader");function ed(t){return t.headers.get("X-PJAX")==="true"}i(ed,"isPjax");function nd(t){let e;try{e=new URL(t.url)}catch{return!0}return e.host!==window.location.host}i(nd,"isCrossDomain"),(0,V.AC)(".js-needs-timeline-marker-header",function(t,e,n){Fr(n)}),(0,d.on)("deprecatedAjaxSend","[data-remote]",function(t){const{request:e}=t.detail;Fr(e)});const Ur=5e3,od=".js-comment-body img",sd=".js-comment-body video";(0,We.Z)(function(){mn()}),(0,v.N7)(".js-timeline-progressive-focus-container",function(t){const e=hn();if(!e||document.querySelector(".js-pull-discussion-timeline"))return;const o=document.getElementById(e);o&&t.contains(o)&&xo(o)});function mn(t=!0){const e=hn();if(!e)return;const n=document.getElementById(e);if(n)xo(n);else{if(rd(e))return;const o=document.querySelector("#js-timeline-progressive-loader");o&&t&&Kr(e,o)}}i(mn,"focusOrLoadElement");function rd(t){return id(t)||Wr(t,".js-thread-hidden-comment-ids")||Wr(t,".js-review-hidden-comment-ids")}i(rd,"loadComments");function id(t){const e=zr(t,".js-comment-container");return e?((0,Gn.$)(e),!0):!1}i(id,"loadResolvedComments");function Wr(t,e){const n=zr(t,e);return n?(n.addEventListener("page:loaded",function(){mn()}),n.querySelector("button[type=submit]").click(),!0):!1}i(Wr,"loadHiddenComments");function zr(t,e){var n;const o=document.querySelectorAll(e);for(const s of o){const r=s.getAttribute("data-hidden-comment-ids");if(r){const a=r.split(","),c=(n=t.match(/\d+/g))==null?void 0:n[0];if(c&&a.includes(c))return s}}return null}i(zr,"findCommentContainer"),(0,v.N7)(".js-inline-comments-container",function(t){const e=hn();if(!e)return;const n=document.getElementById(e);n&&t.contains(n)&&xo(n)}),(0,v.N7)("#js-discussions-timeline-anchor-loader",{constructor:HTMLElement,add:t=>{if(document.querySelector("#js-timeline-progressive-loader"))return;const n=hn();if(!n)return;document.getElementById(n)||Kr(n,t)}});async function ad(){const t=document.querySelectorAll(sd),e=Array.from(t).map(n=>new Promise(o=>{if(n.readyState>=n.HAVE_METADATA)o(n);else{const s=setTimeout(()=>o(n),Ur),r=i(()=>{clearTimeout(s),o(n)},"done");n.addEventListener("loadeddata",()=>{n.readyState>=n.HAVE_METADATA&&r()}),n.addEventListener("error",()=>r())}}));return Promise.all(e)}i(ad,"videosReady");async function cd(){const t=document.querySelectorAll(od),e=Array.from(t).map(n=>{new Promise(o=>{if(n.complete)o(n);else{const s=setTimeout(()=>o(n),Ur),r=i(()=>{clearTimeout(s),o(n)},"done");n.addEventListener("load",()=>r()),n.addEventListener("error",()=>r())}})});return Promise.all(e)}i(cd,"imagesReady");async function ld(){return Promise.all([ad(),cd()])}i(ld,"mediaLoaded");async function xo(t){await ld(),ud(t);const e=t.querySelector(`[href='#${t.id}']`);if(e){const n=e.getAttribute("data-turbo");e.setAttribute("data-turbo","false"),e.click(),n===null?e.removeAttribute("data-turbo"):e.setAttribute("data-turbo",n)}}i(xo,"focusElement");async function Kr(t,e){if(!e)return;const n=e.getAttribute("data-timeline-item-src");if(!n)return;const o=new URL(n,window.location.origin),s=new URLSearchParams(o.search.slice(1));s.append("anchor",t),o.search=s.toString();let r;try{r=await(0,at.a)(document,o.toString())}catch{return}const a=r.querySelector(".js-timeline-item");if(!a)return;const c=a.getAttribute("data-gid");if(!c)return;const l=document.querySelector(`.js-timeline-item[data-gid='${c}']`);if(l)l.replaceWith(a),mn(!1);else{const f=document.getElementById("js-progressive-timeline-item-container");f&&f.replaceWith(r),mn(!1)}}i(Kr,"loadElement");function ud(t){const e=t.closest("details, .js-details-container");!e||(e.nodeName==="DETAILS"?e.setAttribute("open","open"):(0,Xn.jo)(e)||(0,Xn.Qp)(e))}i(ud,"expandDetailsIfPresent");function hn(){return window.location.hash.slice(1)}i(hn,"urlAnchor"),(0,v.N7)(".js-discussion",dd);function dd(){let t=new WeakSet;e(),document.addEventListener("pjax:end",e),(0,v.N7)(".js-timeline-item",n=>{n instanceof HTMLElement&&(t.has(n)||(0,ft.N)(n))});function e(){t=new WeakSet(document.querySelectorAll(".js-timeline-item"))}i(e,"setExistingTimelineItems")}i(dd,"announceTimelineEvents");var Se=u(92547);function je(t){const{name:e,value:n}=t,o={name:window.location.href};switch(e){case"CLS":o.cls=n;break;case"FCP":o.fcp=n;break;case"FID":o.fid=n;break;case"LCP":o.lcp=n;break;case"TTFB":o.ttfb=n;break}(0,St.b)({webVitalTimings:[o]}),fd(e,n)}i(je,"sendVitals");function fd(t,e){const n=document.querySelector("#staff-bar-web-vitals"),o=n==null?void 0:n.querySelector(`[data-metric=${t.toLowerCase()}]`);!o||(o.textContent=e.toPrecision(6))}i(fd,"updateStaffBar");function md(){return!!(window.performance&&window.performance.timing&&window.performance.getEntriesByType)}i(md,"isTimingSuppported");async function hd(){if(!md())return;await xt.C,await new Promise(n=>setTimeout(n));const t=window.performance.getEntriesByType("resource");t.length&&(0,St.b)({resourceTimings:t});const e=window.performance.getEntriesByType("navigation");e.length&&(0,St.b)({navigationTimings:e})}i(hd,"sendTimingResults"),hd(),(0,Se.kz)(je),(0,Se.Y)(je),(0,Se.Tx)(je),(0,Se.Tb)(je),(0,Se.CA)(je),(0,d.on)("click",".js-toggler-container .js-toggler-target",function(t){if(t.button!==0)return;const e=t.currentTarget.closest(".js-toggler-container");e&&e.classList.toggle("on")}),(0,V.AC)(".js-toggler-container",async(t,e)=>{t.classList.remove("success","error"),t.classList.add("loading");try{await e.text(),t.classList.add("success")}catch{t.classList.add("error")}finally{t.classList.remove("loading")}});var Vr=u(27852),Xr=i((t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},"primer_tooltip_element_accessCheck"),Bt=i((t,e,n)=>(Xr(t,e,"read from private field"),n?n.call(t):e.get(t)),"primer_tooltip_element_privateGet"),Te=i((t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},"primer_tooltip_element_privateAdd"),tt=i((t,e,n,o)=>(Xr(t,e,"write to private field"),o?o.call(t,n):e.set(t,n),n),"primer_tooltip_element_privateSet"),Ae,pn,lt,ut,gn;const Gr="hx_tooltip-open",Zr="hx_tooltip",Jr=10,Yr=["hx_tooltip-n","hx_tooltip-s","hx_tooltip-e","hx_tooltip-w","hx_tooltip-ne","hx_tooltip-se","hx_tooltip-nw","hx_tooltip-sw"],pd={n:"hx_tooltip-n",s:"hx_tooltip-s",e:"hx_tooltip-e",w:"hx_tooltip-w",ne:"hx_tooltip-ne",se:"hx_tooltip-se",nw:"hx_tooltip-nw",sw:"hx_tooltip-sw"};class bn extends HTMLElement{constructor(){super(...arguments);Te(this,Ae,void 0),Te(this,pn,"s"),Te(this,lt,"center"),Te(this,ut,"outside-bottom"),Te(this,gn,!1)}get htmlFor(){return this.getAttribute("for")||""}set htmlFor(e){this.setAttribute("for",e)}get control(){return this.ownerDocument.getElementById(this.htmlFor)}get type(){return this.getAttribute("data-type")==="label"?"label":"description"}set type(e){this.setAttribute("data-type",e)}get direction(){return Bt(this,pn)}set direction(e){this.setAttribute("data-direction",e)}get align(){return Bt(this,lt)}get side(){return Bt(this,ut)}connectedCallback(){this.hidden=!0,tt(this,gn,!0),this.id||(this.id=`tooltip-${Date.now()}-${(Math.random()*1e4).toFixed(0)}`),!!this.control&&(this.classList.add(Zr),this.setAttribute("role","tooltip"),this.addEvents())}attributeChangedCallback(e,n,o){if(e==="id"||e==="data-type"){if(!this.id||!this.control)return;if(this.type==="label")this.control.setAttribute("aria-labelledby",this.id);else{let s=this.control.getAttribute("aria-describedby");s?s=`${s} ${this.id}`:s=this.id,this.control.setAttribute("aria-describedby",s)}}else if(e==="hidden")if(this.hidden)this.classList.remove(Gr,...Yr);else{this.classList.add(Gr,Zr);for(const s of this.ownerDocument.querySelectorAll(this.tagName))s!==this&&(s.hidden=!0);this.updatePosition()}else if(e==="data-direction"){this.classList.remove(...Yr);const s=tt(this,pn,o||"s");s==="n"?(tt(this,lt,"center"),tt(this,ut,"outside-top")):s==="ne"?(tt(this,lt,"start"),tt(this,ut,"outside-top")):s==="e"?(tt(this,lt,"center"),tt(this,ut,"outside-right")):s==="se"?(tt(this,lt,"start"),tt(this,ut,"outside-bottom")):s==="s"?(tt(this,lt,"center"),tt(this,ut,"outside-bottom")):s==="sw"?(tt(this,lt,"end"),tt(this,ut,"outside-bottom")):s==="w"?(tt(this,lt,"center"),tt(this,ut,"outside-left")):s==="nw"&&(tt(this,lt,"end"),tt(this,ut,"outside-top"))}}disconnectedCallback(){Bt(this,Ae).abort()}addEvents(){if(!this.control)return;tt(this,Ae,new AbortController);const{signal:e}=Bt(this,Ae);this.addEventListener("mouseleave",this,{signal:e}),this.control.addEventListener("mouseenter",this,{signal:e}),this.control.addEventListener("mouseleave",this,{signal:e}),this.control.addEventListener("focus",this,{signal:e}),this.control.addEventListener("blur",this,{signal:e}),this.ownerDocument.addEventListener("keydown",this,{signal:e})}handleEvent(e){!this.control||((e.type==="mouseenter"||e.type==="focus")&&this.hidden?this.hidden=!1:e.type==="blur"?this.hidden=!0:e.type==="mouseleave"&&e.relatedTarget!==this.control&&e.relatedTarget!==this?this.hidden=!0:e.type==="keydown"&&e.key==="Escape"&&!this.hidden&&(this.hidden=!0))}adjustedAnchorAlignment(e){if(!this.control)return;const n=this.getBoundingClientRect(),o=this.control.getBoundingClientRect(),s=n.width,r=n.left+s/2,a=o.x+o.width/2;return Math.abs(r-a)<2||e==="outside-left"||e==="outside-right"?"center":n.left===o.left?"start":n.right===o.right?"end":r<a?n.left===0?"start":"end":n.right===0?"end":"start"}updatePosition(){if(!this.control||!Bt(this,gn)||this.hidden)return;this.style.left="0px";let e=(0,Vr.N)(this,this.control,{side:Bt(this,ut),align:Bt(this,lt),anchorOffset:Jr}),n=e.anchorSide;this.style.top=`${e.top}px`,this.style.left=`${e.left}px`;let o="s";const s=this.adjustedAnchorAlignment(n);!s||(this.style.left="0px",e=(0,Vr.N)(this,this.control,{side:n,align:s,anchorOffset:Jr}),n=e.anchorSide,this.style.top=`${e.top}px`,this.style.left=`${e.left}px`,n==="outside-left"?o="w":n==="outside-right"?o="e":n==="outside-top"?s==="center"?o="n":s==="start"?o="ne":o="nw":s==="center"?o="s":s==="start"?o="se":o="sw",this.classList.add(pd[o]))}}if(i(bn,"PrimerTooltipElement"),Ae=new WeakMap,pn=new WeakMap,lt=new WeakMap,ut=new WeakMap,gn=new WeakMap,bn.observedAttributes=["data-type","data-direction","id","hidden"],window.customElements.get("primer-tooltip")||(window.PrimerTooltipElement=bn,window.customElements.define("primer-tooltip",bn)),(0,Nt.c)("TURBO")){(async()=>{const{session:e}=await u.e(3692).then(u.bind(u,23692)),n=e.adapter;document.addEventListener("turbo:before-fetch-request",o=>{const s=o.target;(s==null?void 0:s.tagName)==="TURBO-FRAME"&&(n.progressBar.setValue(0),n.progressBar.show())}),document.addEventListener("turbo:frame-render",o=>{const s=o.target;(s==null?void 0:s.tagName)==="TURBO-FRAME"&&(n.progressBar.setValue(100),n.progressBar.hide())})})();const t=i((e,n)=>{const o=new URL(e,window.location.origin),s=new URL(n,window.location.origin);return o.host===s.host&&o.pathname===s.pathname},"isIntraPageNavigation");document.addEventListener("turbo:click",function(e){if(!(e.target instanceof HTMLElement))return;const n=e.target.closest("[data-turbo-frame]");n instanceof HTMLElement&&e.target.setAttribute("data-turbo-frame",n.getAttribute("data-turbo-frame")||""),e instanceof CustomEvent&&t(location.href,e.detail.url)&&e.preventDefault()}),document.addEventListener("turbo:before-render",e=>{if(!(e instanceof CustomEvent))return;const n=e.detail.newBody.ownerDocument.documentElement,o=document.documentElement;for(const s of o.attributes)!n.hasAttribute(s.nodeName)&&s.nodeName!=="aria-busy"&&o.removeAttribute(s.nodeName);for(const s of n.attributes)o.getAttribute(s.nodeName)!==s.nodeValue&&o.setAttribute(s.nodeName,s.nodeValue)})}function gd(){if("Intl"in window)try{return new window.Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}}i(gd,"timezone"),window.requestIdleCallback(()=>{const t=gd();t&&(0,pe.d8)("tz",encodeURIComponent(t))});var Qr=u(94745),bd=Object.defineProperty,yd=Object.getOwnPropertyDescriptor,rt=i((t,e,n,o)=>{for(var s=o>1?void 0:o?yd(e,n):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(s=(o?a(e,n,s):a(s))||s);return o&&s&&bd(e,n,s),s},"webauthn_get_decorateClass"),vd=(t=>(t.Initializing="initializing",t.Unsupported="unsupported",t.Ready="ready",t.Waiting="waiting",t.Error="error",t.Submitting="submitting",t))(vd||{});let bt=i(class extends HTMLElement{constructor(){super(...arguments);this.state="initializing",this.json="",this.autofocusWhenReady=!1,this.autoPrompt=!1,this.hasErrored=!1}connectedCallback(){this.originalButtonText=this.button.textContent,this.setState((0,Qr.Zh)()?"ready":"unsupported"),this.autoPrompt&&this.prompt(void 0,!0)}setState(t){this.button.textContent=this.hasErrored?this.button.getAttribute("data-retry-message"):this.originalButtonText,this.button.disabled=!1,this.button.hidden=!1;for(const e of this.messages)e.hidden=!0;switch(t){case"initializing":this.button.disabled=!0;break;case"unsupported":this.button.disabled=!0,this.unsupportedMessage.hidden=!1;break;case"ready":this.autofocusWhenReady&&this.button.focus();break;case"waiting":this.waitingMessage.hidden=!1,this.button.hidden=!0;break;case"error":this.errorMessage.hidden=!1;break;case"submitting":this.button.textContent="Verifying\u2026",this.button.disabled=!0;break;default:throw new Error("invalid state")}this.state=t}async prompt(t,e){t==null||t.preventDefault(),this.dispatchEvent(new CustomEvent("webauthn-get-prompt"));try{e||this.setState("waiting");const n=JSON.parse(this.json),o=await(0,Qr.U2)(n);this.setState("submitting");const s=this.closest(".js-webauthn-form"),r=s.querySelector(".js-webauthn-response");r.value=JSON.stringify(o),(0,J.Bt)(s)}catch(n){if(!e)throw this.hasErrored=!0,this.setState("error"),n}}},"WebauthnGetElement");rt([P.fA],bt.prototype,"button",2),rt([P.GO],bt.prototype,"messages",2),rt([P.fA],bt.prototype,"unsupportedMessage",2),rt([P.fA],bt.prototype,"waitingMessage",2),rt([P.fA],bt.prototype,"errorMessage",2),rt([P.Lj],bt.prototype,"json",2),rt([P.Lj],bt.prototype,"autofocusWhenReady",2),rt([P.Lj],bt.prototype,"autoPrompt",2),bt=rt([P.Ih],bt);var wd=(t=>(t.Initializing="initializing",t.ShowingForm="showing-form",t.ShowingRevealer="showing-revealer",t))(wd||{});let ie=i(class extends HTMLElement{constructor(){super(...arguments);this.state="showing-form"}connectedCallback(){this.setState(this.state)}setState(t){switch(this.revealer.hidden=!0,this.form.hidden=!1,t){case"initializing":break;case"showing-form":this.passwordField.focus(),this.dispatchEvent(new CustomEvent("sudo-password-showing-form"));break;case"showing-revealer":this.revealer.hidden=!1,this.form.hidden=!0;break;default:throw new Error("invalid state")}this.state=t}reveal(){this.setState("showing-form")}},"SudoPasswordElement");rt([P.Lj],ie.prototype,"state",2),rt([P.fA],ie.prototype,"revealer",2),rt([P.fA],ie.prototype,"form",2),rt([P.fA],ie.prototype,"passwordField",2),ie=rt([P.Ih],ie);let yn=i(class extends HTMLElement{connectedCallback(){var t;(t=this.webauthnGet)==null||t.addEventListener("webauthn-get-prompt",()=>{this.sudoPassword.setState("showing-revealer")}),this.sudoPassword.addEventListener("sudo-password-showing-form",()=>{var e;(e=this.webauthnGet)==null||e.setState("ready")})}},"SudoAuthElement");rt([P.fA],yn.prototype,"webauthnGet",2),rt([P.fA],yn.prototype,"sudoPassword",2),yn=rt([P.Ih],yn);let Mo=0;function Ed(){if(!document.hasFocus())return;const t=document.querySelector(".js-timeline-marker-form");t&&t instanceof HTMLFormElement&&(0,J.Bt)(t)}i(Ed,"markThreadAsRead");const vn="IntersectionObserver"in window?new IntersectionObserver(function(t){for(const e of t)e.isIntersecting&&ti(e.target)},{root:null,rootMargin:"0px",threshold:1}):null;(0,v.N7)(".js-unread-item",{constructor:HTMLElement,add(t){Mo++,vn&&vn.observe(t)},remove(t){Mo--,vn&&vn.unobserve(t),Mo===0&&Ed()}});function ti(t){t.classList.remove("js-unread-item","unread-item")}i(ti,"clearUnread"),(0,v.N7)(".js-discussion[data-channel-target]",{subscribe:t=>(0,R.RB)(t,"socket:message",function(e){const n=e.target,o=e.detail.data;if(n.getAttribute("data-channel-target")===o.gid)for(const s of document.querySelectorAll(".js-unread-item"))ti(s)})});let wn=0;const ei=/^\(\d+\)\s+/;function ni(){const t=wn?`(${wn}) `:"";document.title.match(ei)?document.title=document.title.replace(ei,t):document.title=`${t}${document.title}`}i(ni,"updateTitle"),(0,v.N7)(".js-unread-item",{add(){wn++,ni()},remove(){wn--,ni()}}),(0,v.N7)(".js-socket-channel.js-updatable-content",{subscribe:t=>(0,R.RB)(t,"socket:message",function(e){const{gid:n,wait:o}=e.detail.data,s=e.target,r=n?Ld(s,n):s;r&&setTimeout(Mt.x0,o||0,r)})});function Ld(t,e){if(t.getAttribute("data-gid")===e)return t;for(const n of t.querySelectorAll("[data-url][data-gid]"))if(n.getAttribute("data-gid")===e)return n;return null}i(Ld,"findByGid");async function Sd(){if(!(!history.state||!history.state.staleRecords)){await xt.x;for(const t in history.state.staleRecords)for(const e of document.querySelectorAll(`.js-updatable-content [data-url='${t}'], .js-updatable-content[data-url='${t}']`)){const n=history.state.staleRecords[t];e instanceof HTMLElement&&(0,Mt.Of)(e,n,!0)}(0,te.lO)(null,"",location.href)}}i(Sd,"reapplyPreviouslyUpdatedContent"),window.addEventListener("beforeunload",function(){if(Object.keys(Mt.WU).length>0){const t=history.state||{};t.staleRecords=Mt.WU,(0,te.lO)(t,"",location.href)}});try{Sd()}catch{}(0,d.on)("upload:setup",".js-upload-avatar-image",function(t){const{form:e}=t.detail,n=t.currentTarget.getAttribute("data-alambic-organization"),o=t.currentTarget.getAttribute("data-alambic-owner-type"),s=t.currentTarget.getAttribute("data-alambic-owner-id");n&&e.append("organization_id",n),o&&e.append("owner_type",o),s&&e.append("owner_id",s)}),(0,d.on)("upload:complete",".js-upload-avatar-image",function(t){const{attachment:e}=t.detail,n=`/settings/avatars/${e.id}`;(0,It.W)({content:(0,at.a)(document,n)})});var oi=u(30330);function En(){if(document.querySelector(":target"))return;const t=(0,oi.$z)(location.hash).toLowerCase(),e=(0,oi.Q)(document,`user-content-${t}`);e&&(0,to.zT)(e)}i(En,"hashchange"),window.addEventListener("hashchange",En),document.addEventListener("pjax:success",En),async function(){await xt.x,En()}(),(0,d.on)("click","a[href]",function(t){const{currentTarget:e}=t;e instanceof HTMLAnchorElement&&e.href===location.href&&location.hash.length>1&&setTimeout(function(){t.defaultPrevented||En()})});async function jd(t){const e=t.currentTarget,{init:n}=await u.e(9509).then(u.bind(u,89509));n(e)}i(jd,"user_status_loader_load"),(0,v.N7)(".js-user-status-container",{subscribe:t=>(0,R.RB)(t,"click",jd,{once:!0})});var Ln=u(30322);function Td(t,e){const n=t.querySelector(".js-user-list-base");n&&(n.textContent=e||n.getAttribute("data-generic-message"),n.hidden=!1)}i(Td,"setFlashError");function si(t,e){const o=(e||t).querySelectorAll(".js-user-list-error");for(const a of o)a.hidden=!0;const s=e?[e]:t.querySelectorAll(".errored.js-user-list-input-container");for(const a of s)a.classList.remove("errored");const r=t.querySelector(".js-user-list-base");r&&(r.hidden=!0)}i(si,"resetValidation"),(0,V.AC)(".js-user-list-form",async function(t,e){var n;si(t);const o=t.querySelector("[data-submitting-message]"),s=o==null?void 0:o.textContent;o&&(o.textContent=o.getAttribute("data-submitting-message"),o.disabled=!0);for(const r of t.querySelectorAll(".js-user-list-input"))r.disabled=!0;try{const r=await e.html();(0,d.f)(t,"user-list-form:success",r.html)}catch(r){if(((n=r.response)==null?void 0:n.status)===422)t.replaceWith(r.response.html);else{Td(t),o&&(s&&(o.textContent=s),o.disabled=!1);for(const a of t.querySelectorAll(".js-user-list-input"))a.disabled=!1}}}),(0,d.on)("user-list-form:success",".js-follow-list",t=>{const e=t.detail,n=e instanceof DocumentFragment?e.querySelector(".js-target-url"):null;(n==null?void 0:n.textContent)?location.href=n.textContent:location.reload()});function ri(t){if(!(t.currentTarget instanceof HTMLElement))return;const e=t.currentTarget.closest(".js-user-list-form"),n=t.currentTarget.closest(".js-user-list-input-container");e&&n&&si(e,n)}i(ri,"clearErrorsFromInput"),(0,X.q6)(".js-user-list-form input",ri),(0,X.q6)(".js-user-list-form textarea",ri),(0,d.on)("auto-check-error",".js-user-list-form input",function(t){const e=t.currentTarget.closest(".js-user-list-input-container"),n=e==null?void 0:e.querySelector(".js-user-list-error");n&&(n.hidden=!1)});function Ad(t){var e;const n=new Map;for(const o of t){const s=(e=o.querySelector(".js-user-lists-create-trigger"))==null?void 0:e.getAttribute("data-repository-id");if(s){const r=n.get(s);r?r.push(o):n.set(s,[o])}}return n}i(Ad,"groupRootsByRepositoryId");async function Cd(t,e,n){const o=new FormData;o.set("authenticity_token",e);for(const a of n)o.append("repository_ids[]",a);const s=await fetch(t,{method:"POST",body:o,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),r=new Map;if(s.ok){const a=await s.json();for(const c in a)r.set(c,(0,Et.r)(document,a[c]))}return r}i(Cd,"requestMenuBatchRender");function kd(t,e){for(const[n,o]of t.entries()){const s=e.get(n)||[];for(const r of s)r.replaceWith(s.length===1?o:o.cloneNode(!0))}}i(kd,"replaceUserListMenuRoots");async function ii(){var t;const e=document.querySelectorAll(".js-user-list-menu-content-root");if(e.length===0)return;const n=e[0].getAttribute("data-batch-update-url");if(!n)return;const o=(t=e[0].querySelector(".js-user-list-batch-update-csrf"))==null?void 0:t.value;if(!o)return;const s=Ad(e),r=s.keys(),a=await Cd(n,o,r);a.size>0&&kd(a,s)}i(ii,"updateAllUserListMenus");function xd(t){const e=new Promise((n,o)=>{t.addEventListener("user-list-menu-form:success",()=>n()),t.addEventListener("user-list-menu-form:error",s=>o(s))});return(0,J.Bt)(t),e}i(xd,"requestUserListMenuFormSubmit");function Md(t){const e=t.target;if(!(e instanceof HTMLDetailsElement)||e.hasAttribute("open"))return;const n=e.querySelector(".js-user-list-menu-form");n&&(0,Ln.T)(n)&&(0,J.Bt)(n);const o=e.querySelector(".js-user-list-create-trigger-text");o&&(o.textContent="")}i(Md,"submitUserListFormOnToggle"),(0,d.on)("toggle",".js-user-list-menu",Md,{capture:!0}),(0,X.q6)(".js-user-lists-menu-filter",t=>{const e=t.currentTarget,n=e.value.trim(),o=e.closest(".js-user-list-menu-content-root"),s=o==null?void 0:o.querySelector(".js-user-list-create-trigger-text");!s||(s.textContent=n?`"${n}"`:"")}),(0,V.AC)(".js-user-list-menu-form",async function(t,e){let n;try{n=await e.json()}catch(s){(0,me.v)(),(0,d.f)(t,"user-list-menu-form:error",s);return}if(n.json.didStar){const s=t.closest(".js-toggler-container");s&&s.classList.add("on");const r=n.json.starCount;if(r){const a=t.closest(".js-social-container");a&&jr(a,r)}}const o=t.closest(".js-user-list-menu-content-root[data-update-after-submit]");if(o)for(const s of t.querySelectorAll(".js-user-list-menu-item"))s.checked=s.defaultChecked;n.json.didCreate?await ii():o&&await(0,Mt.x0)(o),(0,d.f)(t,"user-list-menu-form:success")}),(0,d.on)("click",".js-user-list-delete-confirmation-trigger",t=>{const{currentTarget:e}=t,n=e.getAttribute("data-template-id");if(!n)return;const o=document.getElementById(n);if(!o||!(o instanceof HTMLTemplateElement))return;const s=e.closest(".js-edit-user-list-dialog");s&&(s.open=!1);const r=o.content.cloneNode(!0),a=o.getAttribute("data-labelledby");(0,It.W)({content:r,labelledBy:a})}),(0,d.on)("click",".js-user-lists-create-trigger",async function(t){const{currentTarget:e}=t,n=document.querySelector(".js-user-list-create-dialog-template"),o=t.currentTarget.getAttribute("data-repository-id"),s=e.closest(".js-user-list-menu-content-root"),r=s==null?void 0:s.querySelector(".js-user-lists-menu-filter"),a=r==null?void 0:r.value.trim();if(!n||!(n instanceof HTMLTemplateElement)||!o){e instanceof HTMLButtonElement&&(e.disabled=!0);return}const c=n.getAttribute("data-label");if(s&&(0,Ln.T)(s)){const p=s.querySelector(".js-user-list-menu-form");p&&await xd(p)}const l=new Lt.R(n,{repositoryId:o,placeholderName:a}),f=await(0,It.W)({content:l,label:c});f.addEventListener("user-list-form:success",async()=>{await ii();const p=f.closest("details");p&&(p.open=!1)})});var qd=Object.defineProperty,Pd=Object.getOwnPropertyDescriptor,Sn=i((t,e,n,o)=>{for(var s=o>1?void 0:o?Pd(e,n):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(s=(o?a(e,n,s):a(s))||s);return o&&s&&qd(e,n,s),s},"visible_password_element_decorateClass");let Ce=i(class extends HTMLElement{show(){this.input.type="text",this.input.focus(),this.showButton.hidden=!0,this.hideButton.hidden=!1}hide(){this.input.type="password",this.input.focus(),this.hideButton.hidden=!0,this.showButton.hidden=!1}},"VisiblePasswordElement");Sn([P.fA],Ce.prototype,"input",2),Sn([P.fA],Ce.prototype,"showButton",2),Sn([P.fA],Ce.prototype,"hideButton",2),Ce=Sn([P.Ih],Ce),(0,v.N7)("[data-warn-unsaved-changes]",{add(t){t.addEventListener("input",jn),t.addEventListener("change",jn),t.addEventListener("submit",ke);const e=t.closest("details-dialog");e&&(e.closest("details").addEventListener("toggle",ai),e.addEventListener("details-dialog-close",ci))},remove(t){t.removeEventListener("input",jn),t.removeEventListener("change",jn),t.removeEventListener("submit",ke);const e=t.closest("details-dialog");e&&(e.closest("details").removeEventListener("toggle",ai),e.removeEventListener("details-dialog-close",ci),ke())}});function jn(t){const e=t.currentTarget;(0,Ln.T)(e)?Id(e):ke()}i(jn,"prepareUnsavedChangesWarning");function Id(t){const e=t.getAttribute("data-warn-unsaved-changes")||"Changes you made may not be saved.";window.onbeforeunload=function(n){return n.returnValue=e,e}}i(Id,"enableSaveChangesReminder");function ke(){window.onbeforeunload=null}i(ke,"disableSaveChangesReminder");function ai({currentTarget:t}){t.hasAttribute("open")||ke()}i(ai,"disableSaveChangesReminderOnClosedDialogs");function ci(t){const e=t.currentTarget;if(!e.closest("details[open]"))return;let o=!0;const s=e.querySelectorAll("form[data-warn-unsaved-changes]");for(const r of s)if((0,Ln.T)(r)){const a=r.getAttribute("data-warn-unsaved-changes");o=confirm(a);break}o||t.preventDefault()}i(ci,"promptOnDialogClosing"),(0,v.N7)(".will-transition-once",{constructor:HTMLElement,subscribe:t=>(0,R.RB)(t,"transitionend",Rd)});function Rd(t){t.target.classList.remove("will-transition-once")}i(Rd,"onTransitionEnd");function Dd(t,e=0){const n=t.getBoundingClientRect(),o=n.top-e,s=n.bottom-window.innerHeight+e;o<0?window.scrollBy(0,o):s>0&&window.scrollBy(0,s)}i(Dd,"adjustViewport"),(0,d.on)("click",".js-video-play, .js-video-close",function(t){const n=t.currentTarget.closest(".js-video-container"),o=n.querySelector(".js-video-iframe");n.tagName.toLowerCase()==="details"&&n.addEventListener("details-dialog-close",function(){o.removeAttribute("src"),window.setTimeout(function(){n.classList.remove("is-expanded")},10)}),n.classList.contains("is-expanded")?(o.removeAttribute("src"),n.classList.remove("is-expanded")):(o.src=o.getAttribute("data-src")||"",n.classList.add("is-expanded")),Dd(o,20)});async function Nd(t){const e=t.currentTarget,n=e.getAttribute("data-url");if(!n||_d(e))return;const o=e.getAttribute("data-id")||"",s=e.textContent,r=document.querySelectorAll(`.js-issue-link[data-id='${o}']`);for(const a of r)a.removeAttribute("data-url");try{const a=`${n}/title`,c=await fetch(a,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!c.ok){const f=new Error,p=c.statusText?` ${c.statusText}`:"";throw f.message=`HTTP ${c.status}${p}`,f}const l=await c.json();li(r,`${s}, ${l.title}`)}catch(a){const c=(a.response!=null?a.response.status:void 0)||500,l=(()=>{switch(c){case 404:return e.getAttribute("data-permission-text");default:return e.getAttribute("data-error-text")}})();li(r,l||"")}}i(Nd,"issueLabel");function li(t,e){for(const n of t)n instanceof HTMLElement&&(n.classList.add("tooltipped","tooltipped-ne"),n.setAttribute("aria-label",e))}i(li,"setLabel");function _d(t){switch(t.getAttribute("data-hovercard-type")){case"issue":case"pull_request":return!!t.closest("[data-issue-and-pr-hovercards-enabled]");case"discussion":return!!t.closest("[data-discussion-hovercards-enabled]");default:return!1}}i(_d,"isHovercardEnabled"),(0,v.N7)(".js-issue-link",{subscribe:t=>(0,R.RB)(t,"mouseenter",Nd)});var Hd=u(87635),Vt=u.n(Hd);function qo(){return[Math.floor(Math.random()*(255-0)+0),Math.floor(Math.random()*(255-0)+0),Math.floor(Math.random()*(255-0)+0)]}i(qo,"randomRGBColor");function xe(t,e){const n=Vt().rgb.hsl(e);t.style.setProperty("--label-r",e[0].toString()),t.style.setProperty("--label-g",e[1].toString()),t.style.setProperty("--label-b",e[2].toString()),t.style.setProperty("--label-h",n[0].toString()),t.style.setProperty("--label-s",n[1].toString()),t.style.setProperty("--label-l",n[2].toString())}i(xe,"setColorSwatch");function Po(t,e){t.blur();const n=t.closest("form"),o=n.querySelector(".js-new-label-color-input");(0,J.Se)(o,`#${Vt().rgb.hex(e)}`);const s=n.querySelector(".js-new-label-color");xe(s,e)}i(Po,"setInputColorFromButton");function Bd(t,e){t.closest(".js-label-error-container").classList.add("errored"),t.textContent=e,t.hidden=!1}i(Bd,"addErrorToField");function Od(t){t.closest(".js-label-error-container").classList.remove("errored"),t.hidden=!0}i(Od,"removeErrorFromField");function ae(t,e,n){const o=e.querySelector(t);!o||(n?Bd(o,n[0]):Od(o))}i(ae,"showOrHideLabelError");function Io(t,e){ae(".js-label-name-error",t,e.name),ae(".js-label-description-error",t,e.description),ae(".js-label-color-error",t,e.color)}i(Io,"showLabelErrors");function Xt(t){ae(".js-label-name-error",t,null),ae(".js-label-description-error",t,null),ae(".js-label-color-error",t,null)}i(Xt,"hideLabelErrors");function $d(t,e,n,o,s){const r=new URL(`${t}${encodeURIComponent(e)}`,window.location.origin),a=new URLSearchParams(r.search.slice(1));return a.append("color",n),o&&a.append("description",o),s&&a.append("id",s),r.search=a.toString(),r.toString()}i($d,"labelPreviewUrl");function Fd(t){let e=null;const n=t.querySelector(".js-new-label-description-input");return n instanceof HTMLInputElement&&n.value.trim().length>0&&(e=n.value.trim()),e}i(Fd,"labelDescriptionFrom");function Ud(t){const e=t.querySelector(".js-new-label-color-input");return e.checkValidity()?e.value.trim().replace(/^#/,""):"ededed"}i(Ud,"labelColorFrom");function Wd(t,e){let o=t.querySelector(".js-new-label-name-input").value.trim();return o.length<1&&(o=e.getAttribute("data-default-name")),o}i(Wd,"labelNameFrom");async function ce(t){const e=t.closest(".js-label-preview-container");if(!e)return;const n=t.closest(".js-label-form"),o=n.querySelector(".js-new-label-error"),s=n.getAttribute("data-label-id"),r=e.querySelector(".js-label-preview"),a=Wd(n,r);if(!n.checkValidity()&&a!=="Label preview")return;const c=Ud(n),l=Fd(n),f=r.getAttribute("data-url-template"),p=$d(f,a,c,l,s);if(e.hasAttribute("data-last-preview-url")){const j=e.getAttribute("data-last-preview-url");if(p===j)return}let S;try{S=await(0,at.a)(document,p)}catch(j){const k=await j.response.json();Io(n,k),o&&(o.textContent=k.message,o.hidden=!1);return}o&&(o.textContent="",o.hidden=!0),Xt(n),r.innerHTML="",r.appendChild(S),e.setAttribute("data-last-preview-url",p)}i(ce,"updateLabelPreview");function zd(t){ce(t.target)}i(zd,"onLabelFormInputChange");function ui(t,e){t.closest(".js-details-container").classList.toggle("is-empty",e)}i(ui,"toggleBlankSlate");function di(t){const e=document.querySelector(".js-labels-count"),o=Number(e.textContent)+t;e.textContent=o.toString();const s=document.querySelector(".js-labels-label");return s.textContent=s.getAttribute(o===1?"data-singular-string":"data-plural-string"),o}i(di,"updateCount"),(0,X.q6)(".js-label-filter-field",function(t){const e=t.target,o=e.closest("details-menu").querySelector(".js-new-label-name");if(!o)return;const s=e.value.trim();o.textContent=s}),(0,d.on)("filterable:change",".js-filterable-issue-labels",function(t){const e=t.currentTarget.closest("details-menu"),n=e.querySelector(".js-add-label-button");if(!n)return;const s=t.detail.inputField.value.trim().toLowerCase();let r=!1;for(const a of e.querySelectorAll("input[data-label-name]"))if((a.getAttribute("data-label-name")||"").toLowerCase()===s){r=!0;break}n.hidden=s.length===0||r}),(0,X.ZG)(".js-new-label-color-input",function(t){const n=t.closest("form").querySelector(".js-new-label-swatches");n.hidden=!1,t.addEventListener("blur",function(){n.hidden=!0},{once:!0})}),(0,X.q6)(".js-new-label-color-input",function(t){const e=t.target;let n=e.value.trim();if(!(n.length<1))if(n.indexOf("#")!==0&&(n=`#${n}`,e.value=n),e.checkValidity()){e.classList.remove("color-fg-danger");const s=e.closest("form").querySelector(".js-new-label-color");xe(s,Vt().hex.rgb(n))}else e.classList.add("color-fg-danger")}),(0,X.w4)("keyup",".js-new-label-color-input",function(t){const e=t.target;let n=e.value.trim();if(n.indexOf("#")!==0&&(n=`#${n}`,e.value=n),e.checkValidity()){const r=e.closest("form").querySelector(".js-new-label-color");xe(r,Vt().hex.rgb(n))}(0,d.f)(e,"change",!1);const o=e.closest("form");Xt(o)}),(0,X.w4)("keyup",".js-new-label-description-input",function(t){const n=t.target.form;Xt(n)}),(0,X.w4)("keyup",".js-new-label-color-input",function(t){const n=t.target.form;Xt(n)}),(0,d.on)("click",".js-new-label-color",async function(t){const e=t.currentTarget,n=qo();Po(e,n),ce(e)}),(0,d.on)("mousedown",".js-new-label-color-swatch",function(t){const e=t.currentTarget,n=e.getAttribute("data-color");Po(e,Vt().hex.rgb(n)),ce(e);const o=e.closest(".js-new-label-swatches");o.hidden=!0}),(0,d.on)("toggle",".js-new-label-modal",function(t){t.target.hasAttribute("open")&&fi(t.target)},{capture:!0});async function fi(t){const e=t.querySelector(".js-new-label-name-input");if(!e)return;const n=t.querySelector(".js-new-label-color-input"),o=qo(),s=`#${Vt().rgb.hex(o)}`;n.value=s;const r=t.querySelector(".js-new-label-color");xe(r,o);const c=document.querySelector(".js-new-label-name").textContent;(0,J.Se)(e,c),(0,Bn.OD)(e),ce(r)}i(fi,"initLabelModal"),(0,V.AC)(".js-new-label-modal-form",async function(t,e){const n=t.querySelector(".js-new-label-error");let o;try{o=await e.html()}catch(c){const l=c.response.json;n.textContent=l.message,n.hidden=!1}if(!o)return;n.hidden=!0,document.querySelector(".js-new-label-modal").removeAttribute("open");const s=document.querySelector(".js-filterable-issue-labels"),r=o.html.querySelector("input");s.prepend(o.html),r&&r.dispatchEvent(new Event("change",{bubbles:!0}));const a=document.querySelector(".js-label-filter-field");a.value=a.defaultValue,a.focus()}),(0,d.on)("click",".js-edit-label-cancel",function(t){const e=t.target.closest("form");Xt(e),e.reset();const n=e.querySelector(".js-new-label-color-input"),o=n.value,s=e.querySelector(".js-new-label-color");xe(s,Vt().hex.rgb(o)),(0,Bn.Qc)(e),ce(n);const r=t.currentTarget.closest(".js-labels-list-item");if(r){r.querySelector(".js-update-label").classList.add("d-none");const c=r.querySelector(".js-label-preview");c&&(c.classList.add("d-none"),r.querySelector(".js-label-link").classList.remove("d-none"));const l=r.querySelectorAll(".js-hide-on-label-edit");for(const f of l)f.hidden=!f.hidden}}),(0,V.AC)(".js-update-label",async function(t,e){let n;try{n=await e.html()}catch(s){const r=s.response.json;Io(t,r);return}Xt(t),t.closest(".js-labels-list-item").replaceWith(n.html)}),(0,V.AC)(".js-create-label",async function(t,e){let n;try{n=await e.html()}catch(a){const c=a.response.json;Io(t,c);return}t.reset(),Xt(t),document.querySelector(".js-label-list").prepend(n.html),di(1),ui(t,!1);const o=t.querySelector(".js-new-label-color"),s=qo();Po(o,s),ce(t.querySelector(".js-new-label-name-input")),(0,Bn.Qc)(t);const r=t.closest(".js-details-container");r instanceof HTMLElement&&(0,Xn.Qp)(r)}),(0,d.on)("click",".js-details-target-new-label",function(){document.querySelector(".js-create-label").querySelector(".js-new-label-name-input").focus()}),(0,d.on)("click",".js-edit-label",function(t){const e=t.currentTarget.closest(".js-labels-list-item"),n=e.querySelector(".js-update-label");n.classList.remove("d-none"),n.querySelector(".js-new-label-name-input").focus();const s=e.querySelector(".js-label-preview");s&&(s.classList.remove("d-none"),e.querySelector(".js-label-link").classList.add("d-none"));const r=e.querySelectorAll(".js-hide-on-label-edit");for(const a of r)a.hidden=!a.hidden}),(0,V.AC)(".js-delete-label",async function(t,e){const n=t.closest(".js-labels-list-item");n.querySelector(".js-label-delete-spinner").hidden=!1,await e.text();const o=di(-1);ui(t,o===0),n.remove()});const Tn=(0,ee.D)(zd,500);(0,d.on)("suggester:complete",".js-new-label-name-input",Tn),(0,X.q6)(".js-new-label-name-input",Tn),(0,X.q6)(".js-new-label-description-input",Tn),(0,X.q6)(".js-new-label-color-input",Tn),(0,X.w4)("keypress",".js-new-label-name-input",function(t){const e=t.target,n=parseInt(e.getAttribute("data-maxlength"));(0,oe.rq)(e.value)>=n&&t.preventDefault()}),(0,d.on)("click",".js-issues-label-select-menu-item",function(t){!t.altKey&&!t.shiftKey||(t.preventDefault(),t.stopPropagation(),t.altKey&&(window.location.href=t.currentTarget.getAttribute("data-excluded-url")),t.shiftKey&&(window.location.href=t.currentTarget.getAttribute("data-included-url")))}),(0,X.w4)("keydown",".js-issues-label-select-menu-item",function(t){if(t.key!=="Enter"||!t.altKey&&!t.shiftKey)return;const e=t.currentTarget;t.preventDefault(),t.stopPropagation(),e instanceof HTMLAnchorElement&&(t.altKey&&(window.location.href=e.getAttribute("data-excluded-url")),t.shiftKey&&(window.location.href=e.getAttribute("data-included-url")))}),(0,d.on)("click",".js-open-label-creation-modal",async function(t){t.stopImmediatePropagation();const e=await(0,It.W)({content:document.querySelector(".js-label-creation-template").content.cloneNode(!0),detailsClass:"js-new-label-modal"});fi(e)},{capture:!0}),(0,d.on)("change",".js-thread-notification-setting",Ro),(0,d.on)("change",".js-custom-thread-notification-option",Ro),(0,d.on)("reset",".js-custom-thread-settings-form",Ro);function Ro(){const t=document.querySelector(".js-reveal-custom-thread-settings").checked,e=!document.querySelector(".js-custom-thread-notification-option:checked"),n=document.querySelector(".js-custom-thread-settings"),o=document.querySelector("[data-custom-option-required-text]"),s=t&&e?o.getAttribute("data-custom-option-required-text"):"";o.setCustomValidity(s),n.hidden=!t}i(Ro,"toggleEventSettings");var Kd=Object.defineProperty,Vd=Object.getOwnPropertyDescriptor,mi=i((t,e,n,o)=>{for(var s=o>1?void 0:o?Vd(e,n):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(s=(o?a(e,n,s):a(s))||s);return o&&s&&Kd(e,n,s),s},"sidebar_widget_decorateClass");let Do=i(class extends HTMLElement{get activeClass(){return this.getAttribute("active-class")||"collapsible-sidebar-widget-active"}get loadingClass(){return this.getAttribute("loading-class")||"collapsible-sidebar-widget-loading"}get url(){return this.getAttribute("url")||""}get isOpen(){return this.hasAttribute("open")}set isOpen(t){t?this.setAttribute("open",""):this.removeAttribute("open")}onKeyDown(t){if(t.code==="Enter"||t.code==="Space")return t.preventDefault(),this.load()}onMouseDown(t){return t.preventDefault(),this.load()}load(){return this.pendingRequest?this.pendingRequest.abort():this.collapsible.hasAttribute("loaded")?this.isOpen?this.setClose():this.setOpen():(this.setLoading(),this.updateCollapsible())}setLoading(){this.classList.add(this.loadingClass),this.classList.remove(this.activeClass)}setOpen(){this.classList.add(this.activeClass),this.classList.remove(this.loadingClass),this.isOpen=!0}setClose(){this.classList.remove(this.activeClass),this.classList.remove(this.loadingClass),this.isOpen=!1}handleAbort(){this.pendingRequest=null,this.setClose()}async updateCollapsible(){var t;try{this.pendingRequest=new AbortController,this.pendingRequest.signal.addEventListener("abort",()=>this.handleAbort());const e=await fetch(this.url,{signal:(t=this.pendingRequest)==null?void 0:t.signal,headers:{Accept:"text/html","X-Requested-With":"XMLHttpRequest"}});if(this.pendingRequest=null,!e.ok)return this.setClose();const n=await e.text();this.collapsible.innerHTML=n,this.collapsible.setAttribute("loaded",""),this.setOpen()}catch{return this.pendingRequest=null,this.setClose()}}},"CollapsibleSidebarWidgetElement");mi([P.fA],Do.prototype,"collapsible",2),Do=mi([P.Ih],Do);var Xd=Object.defineProperty,Gd=Object.getOwnPropertyDescriptor,At=i((t,e,n,o)=>{for(var s=o>1?void 0:o?Gd(e,n):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(s=(o?a(e,n,s):a(s))||s);return o&&s&&Xd(e,n,s),s},"sidebar_memex_input_decorateClass");let yt=i(class extends HTMLElement{constructor(){super(...arguments);this.url="",this.csrf="",this.instrument="",this.column=1}get isDisabled(){var t;return(t=this.read)==null?void 0:t.hasAttribute("disabled")}set hasErrored(t){t?this.setAttribute("errored",""):this.removeAttribute("errored")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get hasExpanded(){return this.read.getAttribute("aria-expanded")==="true"}connectedCallback(){var t,e;this.disabled=(e=(t=this.read)==null?void 0:t.disabled)!=null?e:!0,this.querySelector("details")!==null&&this.classList.toggle("no-pointer")}handleDetailsSelect(t){var e;const n=t,o=t.target,s=(e=n.detail)==null?void 0:e.relatedTarget,r=o.closest("details"),a=r==null?void 0:r.querySelector("[data-menu-button]");if(s.getAttribute("aria-checked")==="true"){s.setAttribute("aria-checked","false"),t.preventDefault();for(const c of this.inputs)if(s.contains(c)){this.updateCell(c.name,""),(a==null?void 0:a.innerHTML)&&(a.innerHTML=c.placeholder);break}r==null||r.removeAttribute("open")}}handleDetailsSelected(t){var e;const o=(e=t.detail)==null?void 0:e.relatedTarget;for(const s of this.inputs)if(o.contains(s)){this.updateCell(s.name,s.value);break}}mouseDownFocus(t){!this.isDisabled||this.onFocus(t)}keyDownFocus(t){(t.code==="Enter"||t.code==="Space")&&this.read!==document.activeElement&&this.onFocus(t)}onChange(t){var e,n;t.target.getAttribute("type")!=="date"&&this.updateCell((e=this.read)==null?void 0:e.name,(n=this.read)==null?void 0:n.value)}onFocus(t){t.preventDefault(),this.disabled=!1,this.read.disabled=!1,this.read.focus()}onBlur(t){var e,n;if(this.hasExpanded){t.preventDefault();return}t.target.getAttribute("type")==="date"&&this.updateCell((e=this.read)==null?void 0:e.name,(n=this.read)==null?void 0:n.value),this.read.disabled=!0,this.disabled=!0}onKeyDown(t){if(t.code==="Enter"||t.code==="Tab"){if(t.preventDefault(),t.stopPropagation(),this.hasExpanded)return;this.read.blur()}}async updateCell(t="",e=""){const n=new FormData;n.set(t,e),n.set("ui",this.instrument);for(const s of this.parameters)n.set(s.name,s.value);const o=Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",timeZone:"UTC"});try{if(this.write){const p=this.read.value,S=this.read.type==="date"&&p?o.format(Date.parse(p)):p;this.write.textContent=p?S:this.read.placeholder}const s=await fetch(this.url,{method:"PUT",body:n,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","Scoped-CSRF-Token":`${this.csrf}`}});if(!s.ok)throw new Error("connection error");if(!this.write)return;const c=(await s.json()).memexProjectItem.memexProjectColumnValues.find(p=>p.memexProjectColumnId===Number(this.column)).value,l=this.read.type==="date"?Date.parse(c.value):c.html,f=this.read.type==="date"&&l?o.format(l):l;this.write.innerHTML=e?f:this.read.placeholder}catch{this.hasErrored=!0}}},"SidebarMemexInputElement");At([P.Lj],yt.prototype,"url",2),At([P.Lj],yt.prototype,"csrf",2),At([P.Lj],yt.prototype,"instrument",2),At([P.Lj],yt.prototype,"column",2),At([P.GO],yt.prototype,"inputs",2),At([P.fA],yt.prototype,"read",2),At([P.fA],yt.prototype,"write",2),At([P.GO],yt.prototype,"parameters",2),yt=At([P.Ih],yt);function Me(t,e=!1){(e||!Jd(t))&&(t instanceof HTMLFormElement?(0,J.Bt)(t):An(t))}i(Me,"submitForm");function hi(t){const e=t.currentTarget,n=e.closest(".js-issue-sidebar-form")||e.querySelector(".js-issue-sidebar-form");Me(n)}i(hi,"submitOnMenuClose"),(0,d.on)("details-menu-selected",".js-discussion-sidebar-menu",function(t){const e=t.detail.relatedTarget,n=t.currentTarget,o=e.closest(".js-issue-sidebar-form"),s=n.hasAttribute("data-multiple");if(e.hasAttribute("data-clear-assignees")){const r=n.querySelectorAll('input[name="issue[user_assignee_ids][]"]:checked');for(const a of r)a.disabled=!1,a.checked=!1;Me(o)}else s?n.closest("details").addEventListener("toggle",hi,{once:!0}):Me(o)},{capture:!0});function Zd(t,e){t.replaceWith((0,Et.r)(document,e))}i(Zd,"updateSidebar");function pi(t){const e=document.querySelector(`[data-menu-trigger="${t}"]`);e==null||e.focus()}i(pi,"returnFocusToTrigger"),(0,V.AC)(".js-issue-sidebar-form",async function(t,e){var n;const o=await e.html(),s=t.closest(".js-discussion-sidebar-item"),r=(n=s==null?void 0:s.querySelector(".select-menu"))==null?void 0:n.getAttribute("id");s.replaceWith(o.html),r&&pi(r)}),(0,d.on)("click","div.js-issue-sidebar-form .js-suggested-reviewer",function(t){const e=t.currentTarget,n=e.closest(".js-issue-sidebar-form");An(n,"post",{name:e.name,value:e.value}),t.preventDefault()}),(0,d.on)("click","div.js-issue-sidebar-form .js-issue-assign-self",function(t){var e;const n=t.currentTarget,o=n.closest(".js-issue-sidebar-form");An(o,"post",{name:n.name,value:n.value}),n.remove(),(e=document.querySelector("form#new_issue .is-submit-button-value"))==null||e.remove(),t.preventDefault()}),(0,d.on)("click",".js-issue-unassign-self",function(t){const e=t.currentTarget.closest(".js-issue-sidebar-form");An(e,"delete"),t.preventDefault()}),(0,V.AC)(".js-pages-preview-toggle-form",async function(t,e){const n=await e.json();t.querySelector("button.btn").textContent=n.json.new_button_value});async function An(t,e="post",n){var o;const s=gi(t);n&&s.append(n.name,n.value);const r=t.getAttribute("data-url");if(!r)return;const a=t.querySelector(".js-data-url-csrf"),c=await fetch(r,{method:e,body:e==="delete"?"":s,mode:"same-origin",headers:{"Scoped-CSRF-Token":a.value,"X-Requested-With":"XMLHttpRequest"}});if(!c.ok)return;const l=await c.text();Zd(t.closest(".js-discussion-sidebar-item"),l);const f=t.closest(".js-discussion-sidebar-item"),p=(o=f==null?void 0:f.querySelector(".select-menu"))==null?void 0:o.getAttribute("id");p&&pi(p)}i(An,"previewSubmit");function Jd(t){const e=t.getAttribute("data-reviewers-team-size-check-url");if(!e)return!1;const n=[...document.querySelectorAll(".js-reviewer-team")].map(c=>c.getAttribute("data-id")),o=t instanceof HTMLFormElement?new FormData(t):gi(t),r=new URLSearchParams(o).getAll("reviewer_team_ids[]").filter(c=>!n.includes(c));if(r.length===0)return!1;const a=new URLSearchParams(r.map(c=>["reviewer_team_ids[]",c]));return Yd(t,`${e}?${a}`),!0}i(Jd,"reviewerTeamsCheckRequired");async function Yd(t,e){const n=await fetch(e);if(!n.ok)return;const o=await n.text();if(o.match(/[^\w-]js-large-team[^\w-]/))Qd(t,o);else{Me(t,!0);return}}i(Yd,"triggerTeamReviewerCheck");function Qd(t,e){const n=t.querySelector(".js-large-teams-check-warning-container");for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild((0,Et.r)(document,e));const o=n.querySelector("details");function s(r){if(r.target instanceof Element){if(o.open=!1,!r.target.classList.contains("js-large-teams-request-button")){const a=t.querySelectorAll("input[name='reviewer_team_ids[]']");for(const c of a)n.querySelector(`.js-large-team[data-id='${c.value}']`)&&(c.checked=!1)}Me(t,!0),r.preventDefault()}}i(s,"dialogAction"),n.querySelector(".js-large-teams-request-button").addEventListener("click",s,{once:!0}),n.querySelector(".js-large-teams-do-not-request-button").addEventListener("click",s,{once:!0}),o.addEventListener("details-dialog-close",s,{once:!0}),o.open=!0}i(Qd,"showTeamReviewerConfirmationDialog"),(0,d.on)("click","div.js-project-column-menu-container .js-project-column-menu-item button",async function(t){const e=t.currentTarget;tf(e);const n=e.getAttribute("data-url"),o=e.parentElement.querySelector(".js-data-url-csrf"),s=e.getAttribute("data-card-id"),r=new FormData;if(r.append("card_id",s),r.append("use_automation_prioritization","true"),t.preventDefault(),!(await fetch(n,{method:"PUT",mode:"same-origin",body:r,headers:{"Scoped-CSRF-Token":o.value,"X-Requested-With":"XMLHttpRequest"}})).ok)return;const c=document.activeElement,l=e.closest(".js-project-column-menu-dropdown");if(c&&l.contains(c))try{c.blur()}catch{}});function tf(t){const n=t.closest(".js-project-column-menu-dropdown").querySelector(".js-project-column-menu-summary"),o=t.getAttribute("data-column-name");n.textContent=o}i(tf,"updateProjectColumnMenuSummary"),(0,d.on)("click",".js-prompt-dismiss",function(t){t.currentTarget.closest(".js-prompt").remove()});function gi(t){const e=t.closest("form"),o=new FormData(e).entries(),s=new FormData;for(const[r,a]of o)e.contains(ef(e,r,a.toString()))&&s.append(r,a);return s}i(gi,"scopedFormData");function ef(t,e,n){for(const o of t.elements)if((o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement||o instanceof HTMLButtonElement)&&o.name===e&&o.value===n)return o;return null}i(ef,"findParam"),(0,d.on)("click",".js-convert-to-draft",function(t){const e=t.currentTarget.getAttribute("data-url"),n=t.currentTarget.parentElement.querySelector(".js-data-url-csrf");fetch(e,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":n.value,"X-Requested-With":"XMLHttpRequest"}})}),(0,d.on)("click","div.js-restore-item",async function(t){const e=t.currentTarget.getAttribute("data-url"),n=t.currentTarget.getAttribute("data-column"),o=t.currentTarget.querySelector(".js-data-url-csrf"),s=new FormData;if(s.set("memexProjectItemIds[]",n),!(await fetch(e,{method:"PUT",mode:"same-origin",body:s,headers:{"Scoped-CSRF-Token":o.value,"X-Requested-With":"XMLHttpRequest"}})).ok)throw new Error("connection error");hi(t)})},11443:(N,x,u)=>{"use strict";u.d(x,{S:()=>M});function L(y){const m=document.querySelectorAll(y);if(m.length>0)return m[m.length-1]}i(L,"queryLast");function T(){const y=L("meta[name=analytics-location]");return y?y.content:window.location.pathname}i(T,"pagePathname");function D(){const y=L("meta[name=analytics-location-query-strip]");let m="";y||(m=window.location.search);const h=L("meta[name=analytics-location-params]");h&&(m+=(m?"&":"?")+h.content);for(const g of document.querySelectorAll("meta[name=analytics-param-rename]")){const E=g.content.split(":",2);m=m.replace(new RegExp(`(^|[?&])${E[0]}($|=)`,"g"),`$1${E[1]}$2`)}return m}i(D,"pageQuery");function M(){return`${window.location.protocol}//${window.location.host}${T()+D()}`}i(M,"requestUri")},33871:()=>{let N,x=!1;function u(){N=document.activeElement,document.body&&document.body.classList.toggle("intent-mouse",x)}i(u,"setClass"),document.addEventListener("mousedown",function(){x=!0,N===document.activeElement&&u()},{capture:!0}),document.addEventListener("keydown",function(){x=!1},{capture:!0}),document.addEventListener("focusin",u,{capture:!0})},60287:(N,x,u)=>{"use strict";u.d(x,{OD:()=>m,Qc:()=>h,nz:()=>y});var L=u(83461),T=u(36108);function D(g,E,w){const b=w.closest(".js-characters-remaining-container");if(!b)return;const A=b.querySelector(".js-characters-remaining"),q=String(A.getAttribute("data-suffix")),O=(0,L.rq)(g),$=E-O;$<=20?(A.textContent=`${$} ${q}`,A.classList.toggle("color-fg-danger",$<=5),A.hidden=!1):A.hidden=!0}i(D,"showRemainingCharacterCount");function M(g){return g.hasAttribute("data-maxlength")?parseInt(g.getAttribute("data-maxlength")||""):g.maxLength}i(M,"getFieldLimit");function y(g){const E=M(g),w=(0,L.rq)(g.value);return E-w<0}i(y,"hasExceededCharacterLimit");function m(g){const E=M(g);D(g.value,E,g)}i(m,"updateInputRemainingCharacters");function h(g){const E=g.querySelectorAll(".js-characters-remaining-container");for(const w of E){const b=w.querySelector(".js-characters-remaining-field");m(b)}}i(h,"resetCharactersRemainingCounts"),(0,T.ZG)(".js-characters-remaining-field",function(g){function E(){(g instanceof HTMLInputElement||g instanceof HTMLTextAreaElement)&&m(g)}i(E,"onInput"),E(),g.addEventListener("input",E),g.addEventListener("blur",()=>{g.removeEventListener("input",E)},{once:!0})})},98237:()=>{document.addEventListener("click",function(N){if(!(N.target instanceof Element))return;const x="a[data-confirm], input[type=submit][data-confirm], input[type=checkbox][data-confirm], button[data-confirm]",u=N.target.closest(x);if(!u)return;const L=u.getAttribute("data-confirm");!L||u instanceof HTMLInputElement&&u.hasAttribute("data-confirm-checked")&&!u.checked||confirm(L)||(N.stopImmediatePropagation(),N.preventDefault())},!0)},65849:(N,x,u)=>{"use strict";u.d(x,{$:()=>g,G:()=>h});var L=u(37707),T=u(30762),D=u(11427);(0,T.N7)("include-fragment, poll-include-fragment",{subscribe:w=>(0,L.qC)((0,L.RB)(w,"error",m),(0,L.RB)(w,"loadstart",y))}),(0,D.on)("click","include-fragment button[data-retry-button]",({currentTarget:w})=>{const b=w.closest("include-fragment"),A=b.src;b.src="",b.src=A});function M(w,b){const A=w.currentTarget;if(A instanceof Element){for(const q of A.querySelectorAll("[data-show-on-error]"))q instanceof HTMLElement&&(q.hidden=!b);for(const q of A.querySelectorAll("[data-hide-on-error]"))q instanceof HTMLElement&&(q.hidden=b)}}i(M,"toggleElements");function y(w){M(w,!1)}i(y,"onLoad");function m(w){M(w,!0)}i(m,"onError");function h({currentTarget:w}){w instanceof Element&&g(w)}i(h,"loadDeferredContentByEvent");function g(w){const b=w.closest("details");b&&E(b)}i(g,"loadDeferredContent");function E(w){const b=w.getAttribute("data-deferred-details-content-url");if(b){w.removeAttribute("data-deferred-details-content-url");const A=w.querySelector("include-fragment, poll-include-fragment");A&&(A.src=b)}}i(E,"setIncludeFragmentSrc")},81211:()=>{document.addEventListener("pjax:click",function(N){if(window.onbeforeunload)return N.preventDefault()})},53600:(N,x,u)=>{"use strict";u.d(x,{k:()=>y});var L=u(37707),T=u(15935),D=u(30762),M=u(61287);(0,D.N7)(".js-responsive-underlinenav",{constructor:HTMLElement,subscribe:g=>(y(g),(0,L.RB)(window,"resize",()=>h(g)))});async function y(g){await T.C,h(g)}i(y,"asyncCalculateVisibility");function m(g,E){g.style.visibility=E?"hidden":"";const w=g.getAttribute("data-tab-item");if(w){const b=document.querySelector(`[data-menu-item=${w}]`);b instanceof HTMLElement&&(b.hidden=!E)}}i(m,"toggleItem");function h(g){const E=g.querySelectorAll(".js-responsive-underlinenav-item"),w=g.querySelector(".js-responsive-underlinenav-overflow"),b=(0,M.oE)(w,g);if(!b)return;let A=!1;for(const q of E){const O=(0,M.oE)(q,g);if(O){const $=O.left+q.offsetWidth>=b.left;m(q,$),A=A||$}}w.style.visibility=A?"":"hidden"}i(h,"calculateVisibility")},28391:()=>{document.addEventListener("pjax:end",function(){const N=document.querySelector('meta[name="selected-link"]'),x=N&&N.getAttribute("value");if(!!x)for(const u of document.querySelectorAll(".js-sidenav-container-pjax .js-selected-navigation-item")){const L=(u.getAttribute("data-selected-links")||"").split(" ").indexOf(x)>=0;L?u.setAttribute("aria-current","page"):u.removeAttribute("aria-current"),u.classList.toggle("selected",L)}})},18937:()=>{function N(L){const T=document.querySelector(".js-stale-session-flash"),D=T.querySelector(".js-stale-session-flash-signed-in"),M=T.querySelector(".js-stale-session-flash-signed-out");T.hidden=!1,D.hidden=L==="false",M.hidden=L==="true",window.addEventListener("popstate",function(y){y.state&&y.state.container!=null&&location.reload()}),document.addEventListener("submit",function(y){y.preventDefault()})}i(N,"sessionChanged");let x;if(typeof BroadcastChannel=="function")try{x=new BroadcastChannel("stale-session"),x.onmessage=L=>{typeof L.data=="string"&&N(L.data)}}catch{}if(!x){let L=!1;x={postMessage(T){L=!0;try{window.localStorage.setItem("logged-in",T)}finally{L=!1}}},window.addEventListener("storage",function(T){if(!L&&T.storageArea===window.localStorage&&T.key==="logged-in")try{(T.newValue==="true"||T.newValue==="false")&&N(T.newValue)}finally{window.localStorage.removeItem(T.key)}})}const u=document.querySelector(".js-stale-session-flash[data-signedin]");if(u){const L=u.getAttribute("data-signedin")||"";x.postMessage(L)}},67898:(N,x,u)=>{"use strict";var L=u(13178),T=u(11427),D=u(30762);class M{constructor(m){this.container=m.container,this.selections=m.selections,this.inputWrap=m.inputWrap,this.input=m.input,this.tagTemplate=m.tagTemplate,this.form=this.input.form,this.autoComplete=m.autoComplete,this.multiTagInput=m.multiTagInput}setup(){this.container.addEventListener("click",m=>{m.target.closest(".js-remove")?this.removeTag(m):this.onFocus()}),this.input.addEventListener("focus",this.onFocus.bind(this)),this.input.addEventListener("blur",this.onBlur.bind(this)),this.input.addEventListener("keydown",this.onKeyDown.bind(this)),this.form.addEventListener("submit",this.onSubmit.bind(this)),this.autoComplete.addEventListener("auto-complete-change",()=>{this.selectTag(this.autoComplete.value)})}onFocus(){this.inputWrap.classList.add("focus"),this.input!==document.activeElement&&this.input.focus()}onBlur(){this.inputWrap.classList.remove("focus"),this.autoComplete.open||this.onSubmit()}onSubmit(){this.input.value&&(this.selectTag(this.input.value),this.autoComplete.open=!1)}onKeyDown(m){switch((0,L.EL)(m)){case"Backspace":this.onBackspace();break;case"Enter":case"Tab":this.taggifyValueWhenSuggesterHidden(m);break;case",":case" ":this.taggifyValue(m);break}}taggifyValueWhenSuggesterHidden(m){!this.autoComplete.open&&this.input.value&&(m.preventDefault(),this.selectTag(this.input.value))}taggifyValue(m){this.input.value&&(m.preventDefault(),this.selectTag(this.input.value),this.autoComplete.open=!1)}selectTag(m){const h=this.normalizeTag(m),g=this.selectedTags();let E=!1;for(let w=0;w<h.length;w++){const b=h[w];g.indexOf(b)<0&&(this.selections.appendChild(this.templateTag(b)),E=!0)}E&&(this.input.value="",(0,T.f)(this.form,"tags:changed"))}removeTag(m){const h=m.target;m.preventDefault(),h.closest(".js-tag-input-tag").remove(),(0,T.f)(this.form,"tags:changed")}templateTag(m){const h=this.tagTemplate.cloneNode(!0);return h.querySelector("input").value=m,h.querySelector(".js-placeholder-tag-name").replaceWith(m),h.classList.remove("d-none","js-template"),h}normalizeTag(m){const h=m.toLowerCase().trim();return h?this.multiTagInput?h.split(/[\s,']+/):[h.replace(/[\s,']+/g,"-")]:[]}onBackspace(){if(!this.input.value){const m=this.selections.querySelector("li:last-child .js-remove");m instanceof HTMLElement&&m.click()}}selectedTags(){const m=this.selections.querySelectorAll("input");return Array.from(m).map(h=>h.value).filter(h=>h.length>0)}}i(M,"TagInput"),(0,D.N7)(".js-tag-input-container",{constructor:HTMLElement,initialize(y){new M({container:y,inputWrap:y.querySelector(".js-tag-input-wrapper"),input:y.querySelector('input[type="text"], input:not([type])'),selections:y.querySelector(".js-tag-input-selected-tags"),tagTemplate:y.querySelector(".js-template"),autoComplete:y.querySelector("auto-complete"),multiTagInput:!1}).setup()}}),(0,D.N7)(".js-multi-tag-input-container",{constructor:HTMLElement,initialize(y){new M({container:y,inputWrap:y.querySelector(".js-tag-input-wrapper"),input:y.querySelector('input[type="text"], input:not([type])'),selections:y.querySelector(".js-tag-input-selected-tags"),tagTemplate:y.querySelector(".js-template"),autoComplete:y.querySelector("auto-complete"),multiTagInput:!0}).setup()}})},27329:(N,x,u)=>{"use strict";u.d(x,{P:()=>D,g:()=>M});var L=u(11427);const T=new WeakMap;function D(h){return T.get(h)}i(D,"getCodeEditor");async function M(h){return T.get(h)||y(await m(h,"codeEditor:ready"))}i(M,"getAsyncCodeEditor");function y(h){if(!(h instanceof CustomEvent))throw new Error("assert: event is not a CustomEvent");const g=h.detail.editor;if(!h.target)throw new Error("assert: event.target is null");return T.set(h.target,g),g}i(y,"onEditorFromEvent"),(0,L.on)("codeEditor:ready",".js-code-editor",y);function m(h,g){return new Promise(E=>{h.addEventListener(g,E,{once:!0})})}i(m,"nextEvent")},11598:(N,x,u)=>{"use strict";u.d(x,{$1:()=>L,d8:()=>D,kT:()=>M});function L(y){const m=[];for(const h of T()){const[g,E]=h.trim().split("=");y===g&&typeof E!="undefined"&&m.push({key:g,value:E})}return m}i(L,"getCookies");function T(){try{return document.cookie.split(";")}catch{return[]}}i(T,"readCookies");function D(y,m,h=null,g=!1,E="lax"){let w=document.domain;if(w==null)throw new Error("Unable to get document domain");w.endsWith(".github.com")&&(w="github.com");const b=location.protocol==="https:"?"; secure":"",A=h?`; expires=${h}`:"";g===!1&&(w=`.${w}`);try{document.cookie=`${y}=${m}; path=/; domain=${w}${A}${b}; samesite=${E}`}catch{}}i(D,"setCookie");function M(y,m=!1){let h=document.domain;if(h==null)throw new Error("Unable to get document domain");h.endsWith(".github.com")&&(h="github.com");const g=new Date().getTime(),E=new Date(g-1).toUTCString(),w=location.protocol==="https:"?"; secure":"",b=`; expires=${E}`;m===!1&&(h=`.${h}`);try{document.cookie=`${y}=''; path=/; domain=${h}${b}${w}`}catch{}}i(M,"deleteCookie")},9569:(N,x,u)=>{"use strict";u.d(x,{LN:()=>E,aJ:()=>ht,cI:()=>$,eK:()=>b,mT:()=>w});var L=u(16543),T=u(9534),D=u(77997),M=u(45316),y=u(11443);let m=!1,h=0;const g=Date.now();function E(K){K.error&&A(O(q(K.error)))}i(E,"reportEvent");async function w(K){if(!!K.promise)try{await K.promise}catch(G){A(O(q(G)))}}i(w,"reportPromiseRejectionEvent");function b(K,G={}){K&&K.name!=="AbortError"&&A(O(q(K),G))}i(b,"reportError");async function A(K){var G,C;if(!dt())return;const I=(C=(G=document.head)==null?void 0:G.querySelector('meta[name="browser-errors-url"]'))==null?void 0:C.content;if(!!I){if(ot(K.error.stacktrace)){m=!0;return}h++;try{await fetch(I,{method:"post",body:JSON.stringify(K)})}catch{}}}i(A,"report");function q(K){return{type:K.name,value:K.message,stacktrace:$(K)}}i(q,"formatError");function O(K,G={}){return Object.assign({error:K,sanitizedUrl:(0,y.S)()||window.location.href,readyState:document.readyState,referrer:document.referrer,timeSinceLoad:Math.round(Date.now()-g),user:ht()||void 0,bundler:Ct()},G)}i(O,"errorContext");function $(K){return(0,M.Q)(K.stack||"").map(G=>({filename:G.file||"",function:String(G.methodName),lineno:(G.lineNumber||0).toString(),colno:(G.column||0).toString()}))}i($,"stacktrace");const nt=/(chrome|moz|safari)-extension:\/\//;function ot(K){return K.some(G=>nt.test(G.filename)||nt.test(G.function))}i(ot,"isExtensionError");function ht(){var K,G;const C=(G=(K=document.head)==null?void 0:K.querySelector('meta[name="user-login"]'))==null?void 0:G.content;return C||`anonymous-${(0,T.b)()}`}i(ht,"pageUser");let pt=!1;window.addEventListener("pageshow",()=>pt=!1),window.addEventListener("pagehide",()=>pt=!0);function dt(){return!pt&&!m&&h<10&&(0,D.Gb)()&&!(0,L.Z)(document)}i(dt,"reportable");function Ct(){return"webpack"}i(Ct,"bundlerName"),typeof BroadcastChannel=="function"&&new BroadcastChannel("shared-worker-error").addEventListener("message",G=>{b(G.data.error)})},19145:(N,x,u)=>{"use strict";u.d(x,{Y:()=>y,q:()=>m});var L=u(67671),T=u(47242);const D="dimension_";let M;try{const h=(0,L.n)("octolytics");if(h.baseContext){delete h.baseContext.app_id,delete h.baseContext.event_url,delete h.baseContext.host;for(const E in h.baseContext)E.startsWith(D)&&(h.baseContext[E.replace(D,"")]=h.baseContext[E],delete h.baseContext[E])}const g=document.querySelector("meta[name=visitor-payload]");if(g){const E=JSON.parse(atob(g.content)),w=h.baseContext||{};Object.assign(w,E),h.baseContext=w}M=new T.R(h)}catch{}function y(h){M==null||M.sendPageView(h)}i(y,"sendPageView");function m(h,g){var E,w;const b=(w=(E=document.head)==null?void 0:E.querySelector('meta[name="current-catalog-service"]'))==null?void 0:w.content,A=b?{service:b}:{};for(const[q,O]of Object.entries(g))O!=null&&(A[q]=`${O}`);M==null||M.sendEvent(h||"unknown",A)}i(m,"sendEvent")},24773:(N,x,u)=>{"use strict";u.d(x,{$S:()=>T,Fk:()=>D,sz:()=>M});var L=u(20036);function T(y,m,h){const g={hydroEventPayload:y,hydroEventHmac:m,visitorPayload:"",visitorHmac:"",hydroClientContext:h},E=document.querySelector("meta[name=visitor-payload]");E instanceof HTMLMetaElement&&(g.visitorPayload=E.content);const w=document.querySelector("meta[name=visitor-hmac]")||"";w instanceof HTMLMetaElement&&(g.visitorHmac=w.content),(0,L.b)(g,!0)}i(T,"sendData");function D(y){const m=y.getAttribute("data-hydro-view")||"",h=y.getAttribute("data-hydro-view-hmac")||"",g=y.getAttribute("data-hydro-client-context")||"";T(m,h,g)}i(D,"trackView");function M(y){const m=y.getAttribute("data-hydro-click-payload")||"",h=y.getAttribute("data-hydro-click-hmac")||"",g=y.getAttribute("data-hydro-client-context")||"";T(m,h,g)}i(M,"sendHydroEvent")},57125:(N,x,u)=>{"use strict";var L=u(61075);window.IncludeFragmentElement.prototype.fetch=T=>(T.headers.append("X-Requested-With","XMLHttpRequest"),window.fetch(T))},62976:(N,x,u)=>{"use strict";u.d(x,{vt:()=>ot,WF:()=>nt,DV:()=>$,jW:()=>Ct,Nc:()=>b,$t:()=>D});const L={frequency:.6,recency:.4};function T(C,I){return C.sort((_,W)=>I(_)-I(W))}i(T,"sortBy");function D(C){const I=y(C),_=m(C);return function(W){return M(I.get(W)||0,_.get(W)||0)}}i(D,"scorer");function M(C,I){return C*L.frequency+I*L.recency}i(M,"score");function y(C){const I=[...Object.values(C)].reduce((_,W)=>_+W.visitCount,0);return new Map(Object.keys(C).map(_=>[_,C[_].visitCount/I]))}i(y,"frequencyMap");function m(C){const I=T([...Object.keys(C)],W=>C[W].lastVisitedAt),_=I.length;return new Map(I.map((W,Y)=>[W,(Y+1)/_]))}i(m,"recencyMap");const h=/^\/orgs\/([a-z0-9-]+)\/teams\/([\w-]+)/,g=[/^\/([^/]+)\/([^/]+)\/?$/,/^\/([^/]+)\/([^/]+)\/blob/,/^\/([^/]+)\/([^/]+)\/tree/,/^\/([^/]+)\/([^/]+)\/issues/,/^\/([^/]+)\/([^/]+)\/pulls?/,/^\/([^/]+)\/([^/]+)\/pulse/],E=[["organization",/^\/orgs\/([a-z0-9-]+)\/projects\/([0-9-]+)/],["repository",/^\/([^/]+)\/([^/]+)\/projects\/([0-9-]+)/]],w=100;function b(C){const I=C.match(h);if(I){q($(I[1],I[2]));return}let _;for(let Y=0,ct=E.length;Y<ct;Y++){const[wt,Ft]=E[Y];if(_=C.match(Ft),_){let it=null,Zt=null;switch(wt){case"organization":it=_[1],Zt=_[2];break;case"repository":it=`${_[1]}/${_[2]}`,Zt=_[3];break;default:}it&&Zt&&q(ot(it,Zt));return}}let W;for(let Y=0,ct=g.length;Y<ct;Y++)if(W=C.match(g[Y]),W){q(nt(W[1],W[2]));return}}i(b,"logPageView");function A(C){const I=Object.keys(C);if(I.length<=w)return C;const _=D(C),W=I.sort((Y,ct)=>_(ct)-_(Y)).slice(0,w/2);return Object.fromEntries(W.map(Y=>[Y,C[Y]]))}i(A,"limitedPageViews");function q(C){const I=Ct(),_=O(),W=I[C]||{lastVisitedAt:_,visitCount:0};W.visitCount+=1,W.lastVisitedAt=_,I[C]=W,dt(A(I))}i(q,"logPageViewByKey");function O(){return Math.floor(Date.now()/1e3)}i(O,"currentEpochTimeInSeconds");function $(C,I){return`team:${C}/${I}`}i($,"buildTeamKey");function nt(C,I){return`repository:${C}/${I}`}i(nt,"buildRepositoryKey");function ot(C,I){return`project:${C}/${I}`}i(ot,"buildProjectKey");const ht=/^(team|repository|project):[^/]+\/[^/]+(\/([^/]+))?$/,pt="jump_to:page_views";function dt(C){K(pt,JSON.stringify(C))}i(dt,"setPageViewsMap");function Ct(){const C=G(pt);if(!C)return{};let I;try{I=JSON.parse(C)}catch{return dt({}),{}}const _={};for(const W in I)W.match(ht)&&(_[W]=I[W]);return _}i(Ct,"getPageViewsMap");function K(C,I){try{window.localStorage.setItem(C,I)}catch{}}i(K,"setItem");function G(C){try{return window.localStorage.getItem(C)}catch{return null}}i(G,"getItem")},81988:(N,x,u)=>{"use strict";u.d(x,{a:()=>L});function L(y,m){const h=y.closest("[data-notification-id]");m.hasAttribute("data-status")&&T(h,m.getAttribute("data-status")),m.hasAttribute("data-subscription-status")&&D(h,m.getAttribute("data-subscription-status")),m.hasAttribute("data-starred-status")&&M(h,m.getAttribute("data-starred-status"))}i(L,"updateNotificationStates");function T(y,m){y.classList.toggle("notification-archived",m==="archived"),y.classList.toggle("notification-unread",m==="unread"),y.classList.toggle("notification-read",m==="read")}i(T,"toggleNotificationStatus");function D(y,m){y.classList.toggle("notification-unsubscribed",m==="unsubscribed")}i(D,"toggleNotificationSubscriptionStatus");function M(y,m){y.classList.toggle("notification-starred",m==="starred")}i(M,"toggleNotificationStarredStatus")},62783:(N,x,u)=>{"use strict";u.d(x,{X:()=>T});var L=u(30762);function T(){return/Windows/.test(navigator.userAgent)?"windows":/Macintosh/.test(navigator.userAgent)?"mac":null}i(T,"getPlatform");function D(M){const y=(M.getAttribute("data-platforms")||"").split(","),m=T();return Boolean(m&&y.includes(m))}i(D,"runningOnPlatform"),(0,L.N7)(".js-remove-unless-platform",function(M){D(M)||M.remove()})},33420:(N,x,u)=>{"use strict";u.d(x,{LS:()=>D,cl:()=>M,rV:()=>T});var L=u(46621);const{getItem:T,setItem:D,removeItem:M}=(0,L.Z)("sessionStorage")},64290:(N,x,u)=>{"use strict";u.d(x,{kc:()=>M,lA:()=>y,zT:()=>D});var L=u(30330),T=u(47006);function D(m){const h=m.ownerDocument;setTimeout(()=>{h&&h.defaultView&&(m.scrollIntoView(),h.defaultView.scrollBy(0,-y(h)))},0)}i(D,"scrollIntoView");function M(m){const h=(0,L.Kt)(m);h&&D(h)}i(M,"scrollToFragmentTarget");function y(m){(0,T.H)();const h=m.querySelectorAll(".js-sticky-offset-scroll"),g=m.querySelectorAll(".js-position-sticky"),E=Math.max(0,...Array.from(h).map(A=>{const{top:q,height:O}=A.getBoundingClientRect();return q===0?O:0}))+Math.max(0,...Array.from(g).map(A=>{const{top:q,height:O}=A.getBoundingClientRect(),$=parseInt(getComputedStyle(A).top);if(!A.parentElement)return 0;const nt=A.parentElement.getBoundingClientRect().top;return q===$&&nt<0?O:0})),w=m.querySelectorAll(".js-position-sticky-stacked"),b=Array.from(w).reduce((A,q)=>{const{height:O,top:$}=q.getBoundingClientRect(),nt=$<0,ot=q.classList.contains("is-stuck");return A+(!nt&&ot?O:0)},0);return E+b}i(y,"computeFixedYOffset")},14089:(N,x,u)=>{"use strict";u.d(x,{Z:()=>w});var L=u(96757),T=u(93507),D=u(66789),M=u(37083);let y=!1;function m(b){const A=new URL(b,window.location.origin),q=new URLSearchParams(A.search.slice(1));return q.set("webauthn-support",(0,M.T)()),A.search=q.toString(),A.toString()}i(m,"urlWithParams");async function h(){const b=document.querySelector("link[rel=sudo-modal]"),A=document.querySelector(".js-sudo-prompt");if(A instanceof HTMLTemplateElement)return A;if(b){const q=await(0,T.a)(document,m(b.href));return document.body.appendChild(q),document.querySelector(".js-sudo-prompt")}else throw new Error("couldn't load sudo prompt")}i(h,"loadPromptTemplate");let g=!1;async function E(){if(y)return!1;y=!0,g=!1;const A=(await h()).content.cloneNode(!0),q=await(0,L.W)({content:A});return await new Promise(O=>{q.addEventListener("dialog:remove",function(){y=!1,O()},{once:!0})}),g}i(E,"sudoPrompt"),(0,D.AC)(".js-sudo-form",async function(b,A){try{await A.text()}catch(q){if(!q.response)throw q;let O;switch(q.response.status){case 401:O="Incorrect password.";break;case 429:O="Too many password attempts. Please wait and try again later.";break;default:O="Failed to receive a response. Please try again later."}b.querySelector(".js-sudo-error").textContent=O,b.querySelector(".js-sudo-error").hidden=!1,b.querySelector(".js-sudo-password").value="";return}g=!0,b.closest("details").removeAttribute("open")});async function w(){const b=await fetch("/sessions/in_sudo",{headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}});return b.ok&&await b.text()==="true"?!0:E()}i(w,"triggerSudoPrompt")},83461:(N,x,u)=>{"use strict";u.d(x,{Om:()=>M,lp:()=>T,rq:()=>L,t4:()=>D});function L(m){const h="\u200D",g=m.split(h);let E=0;for(const w of g)E+=Array.from(w.split(/[\ufe00-\ufe0f]/).join("")).length;return E/g.length}i(L,"getUtf8StringLength");function T(m,h,g){let E=m.value.substring(0,m.selectionEnd||0),w=m.value.substring(m.selectionEnd||0);return E=E.replace(h,g),w=w.replace(h,g),y(m,E+w,E.length),g}i(T,"replaceText");function D(m,h,g){if(m.selectionStart===null||m.selectionEnd===null)return T(m,h,g);const E=m.value.substring(0,m.selectionStart),w=m.value.substring(m.selectionEnd);return y(m,E+g+w,E.length),g}i(D,"replaceSelection");function M(m,h,g={}){const E=m.selectionEnd||0,w=m.value.substring(0,E),b=m.value.substring(E),A=m.value===""||w.match(/\n$/)?"":`
`,q=g.appendNewline?`
`:"",O=A+h+q;m.value=w+O+b;const $=E+O.length;return m.selectionStart=$,m.selectionEnd=$,m.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),m.focus(),O}i(M,"insertText");function y(m,h,g){m.value=h,m.selectionStart=g,m.selectionEnd=g,m.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1}))}i(y,"setTextareaValueAndCursor")},37083:(N,x,u)=>{"use strict";u.d(x,{T:()=>T,k:()=>D});var L=u(94745);function T(){return(0,L.Zh)()?"supported":"unsupported"}i(T,"webauthnSupportLevel");async function D(){var M;return await((M=window.PublicKeyCredential)==null?void 0:M.isUserVerifyingPlatformAuthenticatorAvailable())?"supported":"unsupported"}i(D,"iuvpaaSupportLevel")}},N=>{var x=i(L=>N(N.s=L),"__webpack_exec__");N.O(0,[762,8933,52,7105,2308,9048,9758,2662,9579,1201,9508,7595],()=>x(23322));var u=N.O()}]);})();

//# sourceMappingURL=behaviors-ed844f4358f3.js.map